import{j as e}from"./ui-D1w9Iw8H.js";import{r as v}from"./recharts-Dld1lWsf.js";import{A as L}from"./app-layout-GRHM24by.js";import{K as P,m as k,L as B,S as g,t as f}from"./app-lidnuZeh.js";import{T as l}from"./index-CtBsO7PD.js";import{B as n}from"./button-BntSAybs.js";import{I as N}from"./input-CYKIjOQn.js";import{L as m}from"./label-BbeNXW0L.js";import{S as R,a as U,b as G,c as T,d as y}from"./select-Cexm_mQK.js";import{C as b,a as S,b as C,c as I}from"./card-ujb193xZ.js";import{A as q}from"./arrow-left-DzZwtVMy.js";import{X as z}from"./x-CNM1Dv5p.js";import{S as H}from"./save-D2JXrE1-.js";import"./react-B1hewrmX.js";import"./utils-B66yfQja.js";import"./tooltip-CQHbb0yU.js";import"./check-CkciTNW-.js";import"./createLucideIcon-CR-66RMC.js";import"./index-CWijjM2R.js";import"./index-cS_AKGRi.js";import"./index-DrdTBqzy.js";import"./chevrons-up-down-BF_I81uV.js";import"./circle-check-big-DZU7S_eA.js";import"./format-B6Rb66cG.js";function he(){const{nameDevice:t}=P().props,{data:r,setData:i,post:w,processing:d,errors:a}=k({name:t.name,status:t.status,image:null,_method:"PUT"}),[o,x]=v.useState(t.image?`/storage/${t.image}`:null),[K,h]=v.useState(!1),E=s=>{var u;const c=(u=s.target.files)==null?void 0:u[0];if(c){i("image",c),h(!1);const p=new FileReader;p.onload=F=>{var j;x((j=F.target)==null?void 0:j.result)},p.readAsDataURL(c)}},A=()=>{i("image",null),x(null),h(!0);const s=document.getElementById("image");s&&(s.value="")},D=s=>{s.preventDefault(),w(l("name-devices.update",t.id),{forceFormData:!0,onSuccess:()=>{f.success("Device name updated successfully"),g.get(l("name-devices.index"))},onError:()=>{f.error("Error updating device name")}})};return e.jsxs(L,{children:[e.jsx(B,{title:`Edit ${t.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(n,{variant:"outline",onClick:()=>g.get(l("name-devices.index")),className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Device Name"}),e.jsxs("p",{className:"text-muted-foreground",children:['Update "',t.name,'" information']})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(b,{children:[e.jsx(S,{children:e.jsx(C,{children:"Device Information"})}),e.jsx(I,{className:"space-y-6",children:e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"name",children:"Name *"}),e.jsx(N,{id:"name",type:"text",value:r.name,onChange:s=>i("name",s.target.value),placeholder:"Enter device name",className:a.name?"border-destructive":""}),a.name&&e.jsx("p",{className:"text-sm text-destructive",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"status",children:"Status *"}),e.jsxs(R,{value:r.status,onValueChange:s=>i("status",s),children:[e.jsx(U,{children:e.jsx(G,{placeholder:"Select status"})}),e.jsxs(T,{children:[e.jsx(y,{value:"active",children:"Active"}),e.jsx(y,{value:"inactive",children:"Inactive"})]})]}),a.status&&e.jsx("p",{className:"text-sm text-destructive",children:a.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"image",children:"Image"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(N,{id:"image",type:"file",accept:"image/*",onChange:E,className:a.image?"border-destructive":""}),a.image&&e.jsx("p",{className:"text-sm text-destructive",children:a.image}),o&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r.image?"New image preview:":"Current image:"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:o,alt:"Preview",className:"w-32 h-32 rounded-lg object-cover border"}),e.jsx(n,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:A,children:e.jsx(z,{className:"h-3 w-3"})})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx(n,{type:"submit",disabled:d,children:d?e.jsx(e.Fragment,{children:"Processing..."}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Update Device Name"]})})})]})})]})}),e.jsx("div",{children:e.jsxs(b,{children:[e.jsx(S,{children:e.jsx(C,{children:"Guidelines"})}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Naming Convention"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Use descriptive names"}),e.jsx("li",{children:"• Avoid special characters"}),e.jsx("li",{children:"• Keep it concise"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Image Requirements"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Max size: 2MB"}),e.jsx("li",{children:"• Formats: JPG, PNG, GIF, WEBP"}),e.jsx("li",{children:"• Recommended: Square images"}),e.jsx("li",{children:"• Leave empty to keep current"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Status"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Active: Available for selection"}),e.jsx("li",{children:"• Inactive: Hidden from selection"})]})]})]})]})})]})]})]})}export{he as default};
