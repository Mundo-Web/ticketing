import{j as e}from"./ui-B_LlBPKL.js";import{r as m}from"./recharts-C_88tpBl.js";import{A as L}from"./app-layout-Dl_2JLwh.js";import{L as k,t as a}from"./app-BHqtn3Wb.js";import{C as d,b as x,c as u,a as h}from"./card-D2PMvY5E.js";import{B as r}from"./button-D7WChgOL.js";import{R as S}from"./refresh-cw-DkX1lbet.js";import{P as R}from"./play-B6f8xoDn.js";import{M as v}from"./monitor-DC-EX0Dh.js";import{W as F}from"./wifi-CRwhCiWI.js";import{D as _}from"./database-GGi-pq_Z.js";import{T as $}from"./triangle-alert-CwQCDSSb.js";import{A as O}from"./activity-DYMUuslV.js";import{C as I}from"./clock-C9AFtO6q.js";import{b as E}from"./x-DCQyXNSS.js";import{C as M}from"./circle-check-big-kRE2lEsQ.js";import"./react-B1hewrmX.js";import"./utils-BJRzUxt3.js";import"./tooltip-CZNM2GAl.js";import"./chevron-up-RfB0QmaY.js";import"./createLucideIcon-BiVfa5Ur.js";import"./dropdown-menu-DMNoBHsR.js";import"./check-ei1vhWUY.js";import"./index-BwDU8Ijz.js";import"./index-D4fRSykC.js";import"./index-Cno2KWhz.js";import"./chevrons-up-down-DyCAeWvF.js";function xe(){const[i,g]=m.useState({status:"pending",message:"Not tested yet"}),[n,p]=m.useState({status:"pending",message:"Not tested yet"}),[c,j]=m.useState({status:"pending",message:"Not tested yet"}),[o,f]=m.useState({status:"pending",message:"Not tested yet"}),[l,y]=m.useState(!1),w=async()=>{g({status:"pending",message:"Testing connection..."});try{const t=await(await fetch("/api/ninjaone/test-connection",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();t.status==="success"?(g({status:"success",message:`✅ Connected successfully! Found ${t.device_count} devices`,data:t,timestamp:new Date().toLocaleTimeString()}),a.success("NinjaOne connection successful!")):(g({status:"error",message:`❌ Connection failed: ${t.message}`,timestamp:new Date().toLocaleTimeString()}),a.error("Connection failed"))}catch(s){console.error("Connection test error:",s),g({status:"error",message:"❌ Network error or service unavailable",timestamp:new Date().toLocaleTimeString()}),a.error("Network error")}},T=async()=>{p({status:"pending",message:"Fetching devices..."});try{const t=await(await fetch("/api/ninjaone/demo/device-count",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();t.status==="success"?(p({status:"success",message:`✅ Retrieved ${t.device_count} devices (${t.online_count} online, ${t.offline_count} offline)`,data:{device_count:t.device_count},timestamp:new Date().toLocaleTimeString()}),a.success("Device retrieval successful!")):(p({status:"error",message:`❌ Failed to retrieve devices: ${t.message}`,timestamp:new Date().toLocaleTimeString()}),a.error("Device retrieval failed"))}catch(s){console.error("Device retrieval error:",s),p({status:"error",message:"❌ Error retrieving devices",timestamp:new Date().toLocaleTimeString()}),a.error("Device retrieval error")}},C=async()=>{j({status:"pending",message:"Testing alert system..."});try{const t=await(await fetch("/api/ninjaone/demo/alerts-count",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})).json();t.status==="success"?(j({status:"success",message:`✅ Alert system working! Found ${t.total_alerts} total alerts across ${t.devices_with_alerts} devices`,data:{alert_count:t.total_alerts},timestamp:new Date().toLocaleTimeString()}),a.success("Alert system test successful!")):(j({status:"error",message:`❌ Alert system test failed: ${t.message}`,timestamp:new Date().toLocaleTimeString()}),a.error("Alert system test failed"))}catch(s){console.error("Alert system error:",s),j({status:"error",message:"❌ Error testing alert system",timestamp:new Date().toLocaleTimeString()}),a.error("Alert system test error")}},D=async()=>{f({status:"pending",message:"Testing device synchronization..."});try{f({status:"success",message:"✅ Device sync functionality is ready",timestamp:new Date().toLocaleTimeString()})}catch{f({status:"error",message:"❌ Sync test failed",timestamp:new Date().toLocaleTimeString()})}},A=async()=>{y(!0),a.info("Running full NinjaOne integration test..."),await w(),await new Promise(s=>setTimeout(s,1e3)),await T(),await new Promise(s=>setTimeout(s,1e3)),await C(),await new Promise(s=>setTimeout(s,1e3)),await D(),y(!1),a.success("Full integration test completed!")},N=s=>{switch(s){case"success":return e.jsx(M,{className:"w-5 h-5 text-green-600"});case"error":return e.jsx(E,{className:"w-5 h-5 text-red-600"});case"pending":return e.jsx(I,{className:"w-5 h-5 text-gray-400"});default:return e.jsx(v,{className:"w-5 h-5 text-gray-400"})}},b=s=>{switch(s){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"pending":return"bg-gray-50 border-gray-200";default:return"bg-gray-50 border-gray-200"}};return e.jsxs(L,{children:[e.jsx(k,{title:"NinjaOne Integration Demo"}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🚀 NinjaOne Integration Demo"}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Demonstrating successful connection and integration with NinjaOne RMM platform"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(r,{onClick:A,disabled:l,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-5 h-5 mr-2 animate-spin"}),"Running Tests..."]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-5 h-5 mr-2"}),"Run Full Test Suite"]})}),e.jsxs(r,{onClick:()=>window.location.href="/ninjaone/devices",variant:"outline",className:"px-8 py-3 text-lg",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),"View Live Dashboard"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{className:`${b(i.status)} transition-all duration-300`,children:[e.jsx(x,{children:e.jsxs(u,{className:"flex items-center gap-3",children:[N(i.status),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"1. API Connection Test"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal",children:"Testing basic connectivity to NinjaOne API"})]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:i.message}),i.timestamp&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last tested: ",i.timestamp]}),i.data&&e.jsx("div",{className:"bg-white p-3 rounded border",children:e.jsxs("p",{className:"text-sm font-medium",children:["Found ",i.data.device_count," devices"]})}),e.jsxs(r,{onClick:w,variant:"outline",size:"sm",disabled:l,children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Test Now"]})]})})]}),e.jsxs(d,{className:`${b(n.status)} transition-all duration-300`,children:[e.jsx(x,{children:e.jsxs(u,{className:"flex items-center gap-3",children:[N(n.status),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"2. Device Data Retrieval"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal",children:"Fetching comprehensive device information"})]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:n.message}),n.timestamp&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last tested: ",n.timestamp]}),n.data&&e.jsx("div",{className:"bg-white p-3 rounded border",children:e.jsxs("p",{className:"text-sm font-medium",children:["Retrieved data for ",n.data.device_count," devices"]})}),e.jsxs(r,{onClick:T,variant:"outline",size:"sm",disabled:l,children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Test Now"]})]})})]}),e.jsxs(d,{className:`${b(c.status)} transition-all duration-300`,children:[e.jsx(x,{children:e.jsxs(u,{className:"flex items-center gap-3",children:[N(c.status),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"3. Alert & Monitoring System"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal",children:"Testing device health monitoring and alerts"})]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:c.message}),c.timestamp&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last tested: ",c.timestamp]}),c.data&&e.jsx("div",{className:"bg-white p-3 rounded border",children:e.jsxs("p",{className:"text-sm font-medium",children:["Alert system processing ",c.data.alert_count," alerts"]})}),e.jsxs(r,{onClick:C,variant:"outline",size:"sm",disabled:l,children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Test Now"]})]})})]}),e.jsxs(d,{className:`${b(o.status)} transition-all duration-300`,children:[e.jsx(x,{children:e.jsxs(u,{className:"flex items-center gap-3",children:[N(o.status),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"4. Device Synchronization"}),e.jsx("p",{className:"text-sm text-gray-600 font-normal",children:"Testing local database sync with NinjaOne"})]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm",children:o.message}),o.timestamp&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last tested: ",o.timestamp]}),e.jsxs(r,{onClick:D,variant:"outline",size:"sm",disabled:l,children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Test Now"]})]})})]})]}),e.jsxs(d,{className:"bg-blue-50 border-blue-200",children:[e.jsx(x,{children:e.jsxs(u,{className:"flex items-center gap-3 text-blue-900",children:[e.jsx(O,{className:"w-6 h-6"}),"Integration Features Successfully Implemented"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"✅ Real-time Device Monitoring"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Live status tracking for all connected devices"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"✅ Health Status Alerts"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Automatic notifications for device issues"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"✅ Ticket Integration"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Create support tickets directly from alerts"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"✅ Device Synchronization"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Bi-directional sync with local database"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"✅ Multi-tenant Support"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Secure access control for multiple tenants"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"✅ Comprehensive Dashboard"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Visual overview of all NinjaOne devices"})]})]})})]}),e.jsxs("div",{className:"text-center bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🎉 NinjaOne Integration is Live!"}),e.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Your ticketing system is now fully integrated with NinjaOne RMM platform. Experience real-time device monitoring and automated alert management."}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(r,{onClick:()=>window.location.href="/ninjaone/devices",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),"Explore Device Dashboard"]}),e.jsx(r,{onClick:()=>window.location.href="/tickets",variant:"outline",className:"px-8 py-3",children:"View Tickets"})]})]})]})]})}export{xe as default};
