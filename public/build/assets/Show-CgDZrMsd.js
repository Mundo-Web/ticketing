import{j as e}from"./ui--9QRf85z.js";import{L as N}from"./app-Ddc_1Z3F.js";import{A as f}from"./app-layout-Cxcr8JVt.js";import{C as r,a as c,b as i,c as t}from"./card-DuB4YgHF.js";import{B as n}from"./badge-CTYXlqUe.js";import{C as h,a as y}from"./circle-check-big-DKZvEq1H.js";import{C as b}from"./clock-rsHRdq3d.js";import{M as p}from"./map-pin-B6MGBFhT.js";import{U as m}from"./user-B9S7Zak9.js";import{R as v}from"./rotate-ccw-Pe8vli6_.js";import{C}from"./x-Dwbvy68c.js";import{C as w}from"./circle-play-Dthy1u5D.js";import{S as k}from"./star-Bpo0FjGK.js";import"./recharts-B16uQ_Zp.js";import"./react-B1hewrmX.js";import"./index--i9LXxpm.js";import"./utils-DvwAYYBZ.js";import"./tooltip-Dm-vk6MS.js";import"./check-C_IBZmq_.js";import"./createLucideIcon-BBA9I-xQ.js";import"./index-BDFBH7XS.js";import"./index-BsIecJEN.js";import"./index-Df3HipqK.js";import"./chevrons-up-down-DaqTssCh.js";const o={scheduled:{label:"Programada",color:"bg-blue-100 text-blue-800",icon:h},in_progress:{label:"En Progreso",color:"bg-yellow-100 text-yellow-800",icon:w},completed:{label:"Completada",color:"bg-green-100 text-green-800",icon:y},cancelled:{label:"Cancelada",color:"bg-red-100 text-red-800",icon:C},rescheduled:{label:"Reagendada",color:"bg-gray-100 text-gray-800",icon:v}};function Q({appointment:s}){var x;const d=a=>new Date(a).toLocaleString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=a=>{const l=o[a]||o.scheduled,u=l.icon;return e.jsxs(n,{className:`${l.color} border-0`,children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),l.label]})},g=a=>e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(l=>e.jsx(k,{className:`w-5 h-5 ${l<=a?"text-yellow-500 fill-current":"text-gray-300"}`},l)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",a,"/5)"]})]});return e.jsxs(f,{breadcrumbs:[{title:"Calendar",href:"/appointments"},{title:`Cita #${s.id}`,href:"#"}],children:[e.jsx(N,{title:`Appointment #${s.id}`}),e.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.title}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Cita ID #",s.id]})]}),j(s.status)]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(i,{children:"Información de la Cita"})}),e.jsxs(t,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Fecha y Hora"}),e.jsx("p",{className:"font-medium",children:d(s.scheduled_for)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Duración Estimada"}),e.jsxs("p",{className:"font-medium",children:[s.estimated_duration," minutos"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 md:col-span-2",children:[e.jsx(p,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Dirección"}),e.jsx("p",{className:"font-medium",children:s.address})]})]})]}),s.description&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Descripción"}),e.jsx("p",{className:"text-gray-800",children:s.description})]}),s.member_instructions&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Instrucciones para el Usuario"}),e.jsx("p",{className:"text-blue-700",children:s.member_instructions})]}),s.notes&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Notas Internas"}),e.jsx("p",{className:"text-gray-700",children:s.notes})]})]})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(i,{children:"Cronología"})}),e.jsx(t,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Cita Programada"}),e.jsx("p",{className:"text-sm text-gray-600",children:d(s.scheduled_for)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Programada por ",s.scheduledBy.name]})]})]}),s.started_at&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Visita Iniciada"}),e.jsx("p",{className:"text-sm text-gray-600",children:d(s.started_at)})]})]}),s.completed_at&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Visita Completada"}),e.jsx("p",{className:"text-sm text-gray-600",children:d(s.completed_at)})]})]})]})})]}),s.status==="completed"&&e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(i,{children:"Detalles de Finalización"})}),e.jsxs(t,{className:"space-y-4",children:[s.completion_notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Notas de Finalización"}),e.jsx("p",{className:"text-gray-700 p-3 bg-green-50 rounded-lg",children:s.completion_notes})]}),((x=s.member_feedback)==null?void 0:x.comment)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Comentarios del Usuario"}),e.jsx("p",{className:"text-gray-700 p-3 bg-blue-50 rounded-lg",children:s.member_feedback.comment})]}),s.rating&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Calificación del Servicio"}),g(s.rating)]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(i,{className:"text-lg",children:"Ticket Relacionado"})}),e.jsx(t,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Código"}),e.jsxs("p",{className:"font-medium",children:["#",s.ticket.code]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Título"}),e.jsx("p",{className:"font-medium",children:s.ticket.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),e.jsx(n,{variant:"outline",className:"mt-1",children:s.ticket.status})]}),e.jsx("button",{onClick:()=>window.location.href=`/tickets?ticket=${s.ticket.id}`,className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Ver Ticket"})]})})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(i,{className:"text-lg",children:"Personas Involucradas"})}),e.jsxs(t,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Técnico Asignado"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.technical.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.technical.email})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Usuario"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.ticket.user.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.ticket.user.email})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Programada por"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.scheduledBy.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.scheduledBy.email})]})]})]})]})]})]})]})]})]})}export{Q as default};
