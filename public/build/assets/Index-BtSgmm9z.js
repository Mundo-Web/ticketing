import{j as g}from"./ui--9QRf85z.js";import{k as kl,_ as be,g as $a,U as y,l as Ol,m as Ii,n as Nl,r as U,R as Hi,o as P,p as Tl,q as Rl,s as Cl,u as Pl,v as Al,w as Yl,x as $l,y as Wl,z as Ll,B as Fl,D as jl,E as Il,F as Hl,G as Ul,H as zl,I as Vl,J as Bl,K as Gl,M as ql,N as Kl,O as Xl}from"./recharts-B16uQ_Zp.js";import{K as Zl,L as Jl,S as Ql,t as Zr}from"./app-LuucuMfD.js";import{A as ec}from"./app-layout-D2KAFJWS.js";import{C as Jr,a as Qr,b as en,c as tn}from"./card-DuB4YgHF.js";import{B as Te}from"./button-3fVzTxZH.js";import{B as Is}from"./badge-CTYXlqUe.js";import{D as Hs,a as Us,b as zs,c as Vs,e as tc}from"./dialog-Gizu_HUr.js";import{b as rc,a as Bs,_ as nc,l as ac,n as sc,o as ic,p as oc,i as xe,h as ke,d as Ie,k as Se,g as rt,e as le,f as Vt,j as un,c as Wa,m as Ui}from"./memoize-one.esm-C_vqz2--.js";import{g as sr}from"./react-B1hewrmX.js";import{C as Bt,a as lc}from"./circle-check-big-DKZvEq1H.js";import{U as ga}from"./user-B9S7Zak9.js";import{R as cc}from"./rotate-ccw-Pe8vli6_.js";import{C as uc,b as dc}from"./x-Dwbvy68c.js";import{C as dn}from"./circle-play-Dthy1u5D.js";import{C as fc}from"./chevron-left-BEER2g75.js";import{M as rn}from"./map-pin-B6MGBFhT.js";import"./index--i9LXxpm.js";import"./utils-DvwAYYBZ.js";import"./tooltip-Dm-vk6MS.js";import"./check-C_IBZmq_.js";import"./createLucideIcon-BBA9I-xQ.js";import"./index-BDFBH7XS.js";import"./index-BsIecJEN.js";import"./index-Df3HipqK.js";import"./chevrons-up-down-DaqTssCh.js";function Oe(e,t,r){return t=Bs(t),rc(e,nc()?Reflect.construct(t,r||[],Bs(e).constructor):t.apply(e,r))}function zi(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=zi(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function pe(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=zi(e))&&(n&&(n+=" "),n+=t);return n}var ea,Gs;function hc(){if(Gs)return ea;Gs=1;var e=function(t,r,n,a,s,i,o,l){if(!t){var c;if(r===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,s,i,o,l],f=0;c=new Error(r.replace(/%s/g,function(){return u[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return ea=e,ea}var mc=hc();const Sr=sr(mc);var vc=function(){};function pc(e,t){var r={};return Object.keys(e).forEach(function(n){r[fn(n)]=vc}),r}function qs(e,t){return e[t]!==void 0}function fn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function gc(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function Vi(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Bi(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function Gi(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Vi.__suppressDeprecationWarning=!0;Bi.__suppressDeprecationWarning=!0;Gi.__suppressDeprecationWarning=!0;function yc(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var s=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Vi,t.componentWillReceiveProps=Bi),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Gi;var o=t.componentDidUpdate;t.componentDidUpdate=function(c,u,f){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,c,u,d)}}return e}var wc="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function qi(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=gc(e),s=Object.keys(t),i=s.map(fn);a||!r.length||Sr(!1);var o=function(c){kl(u,c);function u(){for(var d,h=arguments.length,v=new Array(h),m=0;m<h;m++)v[m]=arguments[m];d=c.call.apply(c,[this].concat(v))||this,d.handlers=Object.create(null),s.forEach(function(b){var w=t[b],_=function(x){if(d.props[w]){var M;d._notifying=!0;for(var k=arguments.length,R=new Array(k>1?k-1:0),O=1;O<k;O++)R[O-1]=arguments[O];(M=d.props)[w].apply(M,[x].concat(R)),d._notifying=!1}d.unmounted||d.setState(function(Y){var W,H=Y.values;return{values:be(Object.create(null),H,(W={},W[b]=x,W))}})};d.handlers[w]=_}),r.length&&(d.attachRef=function(b){d.inner=b});var p=Object.create(null);return s.forEach(function(b){p[b]=d.props[fn(b)]}),d.state={values:p,prevProps:{}},d}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(h,v){var m=v.values,p=v.prevProps,b={values:be(Object.create(null),m),prevProps:{}};return s.forEach(function(w){b.prevProps[w]=h[w],!qs(h,w)&&qs(p,w)&&(b.values[w]=h[fn(w)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,v=this.props,m=v.innerRef,p=$a(v,["innerRef"]);i.forEach(function(w){delete p[w]});var b={};return s.forEach(function(w){var _=h.props[w];b[w]=_!==void 0?_:h.state.values[w]}),y.createElement(e,be({},p,b,this.handlers,{ref:m||this.attachRef}))},u}(y.Component);yc(o),o.displayName="Uncontrolled("+n+")",o.propTypes=be({innerRef:function(){}},pc(t)),r.forEach(function(c){o.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=o;return y.forwardRef&&(l=y.forwardRef(function(c,u){return y.createElement(o,be({},c,{innerRef:u,__source:{fileName:wc,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=e,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),qi(c,be({},t,u),f)},l}var En="milliseconds",_r="seconds",Mr="minutes",Er="hours",Yt="day",Qt="week",kr="month",$t="year",Wt="decade",Lt="century",Ki={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},bc={month:1,year:12,decade:10*12,century:100*12};function Dc(e){return[31,xc(e),31,30,31,30,31,31,30,31,30,31]}function xc(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ge(e,t,r){switch(e=new Date(e),r){case En:case _r:case Mr:case Er:case Yt:case Qt:return Sc(e,t*Ki[r]);case kr:case $t:case Wt:case Lt:return _c(e,t*bc[r])}throw new TypeError('Invalid units: "'+r+'"')}function Sc(e,t){var r=new Date(+e+t);return Mc(e,r)}function _c(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),s=r*12+n+t,i=Math.trunc(s/12),o=s%12,l=Math.min(a,Dc(i)[o]),c=new Date(e);return c.setFullYear(i),c.setDate(1),c.setMonth(o),c.setDate(l),c}function Mc(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*Ki.minutes)}function Or(e,t,r){return Ge(e,-t,r)}function _e(e,t,r){switch(e=new Date(e),t){case Lt:case Wt:case $t:e=On(e,0);case kr:e=eo(e,1);case Qt:case Yt:e=Rr(e,0);case Er:e=er(e,0);case Mr:e=Tr(e,0);case _r:e=Nr(e,0)}return t===Wt&&(e=Or(e,Ft(e)%10,"year")),t===Lt&&(e=Or(e,Ft(e)%100,"year")),t===Qt&&(e=to(e,0,r)),e}function kn(e,t,r){switch(e=new Date(e),e=_e(e,t,r),t){case Lt:case Wt:case $t:case kr:case Qt:e=Ge(e,1,t),e=Or(e,1,Yt),e.setHours(23,59,59,999);break;case Yt:e.setHours(23,59,59,999);break;case Er:case Mr:case _r:e=Ge(e,1,t),e=Or(e,1,En)}return e}var Ir=or(function(e,t){return e===t}),La=or(function(e,t){return e!==t}),$n=or(function(e,t){return e>t}),Hr=or(function(e,t){return e>=t}),Fa=or(function(e,t){return e<t}),ir=or(function(e,t){return e<=t});function Xi(){return new Date(Math.min.apply(Math,arguments))}function Zi(){return new Date(Math.max.apply(Math,arguments))}function Ji(e,t,r,n){return n=n||"day",(!t||Hr(e,t,n))&&(!r||ir(e,r,n))}var Nr=kt("Milliseconds"),Tr=kt("Seconds"),er=kt("Minutes"),Rr=kt("Hours"),Qi=kt("Day"),eo=kt("Date"),On=kt("Month"),Ft=kt("FullYear");function Ec(e,t){return t===void 0?Ft(_e(e,Wt)):Ge(e,t+10,$t)}function kc(e,t){return t===void 0?Ft(_e(e,Lt)):Ge(e,t+100,$t)}function to(e,t,r){var n=(Qi(e)+7-(r||0))%7;return t===void 0?n:Ge(e,t-n,Yt)}function Oc(e,t,r,n){var a,s,i;switch(r){case En:case _r:case Mr:case Er:case Yt:case Qt:a=t.getTime()-e.getTime();break;case kr:case $t:case Wt:case Lt:a=(Ft(t)-Ft(e))*12+On(t)-On(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case En:s=1;break;case _r:s=1e3;break;case Mr:s=1e3*60;break;case Er:s=1e3*60*60;break;case Yt:s=1e3*60*60*24;break;case Qt:s=1e3*60*60*24*7;break;case kr:s=1;break;case $t:s=12;break;case Wt:s=120;break;case Lt:s=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=a/s,n?i:Math.round(i)}function kt(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function or(e){return function(t,r,n){return e(+_e(t,n),+_e(r,n))}}const Ks=Object.freeze(Object.defineProperty({__proto__:null,add:Ge,century:kc,date:eo,day:Qi,decade:Ec,diff:Oc,endOf:kn,eq:Ir,gt:$n,gte:Hr,hours:Rr,inRange:Ji,lt:Fa,lte:ir,max:Zi,milliseconds:Nr,min:Xi,minutes:er,month:On,neq:La,seconds:Tr,startOf:_e,subtract:Or,weekday:to,year:Ft},Symbol.toStringTag,{value:"Module"}));var ta,Xs;function Nc(){if(Xs)return ta;Xs=1;var e=Ol(),t=Ii(),r=Nl(),n=Math.ceil,a=Math.max;function s(i,o,l){(l?t(i,o,l):o===void 0)?o=1:o=a(r(o),0);var c=i==null?0:i.length;if(!c||o<1)return[];for(var u=0,f=0,d=Array(n(c/o));u<c;)d[f++]=e(i,u,u+=o);return d}return ta=s,ta}var Tc=Nc();const Rc=sr(Tc);function Ur(e){return e&&e.ownerDocument||document}function Cc(e){var t=Ur(e);return t&&t.defaultView||window}function Pc(e,t){return Cc(e).getComputedStyle(e,t)}var Ac=/([A-Z])/g;function Yc(e){return e.replace(Ac,"-$1").toLowerCase()}var $c=/^ms-/;function nn(e){return Yc(e).replace($c,"-ms-")}var Wc=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Lc(e){return!!(e&&Wc.test(e))}function Gt(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(nn(t))||Pc(e).getPropertyValue(nn(t));Object.keys(t).forEach(function(a){var s=t[a];!s&&s!==0?e.style.removeProperty(nn(a)):Lc(a)?n+=a+"("+s+") ":r+=nn(a)+": "+s+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Cr(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Fc(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function ja(e){return"window"in e&&e.window===e?e:Fc(e)&&e.defaultView||!1}function ro(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var s=ja(n);if(a===void 0)return s?s[e]:n[t];s?s.scrollTo(s[e],a):n[t]=a}return r}const no=ro("pageXOffset"),ao=ro("pageYOffset");function Ct(e){var t=Ur(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Cr(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+ao(n)-(n.clientTop||0),left:r.left+no(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var jc=function(t){return!!t&&"offsetParent"in t};function Ic(e){for(var t=Ur(e),r=e&&e.offsetParent;jc(r)&&r.nodeName!=="HTML"&&Gt(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var Hc=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function so(e,t){var r={top:0,left:0},n;if(Gt(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||Ic(e);n=Ct(e),Hc(a)!=="html"&&(r=Ct(a));var s=String(Gt(a,"borderTopWidth")||0);r.top+=parseInt(s,10)-ao(a)||0;var i=String(Gt(a,"borderLeftWidth")||0);r.left+=parseInt(i,10)-no(a)||0}var o=String(Gt(e,"marginTop")||0),l=String(Gt(e,"marginLeft")||0);return be({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const Ia=!!(typeof window<"u"&&window.document&&window.document.createElement);var Zs=new Date().getTime();function Uc(e){var t=new Date().getTime(),r=Math.max(0,16-(t-Zs)),n=setTimeout(e,r);return Zs=t,n}var zc=["","webkit","moz","o","ms"],ya="clearTimeout",wa=Uc,Js=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Ia&&zc.some(function(e){var t=Js(e,"request");return t in window&&(ya=Js(e,"cancel"),wa=function(n){return window[t](n)}),!!wa});var Qs=function(t){typeof window[ya]=="function"&&window[ya](t)},io=wa,ra;function Vc(e,t){if(!ra){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;ra=function(s,i){return n.call(s,i)}}return ra(e,t)}var Bc=Function.prototype.bind.call(Function.prototype.call,[].slice);function Gc(e,t){return Bc(e.querySelectorAll(t))}var ba=!1,Da=!1;try{var na={get passive(){return ba=!0},get once(){return Da=ba=!0}};Ia&&(window.addEventListener("test",na,na),window.removeEventListener("test",na,!0))}catch{}function qc(e,t,r,n){if(n&&typeof n!="boolean"&&!Da){var a=n.once,s=n.capture,i=r;!Da&&a&&(i=r.__once||function o(l){this.removeEventListener(t,o,s),r.call(this,l)},r.__once=i),e.addEventListener(t,i,ba?n:s)}e.addEventListener(t,r,n)}function Kc(e){const t=U.useRef(e);return U.useEffect(()=>{t.current=e},[e]),t}function ei(e){const t=Kc(e);return U.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function ti(){return U.useState(null)}function Xc(){const e=U.useRef(!0),t=U.useRef(()=>e.current);return U.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Zc(e){const t=Xc();return[e[0],U.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Ce="top",He="bottom",Ue="right",Pe="left",Ha="auto",zr=[Ce,He,Ue,Pe],tr="start",Pr="end",Jc="clippingParents",oo="viewport",vr="popper",Qc="reference",ri=zr.reduce(function(e,t){return e.concat([t+"-"+tr,t+"-"+Pr])},[]),Ua=[].concat(zr,[Ha]).reduce(function(e,t){return e.concat([t,t+"-"+tr,t+"-"+Pr])},[]),eu="beforeRead",tu="read",ru="afterRead",nu="beforeMain",au="main",su="afterMain",iu="beforeWrite",ou="write",lu="afterWrite",cu=[eu,tu,ru,nu,au,su,iu,ou,lu];function et(e){return e.split("-")[0]}function $e(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function jt(e){var t=$e(e).Element;return e instanceof t||e instanceof Element}function tt(e){var t=$e(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function za(e){if(typeof ShadowRoot>"u")return!1;var t=$e(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Pt=Math.max,Nn=Math.min,rr=Math.round;function xa(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function lo(){return!/^((?!chrome|android).)*safari/i.test(xa())}function nr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,s=1;t&&tt(e)&&(a=e.offsetWidth>0&&rr(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&rr(n.height)/e.offsetHeight||1);var i=jt(e)?$e(e):window,o=i.visualViewport,l=!lo()&&r,c=(n.left+(l&&o?o.offsetLeft:0))/a,u=(n.top+(l&&o?o.offsetTop:0))/s,f=n.width/a,d=n.height/s;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function Va(e){var t=nr(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function co(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&za(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Mt(e){return e?(e.nodeName||"").toLowerCase():null}function vt(e){return $e(e).getComputedStyle(e)}function uu(e){return["table","td","th"].indexOf(Mt(e))>=0}function Ot(e){return((jt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wn(e){return Mt(e)==="html"?e:e.assignedSlot||e.parentNode||(za(e)?e.host:null)||Ot(e)}function ni(e){return!tt(e)||vt(e).position==="fixed"?null:e.offsetParent}function du(e){var t=/firefox/i.test(xa()),r=/Trident/i.test(xa());if(r&&tt(e)){var n=vt(e);if(n.position==="fixed")return null}var a=Wn(e);for(za(a)&&(a=a.host);tt(a)&&["html","body"].indexOf(Mt(a))<0;){var s=vt(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function Vr(e){for(var t=$e(e),r=ni(e);r&&uu(r)&&vt(r).position==="static";)r=ni(r);return r&&(Mt(r)==="html"||Mt(r)==="body"&&vt(r).position==="static")?t:r||du(e)||t}function Ba(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function br(e,t,r){return Pt(e,Nn(t,r))}function fu(e,t,r){var n=br(e,t,r);return n>r?r:n}function uo(){return{top:0,right:0,bottom:0,left:0}}function fo(e){return Object.assign({},uo(),e)}function ho(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var hu=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,fo(typeof t!="number"?t:ho(t,zr))};function mu(e){var t,r=e.state,n=e.name,a=e.options,s=r.elements.arrow,i=r.modifiersData.popperOffsets,o=et(r.placement),l=Ba(o),c=[Pe,Ue].indexOf(o)>=0,u=c?"height":"width";if(!(!s||!i)){var f=hu(a.padding,r),d=Va(s),h=l==="y"?Ce:Pe,v=l==="y"?He:Ue,m=r.rects.reference[u]+r.rects.reference[l]-i[l]-r.rects.popper[u],p=i[l]-r.rects.reference[l],b=Vr(s),w=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,_=m/2-p/2,D=f[h],x=w-d[u]-f[v],M=w/2-d[u]/2+_,k=br(D,M,x),R=l;r.modifiersData[n]=(t={},t[R]=k,t.centerOffset=k-M,t)}}function vu(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||co(t.elements.popper,a)&&(t.elements.arrow=a))}const pu={name:"arrow",enabled:!0,phase:"main",fn:mu,effect:vu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ar(e){return e.split("-")[1]}var gu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yu(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:rr(r*a)/a||0,y:rr(n*a)/a||0}}function ai(e){var t,r=e.popper,n=e.popperRect,a=e.placement,s=e.variation,i=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=i.x,h=d===void 0?0:d,v=i.y,m=v===void 0?0:v,p=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=p.x,m=p.y;var b=i.hasOwnProperty("x"),w=i.hasOwnProperty("y"),_=Pe,D=Ce,x=window;if(c){var M=Vr(r),k="clientHeight",R="clientWidth";if(M===$e(r)&&(M=Ot(r),vt(M).position!=="static"&&o==="absolute"&&(k="scrollHeight",R="scrollWidth")),M=M,a===Ce||(a===Pe||a===Ue)&&s===Pr){D=He;var O=f&&M===x&&x.visualViewport?x.visualViewport.height:M[k];m-=O-n.height,m*=l?1:-1}if(a===Pe||(a===Ce||a===He)&&s===Pr){_=Ue;var Y=f&&M===x&&x.visualViewport?x.visualViewport.width:M[R];h-=Y-n.width,h*=l?1:-1}}var W=Object.assign({position:o},c&&gu),H=u===!0?yu({x:h,y:m},$e(r)):{x:h,y:m};if(h=H.x,m=H.y,l){var C;return Object.assign({},W,(C={},C[D]=w?"0":"",C[_]=b?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",C))}return Object.assign({},W,(t={},t[D]=w?m+"px":"",t[_]=b?h+"px":"",t.transform="",t))}function wu(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,s=r.adaptive,i=s===void 0?!0:s,o=r.roundOffsets,l=o===void 0?!0:o,c={placement:et(t.placement),variation:ar(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ai(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ai(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const bu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wu,data:{}};var an={passive:!0};function Du(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,s=a===void 0?!0:a,i=n.resize,o=i===void 0?!0:i,l=$e(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",r.update,an)}),o&&l.addEventListener("resize",r.update,an),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",r.update,an)}),o&&l.removeEventListener("resize",r.update,an)}}const xu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Du,data:{}};var Su={left:"right",right:"left",bottom:"top",top:"bottom"};function hn(e){return e.replace(/left|right|bottom|top/g,function(t){return Su[t]})}var _u={start:"end",end:"start"};function si(e){return e.replace(/start|end/g,function(t){return _u[t]})}function Ga(e){var t=$e(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function qa(e){return nr(Ot(e)).left+Ga(e).scrollLeft}function Mu(e,t){var r=$e(e),n=Ot(e),a=r.visualViewport,s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;var c=lo();(c||!c&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o+qa(e),y:l}}function Eu(e){var t,r=Ot(e),n=Ga(e),a=(t=e.ownerDocument)==null?void 0:t.body,s=Pt(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Pt(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+qa(e),l=-n.scrollTop;return vt(a||r).direction==="rtl"&&(o+=Pt(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}function Ka(e){var t=vt(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function mo(e){return["html","body","#document"].indexOf(Mt(e))>=0?e.ownerDocument.body:tt(e)&&Ka(e)?e:mo(Wn(e))}function Dr(e,t){var r;t===void 0&&(t=[]);var n=mo(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=$e(n),i=a?[s].concat(s.visualViewport||[],Ka(n)?n:[]):n,o=t.concat(i);return a?o:o.concat(Dr(Wn(i)))}function Sa(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ku(e,t){var r=nr(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function ii(e,t,r){return t===oo?Sa(Mu(e,r)):jt(t)?ku(t,r):Sa(Eu(Ot(e)))}function Ou(e){var t=Dr(Wn(e)),r=["absolute","fixed"].indexOf(vt(e).position)>=0,n=r&&tt(e)?Vr(e):e;return jt(n)?t.filter(function(a){return jt(a)&&co(a,n)&&Mt(a)!=="body"}):[]}function Nu(e,t,r,n){var a=t==="clippingParents"?Ou(e):[].concat(t),s=[].concat(a,[r]),i=s[0],o=s.reduce(function(l,c){var u=ii(e,c,n);return l.top=Pt(u.top,l.top),l.right=Nn(u.right,l.right),l.bottom=Nn(u.bottom,l.bottom),l.left=Pt(u.left,l.left),l},ii(e,i,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function vo(e){var t=e.reference,r=e.element,n=e.placement,a=n?et(n):null,s=n?ar(n):null,i=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(a){case Ce:l={x:i,y:t.y-r.height};break;case He:l={x:i,y:t.y+t.height};break;case Ue:l={x:t.x+t.width,y:o};break;case Pe:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var c=a?Ba(a):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case tr:l[c]=l[c]-(t[u]/2-r[u]/2);break;case Pr:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function Ar(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,s=r.strategy,i=s===void 0?e.strategy:s,o=r.boundary,l=o===void 0?Jc:o,c=r.rootBoundary,u=c===void 0?oo:c,f=r.elementContext,d=f===void 0?vr:f,h=r.altBoundary,v=h===void 0?!1:h,m=r.padding,p=m===void 0?0:m,b=fo(typeof p!="number"?p:ho(p,zr)),w=d===vr?Qc:vr,_=e.rects.popper,D=e.elements[v?w:d],x=Nu(jt(D)?D:D.contextElement||Ot(e.elements.popper),l,u,i),M=nr(e.elements.reference),k=vo({reference:M,element:_,placement:a}),R=Sa(Object.assign({},_,k)),O=d===vr?R:M,Y={top:x.top-O.top+b.top,bottom:O.bottom-x.bottom+b.bottom,left:x.left-O.left+b.left,right:O.right-x.right+b.right},W=e.modifiersData.offset;if(d===vr&&W){var H=W[a];Object.keys(Y).forEach(function(C){var V=[Ue,He].indexOf(C)>=0?1:-1,K=[Ce,He].indexOf(C)>=0?"y":"x";Y[C]+=H[K]*V})}return Y}function Tu(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,s=r.rootBoundary,i=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?Ua:l,u=ar(n),f=u?o?ri:ri.filter(function(v){return ar(v)===u}):zr,d=f.filter(function(v){return c.indexOf(v)>=0});d.length===0&&(d=f);var h=d.reduce(function(v,m){return v[m]=Ar(e,{placement:m,boundary:a,rootBoundary:s,padding:i})[et(m)],v},{});return Object.keys(h).sort(function(v,m){return h[v]-h[m]})}function Ru(e){if(et(e)===Ha)return[];var t=hn(e);return[si(e),t,si(t)]}function Cu(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,i=r.altAxis,o=i===void 0?!0:i,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,v=h===void 0?!0:h,m=r.allowedAutoPlacements,p=t.options.placement,b=et(p),w=b===p,_=l||(w||!v?[hn(p)]:Ru(p)),D=[p].concat(_).reduce(function(F,I){return F.concat(et(I)===Ha?Tu(t,{placement:I,boundary:u,rootBoundary:f,padding:c,flipVariations:v,allowedAutoPlacements:m}):I)},[]),x=t.rects.reference,M=t.rects.popper,k=new Map,R=!0,O=D[0],Y=0;Y<D.length;Y++){var W=D[Y],H=et(W),C=ar(W)===tr,V=[Ce,He].indexOf(H)>=0,K=V?"width":"height",B=Ar(t,{placement:W,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),X=V?C?Ue:Pe:C?He:Ce;x[K]>M[K]&&(X=hn(X));var oe=hn(X),he=[];if(s&&he.push(B[H]<=0),o&&he.push(B[X]<=0,B[oe]<=0),he.every(function(F){return F})){O=W,R=!1;break}k.set(W,he)}if(R)for(var we=v?3:1,E=function(I){var J=D.find(function(se){var ne=k.get(se);if(ne)return ne.slice(0,I).every(function(Ne){return Ne})});if(J)return O=J,"break"},N=we;N>0;N--){var $=E(N);if($==="break")break}t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}}const Pu={name:"flip",enabled:!0,phase:"main",fn:Cu,requiresIfExists:["offset"],data:{_skip:!1}};function oi(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function li(e){return[Ce,Ue,He,Pe].some(function(t){return e[t]>=0})}function Au(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=Ar(t,{elementContext:"reference"}),o=Ar(t,{altBoundary:!0}),l=oi(i,n),c=oi(o,a,s),u=li(l),f=li(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const Yu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Au};function $u(e,t,r){var n=et(e),a=[Pe,Ce].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[Pe,Ue].indexOf(n)>=0?{x:o,y:i}:{x:i,y:o}}function Wu(e){var t=e.state,r=e.options,n=e.name,a=r.offset,s=a===void 0?[0,0]:a,i=Ua.reduce(function(u,f){return u[f]=$u(f,t.rects,s),u},{}),o=i[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=i}const Lu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Wu};function Fu(e){var t=e.state,r=e.name;t.modifiersData[r]=vo({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const ju={name:"popperOffsets",enabled:!0,phase:"read",fn:Fu,data:{}};function Iu(e){return e==="x"?"y":"x"}function Hu(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,s=a===void 0?!0:a,i=r.altAxis,o=i===void 0?!1:i,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,v=r.tetherOffset,m=v===void 0?0:v,p=Ar(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),b=et(t.placement),w=ar(t.placement),_=!w,D=Ba(b),x=Iu(D),M=t.modifiersData.popperOffsets,k=t.rects.reference,R=t.rects.popper,O=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,Y=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),W=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,H={x:0,y:0};if(M){if(s){var C,V=D==="y"?Ce:Pe,K=D==="y"?He:Ue,B=D==="y"?"height":"width",X=M[D],oe=X+p[V],he=X-p[K],we=h?-R[B]/2:0,E=w===tr?k[B]:R[B],N=w===tr?-R[B]:-k[B],$=t.elements.arrow,F=h&&$?Va($):{width:0,height:0},I=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:uo(),J=I[V],se=I[K],ne=br(0,k[B],F[B]),Ne=_?k[B]/2-we-ne-J-Y.mainAxis:E-ne-J-Y.mainAxis,it=_?-k[B]/2+we+ne+se+Y.mainAxis:N+ne+se+Y.mainAxis,Ze=t.elements.arrow&&Vr(t.elements.arrow),wt=Ze?D==="y"?Ze.clientTop||0:Ze.clientLeft||0:0,Nt=(C=W==null?void 0:W[D])!=null?C:0,Ut=X+Ne-Nt-wt,S=X+it-Nt,A=br(h?Nn(oe,Ut):oe,X,h?Pt(he,S):he);M[D]=A,H[D]=A-X}if(o){var q,ve=D==="x"?Ce:Pe,ce=D==="x"?He:Ue,ae=M[x],ge=x==="y"?"height":"width",Ye=ae+p[ve],Le=ae-p[ce],ot=[Ce,Pe].indexOf(b)!==-1,bt=(q=W==null?void 0:W[x])!=null?q:0,fr=ot?Ye:ae-k[ge]-R[ge]-bt+Y.altAxis,hr=ot?ae+k[ge]+R[ge]-bt-Y.altAxis:Le,mr=h&&ot?fu(fr,ae,hr):br(h?fr:Ye,ae,h?hr:Le);M[x]=mr,H[x]=mr-ae}t.modifiersData[n]=H}}const Uu={name:"preventOverflow",enabled:!0,phase:"main",fn:Hu,requiresIfExists:["offset"]};function zu(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Vu(e){return e===$e(e)||!tt(e)?Ga(e):zu(e)}function Bu(e){var t=e.getBoundingClientRect(),r=rr(t.width)/e.offsetWidth||1,n=rr(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Gu(e,t,r){r===void 0&&(r=!1);var n=tt(t),a=tt(t)&&Bu(t),s=Ot(t),i=nr(e,a,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Mt(t)!=="body"||Ka(s))&&(o=Vu(t)),tt(t)?(l=nr(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=qa(s))),{x:i.left+o.scrollLeft-l.x,y:i.top+o.scrollTop-l.y,width:i.width,height:i.height}}function qu(e){var t=new Map,r=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function a(s){r.add(s.name);var i=[].concat(s.requires||[],s.requiresIfExists||[]);i.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&a(l)}}),n.push(s)}return e.forEach(function(s){r.has(s.name)||a(s)}),n}function Ku(e){var t=qu(e);return cu.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Xu(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Zu(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var ci={placement:"bottom",modifiers:[],strategy:"absolute"};function ui(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ju(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,s=a===void 0?ci:a;return function(o,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ci,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(b){var w=typeof b=="function"?b(u.options):b;m(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:jt(o)?Dr(o):o.contextElement?Dr(o.contextElement):[],popper:Dr(l)};var _=Ku(Zu([].concat(n,u.options.modifiers)));return u.orderedModifiers=_.filter(function(D){return D.enabled}),v(),h.update()},forceUpdate:function(){if(!d){var b=u.elements,w=b.reference,_=b.popper;if(ui(w,_)){u.rects={reference:Gu(w,Vr(_),u.options.strategy==="fixed"),popper:Va(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Y){return u.modifiersData[Y.name]=Object.assign({},Y.data)});for(var D=0;D<u.orderedModifiers.length;D++){if(u.reset===!0){u.reset=!1,D=-1;continue}var x=u.orderedModifiers[D],M=x.fn,k=x.options,R=k===void 0?{}:k,O=x.name;typeof M=="function"&&(u=M({state:u,options:R,name:O,instance:h})||u)}}}},update:Xu(function(){return new Promise(function(p){h.forceUpdate(),p(u)})}),destroy:function(){m(),d=!0}};if(!ui(o,l))return h;h.setOptions(c).then(function(p){!d&&c.onFirstUpdate&&c.onFirstUpdate(p)});function v(){u.orderedModifiers.forEach(function(p){var b=p.name,w=p.options,_=w===void 0?{}:w,D=p.effect;if(typeof D=="function"){var x=D({state:u,name:b,instance:h,options:_}),M=function(){};f.push(x||M)}})}function m(){f.forEach(function(p){return p()}),f=[]}return h}}var Qu=Ju({defaultModifiers:[Yu,ju,bu,xu,Lu,Pu,Uu,pu]}),di=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},ed={name:"applyStyles",enabled:!1},td={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,s=n.popper;if("removeAttribute"in a){var i=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==s.id});i.length?a.setAttribute("aria-describedby",i.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,s=a.popper,i=a.reference,o=(r=s.getAttribute("role"))==null?void 0:r.toLowerCase();if(s.id&&o==="tooltip"&&"setAttribute"in i){var l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;i.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},rd=[];function nd(e,t,r){var n=r===void 0?{}:r,a=n.enabled,s=a===void 0?!0:a,i=n.placement,o=i===void 0?"bottom":i,l=n.strategy,c=l===void 0?"absolute":l,u=n.modifiers,f=u===void 0?rd:u,d=$a(n,["enabled","placement","strategy","modifiers"]),h=U.useRef(),v=U.useCallback(function(){var D;(D=h.current)==null||D.update()},[]),m=U.useCallback(function(){var D;(D=h.current)==null||D.forceUpdate()},[]),p=Zc(U.useState({placement:o,update:v,forceUpdate:m,attributes:{},styles:{popper:di(c),arrow:{}}})),b=p[0],w=p[1],_=U.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(x){var M=x.state,k={},R={};Object.keys(M.elements).forEach(function(O){k[O]=M.styles[O],R[O]=M.attributes[O]}),w({state:M,styles:k,attributes:R,update:v,forceUpdate:m,placement:M.placement})}}},[v,m,w]);return U.useEffect(function(){!h.current||!s||h.current.setOptions({placement:o,strategy:c,modifiers:[].concat(f,[_,ed])})},[c,o,_,s]),U.useEffect(function(){if(!(!s||e==null||t==null))return h.current=Qu(e,t,be({},d,{placement:o,strategy:c,modifiers:[].concat(f,[td,_])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,w(function(D){return be({},D,{attributes:{},styles:{popper:di(c)}})}))}},[s,e,t]),b}function ad(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function wr(e,t,r,n){return qc(e,t,r,n),function(){ad(e,t,r,n)}}var aa,fi;function sd(){if(fi)return aa;fi=1;var e=function(){};return aa=e,aa}var id=sd();const od=sr(id);function ld(e){return e&&"setState"in e?Hi.findDOMNode(e):e??null}const cd=function(e){return Ur(ld(e))};var ud=27,hi=function(){};function dd(e){return e.button===0}function fd(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var mi=function(t){return t&&("current"in t?t.current:t)};function hd(e,t,r){var n=r===void 0?{}:r,a=n.disabled,s=n.clickTrigger,i=s===void 0?"click":s,o=U.useRef(!1),l=t||hi,c=U.useCallback(function(d){var h,v=mi(e);od(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!v||fd(d)||!dd(d)||!!Cr(v,(h=d.composedPath==null?void 0:d.composedPath()[0])!=null?h:d.target)},[e]),u=ei(function(d){o.current||l(d)}),f=ei(function(d){d.keyCode===ud&&l(d)});U.useEffect(function(){if(!(a||e==null)){var d=window.event,h=cd(mi(e)),v=wr(h,i,c,!0),m=wr(h,i,function(w){if(w===d){d=void 0;return}u(w)}),p=wr(h,"keyup",function(w){if(w===d){d=void 0;return}f(w)}),b=[];return"ontouchstart"in h.documentElement&&(b=[].slice.call(h.body.children).map(function(w){return wr(w,"mousemove",hi)})),function(){v(),m(),p(),b.forEach(function(w){return w()})}}},[e,a,i,c,u,f])}function md(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function vd(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function pd(e){var t,r,n,a,s=e.enabled,i=e.enableEvents,o=e.placement,l=e.flip,c=e.offset,u=e.fixed,f=e.containerPadding,d=e.arrowElement,h=e.popperConfig,v=h===void 0?{}:h,m=md(v.modifiers);return be({},v,{placement:o,enabled:s,strategy:u?"fixed":v.strategy,modifiers:vd(be({},m,{eventListeners:{enabled:i},preventOverflow:be({},m.preventOverflow,{options:f?be({padding:f},(t=m.preventOverflow)==null?void 0:t.options):(r=m.preventOverflow)==null?void 0:r.options}),offset:{options:be({offset:c},(n=m.offset)==null?void 0:n.options)},arrow:be({},m.arrow,{enabled:!!d,options:be({},(a=m.arrow)==null?void 0:a.options,{element:d})}),flip:be({enabled:!!l},m.flip)}))})}var sn;function Xa(e){if((!sn&&sn!==0||e)&&Ia){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),sn=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return sn}var sa=function(t){var r;return typeof document>"u"?null:t==null?Ur().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function vi(e,t){var r=U.useState(function(){return sa(e)}),n=r[0],a=r[1];if(!n){var s=sa(e);s&&a(s)}return U.useEffect(function(){},[t,n]),U.useEffect(function(){var i=sa(e);i!==n&&a(i)},[e,n]),n}const pi=e=>!e||typeof e=="function"?e:t=>{e.current=t};function gd(e,t){const r=pi(e),n=pi(t);return a=>{r&&r(a),n&&n(a)}}function yd(e,t){return U.useMemo(()=>gd(e,t),[e,t])}var Za=y.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,s=e.containerPadding,i=s===void 0?5:s,o=e.popperConfig,l=o===void 0?{}:o,c=e.transition,u=ti(),f=u[0],d=u[1],h=ti(),v=h[0],m=h[1],p=yd(d,t),b=vi(e.container),w=vi(e.target),_=U.useState(!e.show),D=_[0],x=_[1],M=nd(w,f,pd({placement:a,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:v,popperConfig:l})),k=M.styles,R=M.attributes,O=$a(M,["styles","attributes"]);e.show?D&&x(!1):!e.transition&&!D&&x(!0);var Y=function(){x(!0),e.onExited&&e.onExited.apply(e,arguments)},W=e.show||c&&!D;if(hd(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!W)return null;var H=e.children(be({},O,{show:!!e.show,props:be({},R.popper,{style:k.popper,ref:p}),arrowProps:be({},R.arrow,{style:k.arrow,ref:m})}));if(c){var C=e.onExit,V=e.onExiting,K=e.onEnter,B=e.onEntering,X=e.onEntered;H=y.createElement(c,{in:e.show,appear:!0,onExit:C,onExiting:V,onExited:Y,onEnter:K,onEntering:B,onEntered:X},H)}return b?Hi.createPortal(H,b):null});Za.displayName="Overlay";Za.propTypes={show:P.bool,placement:P.oneOf(Ua),target:P.any,container:P.any,flip:P.bool,children:P.func.isRequired,containerPadding:P.number,popperConfig:P.object,rootClose:P.bool,rootCloseEvent:P.oneOf(["click","mousedown"]),rootCloseDisabled:P.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var s;return(s=P.func).isRequired.apply(s,[t].concat(n))}return P.func.apply(P,[t].concat(n))},transition:P.elementType,onEnter:P.func,onEntering:P.func,onEntered:P.func,onExit:P.func,onExiting:P.func,onExited:P.func};function ia(e,t){var r=ja(e);return r?r.innerHeight:Ct(e).height}function po(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(Vc(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}var wd=Tl();const bd=sr(wd);function _a(e,t){var r=ja(e);return r?r.innerWidth:Ct(e).width}function go(e){return ac(e)||sc(e)||ic(e)||oc()}var oa,gi;function Dd(){if(gi)return oa;gi=1;var e=Rl(),t=Cl(),r=Ii(),n=Pl(),a=Object.prototype,s=a.hasOwnProperty,i=e(function(o,l){o=Object(o);var c=-1,u=l.length,f=u>2?l[2]:void 0;for(f&&r(l[0],l[1],f)&&(u=1);++c<u;)for(var d=l[c],h=n(d),v=-1,m=h.length;++v<m;){var p=h[v],b=o[p];(b===void 0||t(b,a[p])&&!s.call(o,p))&&(o[p]=d[p])}return o});return oa=i,oa}var xd=Dd();const Sd=sr(xd);var la,yi;function _d(){if(yi)return la;yi=1;var e=Al(),t=Yl(),r=$l(),n=Wl(),a=Ll(),s=Fl(),i=jl(),o=Il(),l=Hl(),c=Ul();function u(f,d,h){var v=s(f),m=v||i(f)||c(f);if(d=n(d,4),h==null){var p=f&&f.constructor;m?h=v?new p:[]:l(f)?h=o(p)?t(a(f)):{}:h={}}return(m?e:r)(f,function(b,w,_){return d(h,b,w,_)}),h}return la=u,la}var Md=_d();const Ed=sr(Md);var mn={exports:{}},kd=mn.exports,wi;function Od(){return wi||(wi=1,function(e,t){(function(r,n){e.exports=n()})(kd,function(){return function(r,n,a){n.prototype.isBetween=function(s,i,o,l){var c=a(s),u=a(i),f=(l=l||"()")[0]==="(",d=l[1]===")";return(f?this.isAfter(c,o):!this.isBefore(c,o))&&(d?this.isBefore(u,o):!this.isAfter(u,o))||(f?this.isBefore(c,o):!this.isAfter(c,o))&&(d?this.isAfter(u,o):!this.isBefore(u,o))}}})}(mn)),mn.exports}Od();var vn={exports:{}},Nd=vn.exports,bi;function Td(){return bi||(bi=1,function(e,t){(function(r,n){e.exports=n()})(Nd,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,s){return this.isSame(a,s)||this.isAfter(a,s)}}})}(vn)),vn.exports}Td();var pn={exports:{}},Rd=pn.exports,Di;function Cd(){return Di||(Di=1,function(e,t){(function(r,n){e.exports=n()})(Rd,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,s){return this.isSame(a,s)||this.isBefore(a,s)}}})}(pn)),pn.exports}Cd();var gn={exports:{}},Pd=gn.exports,xi;function Ad(){return xi||(xi=1,function(e,t){(function(r,n){e.exports=n()})(Pd,function(){return function(r,n,a){var s=n.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,d,h,v,m){var p=f.name?f:f.$locale(),b=i(p[d]),w=i(p[h]),_=b||w.map(function(x){return x.slice(0,v)});if(!m)return _;var D=p.weekStart;return _.map(function(x,M){return _[(M+(D||0))%7]})},l=function(){return a.Ls[a.locale()]},c=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,m,p){return m||p.slice(1)})}(f.formats[d.toUpperCase()])},u=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):o(f,"months")},monthsShort:function(d){return d?d.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):o(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return c(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return u.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(d){return c(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return o(l(),"months")},a.monthsShort=function(){return o(l(),"monthsShort","months",3)},a.weekdays=function(f){return o(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})}(gn)),gn.exports}Ad();var yn={exports:{}},Yd=yn.exports,Si;function $d(){return Si||(Si=1,function(e,t){(function(r,n){e.exports=n()})(Yd,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,s){var i=a.prototype,o=i.format;s.en.formats=r,i.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,d){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,v,m){var p=m&&m.toUpperCase();return v||d[m]||r[m]||d[p].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,w,_){return w||_.slice(1)})})}(l,c===void 0?{}:c);return o.call(this,u)}}})}(yn)),yn.exports}$d();var wn={exports:{}},Wd=wn.exports,_i;function Ld(){return _i||(_i=1,function(e,t){(function(r,n){e.exports=n()})(Wd,function(){return function(r,n,a){var s=function(i,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter(function(u){return u}))[0];for(var c=1;c<o.length;c+=1)o[c].isValid()&&!o[c][i](l)||(l=o[c]);return l};a.max=function(){var i=[].slice.call(arguments,0);return s("isAfter",i)},a.min=function(){var i=[].slice.call(arguments,0);return s("isBefore",i)}}})}(wn)),wn.exports}Ld();var bn={exports:{}},Fd=bn.exports,Mi;function jd(){return Mi||(Mi=1,function(e,t){(function(r,n){e.exports=n()})(Fd,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(s,i,o){var l=i.prototype;o.utc=function(m){var p={date:m,utc:!0,args:arguments};return new i(p)},l.utc=function(m){var p=o(this.toDate(),{locale:this.$L,utc:!0});return m?p.add(this.utcOffset(),r):p},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),c.call(this,m)};var u=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(m,p){var b=this.$utils().u;if(b(m))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(x){x===void 0&&(x="");var M=x.match(n);if(!M)return null;var k=(""+M[0]).match(a)||["-",0,0],R=k[0],O=60*+k[1]+ +k[2];return O===0?0:R==="+"?O:-O}(m),m===null))return this;var w=Math.abs(m)<=16?60*m:m,_=this;if(p)return _.$offset=w,_.$u=m===0,_;if(m!==0){var D=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(w+D,r)).$offset=w,_.$x.$localOffset=D}else _=this.utc();return _};var d=l.format;l.format=function(m){var p=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,p)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var v=l.diff;l.diff=function(m,p,b){if(m&&this.$u===m.$u)return v.call(this,m,p,b);var w=this.local(),_=o(m).local();return v.call(w,_,p,b)}}})}(bn)),bn.exports}jd();var Dn={exports:{}},Id=Dn.exports,Ei;function Hd(){return Ei||(Ei=1,function(e,t){(function(r,n){e.exports=n()})(Id,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})}(Dn)),Dn.exports}Hd();function Je(e){return e.children}var Ae={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Q={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},ki=Object.keys(Q).map(function(e){return Q[e]});P.oneOfType([P.string,P.func]);P.any;P.func;P.oneOfType([P.arrayOf(P.oneOf(ki)),P.objectOf(function(e,t){var r=ki.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return P.elementType.apply(P,[e,t].concat(a))})]);P.oneOfType([P.oneOf(["overlap","no-overlap"]),P.func]);var Oi={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function yo(e,t){var r=_e(e,"month");return _e(r,"week",t.startOfWeek())}function wo(e,t){var r=kn(e,"month");return kn(r,"week",t.startOfWeek())}function Ud(e,t){for(var r=yo(e,t),n=wo(e,t),a=[];ir(r,n,"day");)a.push(r),r=Ge(r,1,"day");return a}function zd(e,t){var r=_e(e,t);return Ir(r,e)?r:Ge(r,1,t)}function Vd(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];ir(n,t,r);)a.push(n),n=Ge(n,1,r);return a}function Bd(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=_e(e,"day"),e=Rr(e,Rr(t)),e=er(e,er(t)),e=Tr(e,Tr(t)),Nr(e,Nr(t)))}function Ni(e){return Rr(e)===0&&er(e)===0&&Tr(e)===0&&Nr(e)===0}function Gd(e,t,r,n){return r==="day"&&(r="date"),Math.abs(Ks[r](e,void 0,n)-Ks[r](t,void 0,n))}function Ja(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+_e(e,r)/Oi[r]-+_e(t,r)/Oi[r]))}var qd=P.oneOfType([P.string,P.func]);function Kd(e,t,r,n,a){var s=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return Sr(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function Xd(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function Qa(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Zd(e,t){return Ja(e,t,"minutes")+Qa(e,t)}function Jd(e){var t=_e(e,"day");return Ja(t,e,"minutes")+Qa(t,e)}function Qd(e,t){return Fa(e,t,"day")}function ef(e,t,r){var n=Ir(e,t,"minutes");return n?Hr(t,r,"minutes"):$n(t,r,"minutes")}function Ma(e,t){return Gd(e,t,"day")}function tf(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,s=e.evtB,i=s.start,o=s.end,l=s.allDay,c=+_e(r,"day")-+_e(i,"day"),u=Ma(r,n),f=Ma(i,o);return c||f-u||!!l-!!a||+r-+i||+n-+o}function rf(e){var t=e.event,r=t.start,n=t.end,a=e.range,s=a.start,i=a.end,o=_e(r,"day"),l=ir(o,i,"day"),c=La(o,n,"minutes"),u=c?$n(n,s,"minutes"):Hr(n,s,"minutes");return l&&u}function nf(e,t){return Ir(e,t,"day")}function af(e,t){return Ni(e)&&Ni(t)}var sf=xe(function e(t){var r=this;Se(this,e),Sr(typeof t.format=="function","date localizer `format(..)` must be a function"),Sr(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||qd,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Kd.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Bd,this.inRange=t.inRange||Ji,this.lt=t.lt||Fa,this.lte=t.lte||ir,this.gt=t.gt||$n,this.gte=t.gte||Hr,this.eq=t.eq||Ir,this.neq=t.neq||La,this.startOf=t.startOf||_e,this.endOf=t.endOf||kn,this.add=t.add||Ge,this.range=t.range||Vd,this.diff=t.diff||Ja,this.ceil=t.ceil||zd,this.min=t.min||Xi,this.max=t.max||Zi,this.minutes=t.minutes||er,this.daySpan=t.daySpan||Ma,this.firstVisibleDay=t.firstVisibleDay||yo,this.lastVisibleDay=t.lastVisibleDay||wo,this.visibleDays=t.visibleDays||Ud,this.getSlotDate=t.getSlotDate||Xd,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Qa,this.getTotalMin=t.getTotalMin||Zd,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Jd,this.continuesPrior=t.continuesPrior||Qd,this.continuesAfter=t.continuesAfter||ef,this.sortEvents=t.sortEvents||tf,this.inEventRange=t.inEventRange||rf,this.isSameDate=t.isSameDate||nf,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||af,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function of(e,t,r,n){var a=le(le({},e.formats),r);return le(le({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,o){return e.format(i,a[o]||o,t)}})}var lf=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Oe(this,t,[].concat(a)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,s=n.label;return y.createElement("div",{className:"rbc-toolbar"},y.createElement("span",{className:"rbc-btn-group"},y.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ae.TODAY)},a.today),y.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ae.PREVIOUS)},a.previous),y.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ae.NEXT)},a.next)),y.createElement("span",{className:"rbc-toolbar-label"},s),y.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,s=this.props.views,i=this.props.view;if(s.length>1)return s.map(function(o){return y.createElement("button",{type:"button",key:o,className:pe({"rbc-active":i===o}),onClick:a.view.bind(null,o)},n[o])})}}])}(y.Component);function ue(e,t){e&&e.apply(null,[].concat(t))}var cf={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function uf(e){return le(le({},cf),e)}function df(e){var t=e.ref,r=e.callback;U.useEffect(function(){var n=function(s){t.current&&!t.current.contains(s.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var ff=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],bo=function(e){function t(){return Se(this,t),Oe(this,t,arguments)}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.style,s=n.className,i=n.event,o=n.selected,l=n.isAllDay,c=n.onSelect,u=n.onDoubleClick,f=n.onKeyPress,d=n.localizer,h=n.continuesPrior,v=n.continuesAfter,m=n.accessors,p=n.getters,b=n.children,w=n.components,_=w.event,D=w.eventWrapper,x=n.slotStart,M=n.slotEnd,k=rt(n,ff);delete k.resizable;var R=m.title(i),O=m.tooltip(i),Y=m.end(i),W=m.start(i),H=m.allDay(i),C=l||H||d.diff(W,d.ceil(Y,"day"),"day")>1,V=p.eventProp(i,W,Y,o),K=y.createElement("div",{className:"rbc-event-content",title:O||void 0},_?y.createElement(_,{event:i,continuesPrior:h,continuesAfter:v,title:R,isAllDay:H,localizer:d,slotStart:x,slotEnd:M}):R);return y.createElement(D,Object.assign({},this.props,{type:"date"}),y.createElement("div",Object.assign({},k,{style:le(le({},V.style),a),className:pe("rbc-event",s,V.className,{"rbc-selected":o,"rbc-event-allday":C,"rbc-event-continues-prior":h,"rbc-event-continues-after":v}),onClick:function(X){return c&&c(i,X)},onDoubleClick:function(X){return u&&u(i,X)},onKeyDown:function(X){return f&&f(i,X)}}),typeof b=="function"?b(K):K))}}])}(y.Component);function Ln(e,t){return!e||t==null?!1:Kl(e,t)}function Do(e,t){var r=e.right-e.left,n=r/t;return n}function xo(e,t,r,n){var a=Do(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function hf(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function mf(e,t,r,n,a){var s=-1,i=-1,o=n-1,l=Do(t,n),c=xo(t,r.x,a,n),u=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,d=e.y>t.bottom,h=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(s=0,i=o),u&&(h?(s=0,i=c):d&&(s=c,i=o)),f&&(s=i=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<s?s=c:i=c:e.y<r.y?i=o:s=0),{startIdx:s,endIdx:i}}function vf(e){var t=e.target,r=e.offset,n=e.container,a=e.box,s=Ct(t),i=s.top,o=s.left,l=s.width,c=s.height,u=Ct(n),f=u.top,d=u.left,h=u.width,v=u.height,m=Ct(a),p=m.width,b=m.height,w=f+v,_=d+h,D=i+b,x=o+p,M=r.x,k=r.y,R=D>w?i-b-k:i+k+c,O=x>_?o+M-p+l:o+M;return{topOffset:R,leftOffset:O}}function pf(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,s=e.components,i=e.localizer,o=e.position,l=e.show,c=e.events,u=e.slotStart,f=e.slotEnd,d=e.onSelect,h=e.onDoubleClick,v=e.onKeyPress,m=e.handleDragStart,p=e.popperRef,b=e.target,w=e.offset;df({ref:p,callback:l}),U.useLayoutEffect(function(){var x=vf({target:b,offset:w,container:t.current,box:p.current}),M=x.topOffset,k=x.leftOffset;p.current.style.top="".concat(M,"px"),p.current.style.left="".concat(k,"px")},[w.x,w.y,b]);var _=o.width,D={minWidth:_+_/2};return y.createElement("div",{style:D,className:"rbc-overlay",ref:p},y.createElement("div",{className:"rbc-overlay-header"},i.format(u,"dayHeaderFormat")),c.map(function(x,M){return y.createElement(bo,{key:M,type:"popup",localizer:i,event:x,getters:n,onSelect:d,accessors:r,components:s,onDoubleClick:h,onKeyPress:v,continuesPrior:i.lt(r.end(x),u,"day"),continuesAfter:i.gte(r.start(x),f,"day"),slotStart:u,slotEnd:f,selected:Ln(x,a),draggable:!0,onDragStart:function(){return m(x)},onDragEnd:function(){return l()}})}))}var So=y.forwardRef(function(e,t){return y.createElement(pf,Object.assign({},e,{popperRef:t}))});So.propTypes={accessors:P.object.isRequired,getters:P.object.isRequired,selected:P.object,components:P.object.isRequired,localizer:P.object.isRequired,position:P.object.isRequired,show:P.func.isRequired,events:P.array.isRequired,slotStart:P.instanceOf(Date).isRequired,slotEnd:P.instanceOf(Date),onSelect:P.func,onDoubleClick:P.func,onKeyPress:P.func,handleDragStart:P.func,style:P.object,offset:P.shape({x:P.number,y:P.number})};function gf(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,s=e.accessors,i=e.localizer,o=e.components,l=e.getters,c=e.selected,u=e.handleSelectEvent,f=e.handleDoubleClickEvent,d=e.handleKeyPressEvent,h=e.handleDragStart,v=e.onHide,m=e.overlayDisplay,p=U.useRef(null);if(!a.position)return null;var b=n;isNaN(n)||(b={x:n,y:n});var w=a.position,_=a.events,D=a.date,x=a.end;return y.createElement(Za,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:a.target},function(M){var k=M.props;return y.createElement(So,Object.assign({},k,{containerRef:t,ref:p,target:a.target,offset:b,accessors:s,getters:l,selected:c,components:o,localizer:i,position:w,show:m,events:_,slotStart:D,slotEnd:x,onSelect:u,onDoubleClick:f,onKeyPress:d,handleDragStart:h}))})}var es=y.forwardRef(function(e,t){return y.createElement(gf,Object.assign({},e,{containerRef:t}))});es.propTypes={popupOffset:P.oneOfType([P.number,P.shape({x:P.number,y:P.number})]),overlay:P.shape({position:P.object,events:P.array,date:P.instanceOf(Date),end:P.instanceOf(Date)}),accessors:P.object.isRequired,localizer:P.object.isRequired,components:P.object.isRequired,getters:P.object.isRequired,selected:P.object,handleSelectEvent:P.func,handleDoubleClickEvent:P.func,handleKeyPressEvent:P.func,handleDragStart:P.func,onHide:P.func,overlayDisplay:P.func};function Me(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return wr(r,e,t,{passive:!1})}function yf(e,t,r){return!e||Cr(e,document.elementFromPoint(t,r))}function wf(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return po(a,".rbc-event",e)}function bf(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return po(a,".rbc-show-more",e)}function Tn(e,t){return!!wf(e,t)}function Df(e,t){return!!bf(e,t)}function pr(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Ti=5,xf=250,_o=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,s=r.longPressThreshold,i=s===void 0?250:s,o=r.validContainers,l=o===void 0?[]:o;Se(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Me("touchmove",function(){},window),this._removeKeyDownListener=Me("keydown",this._keyListener),this._removeKeyUpListener=Me("keyup",this._keyListener),this._removeDropFromOutsideListener=Me("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Me("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return xe(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var i=a.indexOf(n);i!==-1&&a.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var i,o=this._listeners[r]||[];return o.forEach(function(l){i===void 0&&(i=l.apply(void 0,a))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:Ri(n,It(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,s=null,i=null,o=null,l=function(d){s=setTimeout(function(){u(),r(d)},a.longPressThreshold),i=Me("touchmove",function(){return u()}),o=Me("touchend",function(){return u()})},c=Me("touchstart",l),u=function(){s&&clearTimeout(s),i&&i(),o&&o(),s=null,i=null,o=null};return n&&l(n),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Me("mousedown",function(s){r._removeInitialEventListener(),r._handleInitialEvent(s),r._removeInitialEventListener=Me("mousedown",r._handleInitialEvent)}),a=Me("touchstart",function(s){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,s)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=pr(r),a=n.pageX,s=n.pageY,i=n.clientX,o=n.clientY;this.emit("dropFromOutside",{x:a,y:s,clientX:i,clientY:o}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=pr(r),a=n.pageX,s=n.pageY,i=n.clientX,o=n.clientY;this.emit("dragOverFromOutside",{x:a,y:s,clientX:i,clientY:o}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=pr(r),a=n.clientX,s=n.clientY,i=n.pageX,o=n.pageY,l=this.container(),c,u;if(!(r.which===3||r.button===2||!yf(l,a,s))){if(!this.globalMouse&&l&&!Cr(l,r.target)){var f=Sf(0),d=f.top,h=f.left,v=f.bottom,m=f.right;if(u=It(l),c=Ri({top:u.top-d,left:u.left-h,bottom:u.bottom+v,right:u.right+m},{top:o,left:i}),!c)return}var p=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:o,clientX:a,clientY:s});if(p!==!1)switch(r.type){case"mousedown":this._removeEndListener=Me("mouseup",this._handleTerminatingEvent),this._onEscListener=Me("keydown",this._handleTerminatingEvent),this._removeMoveListener=Me("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Me("touchend",this._handleTerminatingEvent),this._removeMoveListener=Me("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(s){return!!n.closest(s)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var s=!this.container||Cr(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&s?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=pr(r),a=n.pageX,s=n.pageY,i=n.clientX,o=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<xf?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:s,clientX:i,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:s,clientX:i,clientY:o}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,s=n.y,i=pr(r),o=i.pageX,l=i.pageY,c=Math.abs(a-o),u=Math.abs(s-l),f=Math.min(o,a),d=Math.min(l,s),h=this.selecting,v=this.isClick(o,l);v&&!h&&!(c||u)||(!h&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:d,left:f,x:o,y:l,right:f+c,bottom:d+u},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,s=a.x,i=a.y,o=a.isTouch;return!o&&Math.abs(r-s)<=Ti&&Math.abs(n-i)<=Ti}}])}();function Sf(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Wa(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function Ri(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=It(e),a=n.top,s=n.left,i=n.right,o=i===void 0?s:i,l=n.bottom,c=l===void 0?a:l,u=It(t),f=u.top,d=u.left,h=u.right,v=h===void 0?d:h,m=u.bottom,p=m===void 0?f:m;return!(c-r<f||a+r>p||o-r<d||s+r>v)}function It(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Ci("left"),n=t.top+Ci("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Ci(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var _f=function(e){function t(r,n){var a;return Se(this,t),a=Oe(this,t,[r,n]),a.state={selecting:!1},a.containerRef=U.createRef(),a}return ke(t,e),xe(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,s=n.getNow,i=n.getters,o=n.date,l=n.components.dateCellWrapper,c=n.localizer,u=this.state,f=u.selecting,d=u.startIdx,h=u.endIdx,v=s();return y.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(m,p){var b=f&&p>=d&&p<=h,w=i.dayProp(m),_=w.className,D=w.style;return y.createElement(l,{key:p,value:m,range:a},y.createElement("div",{style:D,className:pe("rbc-day-bg",_,b&&"rbc-selected-cell",c.isSameDate(m,v)&&"rbc-today",o&&c.neq(o,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,s=this._selector=new _o(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(l,c){if(!Tn(a,l)&&!Df(a,l)){var u=It(a),f=n.props,d=f.range,h=f.rtl;if(hf(u,l)){var v=xo(u,l.x,h,d.length);n._selectSlot({startIdx:v,endIdx:v,action:c,box:l})}}n._initial={},n.setState({selecting:!1})};s.on("selecting",function(o){var l=n.props,c=l.range,u=l.rtl,f=-1,d=-1;if(n.state.selecting||(ue(n.props.onSelectStart,[o]),n._initial={x:o.x,y:o.y}),s.isSelected(a)){var h=It(a),v=mf(n._initial,h,o,c.length,u);f=v.startIdx,d=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:d})}),s.on("beforeSelect",function(o){if(n.props.selectable==="ignoreEvents")return!Tn(n.containerRef.current,o)}),s.on("click",function(o){return i(o,"click")}),s.on("doubleClick",function(o){return i(o,"doubleClick")}),s.on("select",function(o){n._selectSlot(le(le({},n.state),{},{action:"select",bounds:o})),n._initial={},n.setState({selecting:!1}),ue(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,s=n.startIdx,i=n.action,o=n.bounds,l=n.box;a!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:a,action:i,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(y.Component),Fe={propTypes:{slotMetrics:P.object.isRequired,selected:P.object,isAllDay:P.bool,accessors:P.object.isRequired,localizer:P.object.isRequired,components:P.object.isRequired,getters:P.object.isRequired,onSelect:P.func,onDoubleClick:P.func,onKeyPress:P.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,s=t.getters,i=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,f=t.components,d=t.resizable,h=u.continuesPrior(r),v=u.continuesAfter(r);return y.createElement(bo,{event:r,getters:s,localizer:c,accessors:a,components:f,onSelect:i,onDoubleClick:o,onKeyPress:l,continuesPrior:h,continuesAfter:v,slotStart:u.first,slotEnd:u.last,selected:Ln(r,n),resizable:d})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(r)/t*100+"%";return y.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},a)}},Mo=function(e){function t(){return Se(this,t),Oe(this,t,arguments)}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.segments,i=a.slotMetrics.slots,o=a.className,l=1;return y.createElement("div",{className:pe(o,"rbc-row")},s.reduce(function(c,u,f){var d=u.event,h=u.left,v=u.right,m=u.span,p="_lvl_"+f,b=h-l,w=Fe.renderEvent(n.props,d);return b&&c.push(Fe.renderSpan(i,b,"".concat(p,"_gap"))),c.push(Fe.renderSpan(i,m,p,w)),l=v+1,c},[]))}}])}(y.Component);Mo.defaultProps=le({},Fe.defaultProps);function Eo(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function Mf(e,t,r,n){var a=Eo({dateRange:t,localizer:n}),s=a.first,i=a.last,o=n.diff(s,i,"day"),l=n.max(n.startOf(r.start(e),"day"),s),c=n.min(n.ceil(r.end(e),"day"),i),u=bd(t,function(d){return n.isSameDate(d,l)}),f=n.diff(l,c,"day");return f=Math.min(f,o),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:u+1,right:Math.max(u+f,1)}}function Ea(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,s=[],i=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<s.length&&Ef(a,s[n]);n++);n>=t?i.push(a):(s[n]||(s[n]=[])).push(a)}for(r=0;r<s.length;r++)s[r].sort(function(o,l){return o.left-l.left});return{levels:s,extra:i}}function Yr(e,t,r,n,a){var s={start:n.start(e),end:n.end(e)},i={start:t,end:r};return a.inEventRange({event:s,range:i})}function Ef(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function kf(e,t,r){var n=un(e),a=[],s=[];n.forEach(function(l){var c=t.start(l),u=t.end(l);r.daySpan(c,u)>1?a.push(l):s.push(l)});var i=a.sort(function(l,c){return ka(l,c,t,r)}),o=s.sort(function(l,c){return ka(l,c,t,r)});return[].concat(un(i),un(o))}function ka(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},s={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:s})}var Oa=function(t,r){return t.left<=r&&t.right>=r},ca=function(t,r){return t.filter(function(n){return Oa(n,r)}).map(function(n){return n.event})},ko=function(e){function t(){return Se(this,t),Oe(this,t,arguments)}return ke(t,e),xe(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,s=n.slotMetrics.slots,i=Ea(a).levels[0],o=1,l=1,c=[];o<=s;){var u="_lvl_"+o,f=i.filter(function(D){return Oa(D,o)})[0]||{},d=f.event,h=f.left,v=f.right,m=f.span;if(!d){var p=this.getHiddenEventsForSlot(a,o);if(p.length>0){var b=o-l;b&&c.push(Fe.renderSpan(s,b,u+"_gap")),c.push(Fe.renderSpan(s,1,u,this.renderShowMore(a,o))),l=o=o+1;continue}o++;continue}var w=Math.max(0,h-l);if(this.canRenderSlotEvent(h,m)){var _=Fe.renderEvent(this.props,d);w&&c.push(Fe.renderSpan(s,w,u+"_gap")),c.push(Fe.renderSpan(s,m,u,_)),l=o=v+1}else w&&c.push(Fe.renderSpan(s,w,u+"_gap")),c.push(Fe.renderSpan(s,1,u,this.renderShowMore(a,o))),l=o=o+1}return y.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(n,a){var s=ca(n,a),i=Ea(n).levels[0],o=i.filter(function(l){return Oa(l,a)}).map(function(l){return l.event});return s.filter(function(l){return!o.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var s=this.props.segments;return zl(n,n+a).every(function(i){var o=ca(s,i).length;return o===1})}},{key:"renderShowMore",value:function(n,a){var s=this,i=this.props,o=i.localizer,l=i.slotMetrics,c=i.components,u=l.getEventsForSlot(a),f=ca(n,a),d=f.length;if(c!=null&&c.showMore){var h=c.showMore,v=l.getDateForSlot(a-1);return d?y.createElement(h,{localizer:o,slotDate:v,slot:a,count:d,events:u,remainingEvents:f}):!1}return d?y.createElement("button",{type:"button",key:"sm_"+a,className:pe("rbc-button-link","rbc-show-more"),onClick:function(p){return s.showMore(a,p)}},o.messages.showMore(d,f,u)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(y.Component);ko.defaultProps=le({},Fe.defaultProps);var Of=function(t){var r=t.children;return y.createElement("div",{className:"rbc-row-content-scroll-container"},r)},Nf=function(t,r){return t.left<=r&&t.right>=r},Tf=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function Oo(){return Ui(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,s=e.accessors,i=e.localizer,o=Eo({dateRange:t,localizer:i}),l=o.first,c=o.last,u=r.map(function(m){return Mf(m,t,s,i)}),f=Ea(u,Math.max(n-1,1)),d=f.levels,h=f.extra,v=h.length>0?a-1:a;d.length<v;)d.push([]);return{first:l,last:c,levels:d,extra:h,range:t,slots:t.length,clone:function(p){var b=Oo();return b(le(le({},e),p))},getDateForSlot:function(p){return t[p]},getSlotForDate:function(p){return t.find(function(b){return i.isSameDate(b,p)})},getEventsForSlot:function(p){return u.filter(function(b){return Nf(b,p)}).map(function(b){return b.event})},continuesPrior:function(p){return i.continuesPrior(s.start(p),l)},continuesAfter:function(p){var b=s.start(p),w=s.end(p);return i.continuesAfter(b,w,c)}}},Tf)}var $r=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Oe(this,t,[].concat(a)),r.handleSelectSlot=function(i){var o=r.props,l=o.range,c=o.onSelectSlot;c(l.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,o){var l=r.props,c=l.range,u=l.onShowMore,f=r.slotMetrics(r.props),d=Gc(r.containerRef.current,".rbc-row-bg")[0],h;d&&(h=d.children[i-1]);var v=f.getEventsForSlot(i);u(v,c[i-1],h,i,o)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,o){var l=r.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:i,key:"header_".concat(o),className:pe("rbc-date-cell",f.isSameDate(i,u())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,o=i.className,l=i.range,c=i.renderHeader,u=i.showAllEvents;return y.createElement("div",{className:o,ref:r.containerRef},y.createElement("div",{className:pe("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&y.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),y.createElement("div",{className:"rbc-row",ref:r.eventRowRef},y.createElement("div",{className:"rbc-row-segment"},y.createElement("div",{className:"rbc-event"},y.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=U.createRef(),r.headingRowRef=U.createRef(),r.eventRowRef=U.createRef(),r.slotMetrics=Oo(),r}return ke(t,e),xe(t,[{key:"getRowLimit",value:function(){var n,a=ia(this.eventRowRef.current),s=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?ia(this.headingRowRef.current):0,i=ia(this.containerRef.current)-s;return Math.max(Math.floor(i/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.rtl,i=n.range,o=n.className,l=n.selected,c=n.selectable,u=n.renderForMeasure,f=n.accessors,d=n.getters,h=n.components,v=n.getNow,m=n.renderHeader,p=n.onSelect,b=n.localizer,w=n.onSelectStart,_=n.onSelectEnd,D=n.onDoubleClick,x=n.onKeyPress,M=n.resourceId,k=n.longPressThreshold,R=n.isAllDay,O=n.resizable,Y=n.showAllEvents;if(u)return this.renderDummy();var W=this.slotMetrics(this.props),H=W.levels,C=W.extra,V=Y?Of:Je,K=h.weekWrapper,B={selected:l,accessors:f,getters:d,localizer:b,components:h,onSelect:p,onDoubleClick:D,onKeyPress:x,resourceId:M,slotMetrics:W,resizable:O};return y.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},y.createElement(_f,{localizer:b,date:a,getNow:v,rtl:s,range:i,selectable:c,container:this.getContainer,getters:d,onSelectStart:w,onSelectEnd:_,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:k,resourceId:M}),y.createElement("div",{className:pe("rbc-row-content",Y&&"rbc-row-content-scrollable"),role:"row"},m&&y.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),y.createElement(V,null,y.createElement(K,Object.assign({isAllDay:R},B,{rtl:this.props.rtl}),H.map(function(X,oe){return y.createElement(Mo,Object.assign({key:oe,segments:X},B))}),!!C.length&&y.createElement(ko,Object.assign({segments:C,onShowMore:this.handleShowMore},B))))))}}])}(y.Component);$r.defaultProps={minRows:0,maxRows:1/0};var ts=function(t){var r=t.label;return y.createElement("span",{role:"columnheader","aria-sort":"none"},r)},Rf=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?y.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):y.createElement("span",null,r)},Cf=["date","className"],Pf=function(t,r,n,a,s){return t.filter(function(i){return Yr(i,r,n,a,s)})},Fn=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Oe(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,o){var l=r.props,c=l.events,u=l.components,f=l.selectable,d=l.getNow,h=l.selected,v=l.date,m=l.localizer,p=l.longPressThreshold,b=l.accessors,w=l.getters,_=l.showAllEvents,D=r.state,x=D.needLimitMeasure,M=D.rowLimit,k=Pf(un(c),i[0],i[i.length-1],b,m),R=kf(k,b,m);return y.createElement($r,{key:o,ref:o===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:d,date:v,range:i,events:R,maxRows:_?1/0:M,selected:h,selectable:f,components:u,accessors:b,getters:w,localizer:m,renderHeader:r.readerDateHeading,renderForMeasure:x,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:p,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:_})},r.readerDateHeading=function(i){var o=i.date,l=i.className,c=rt(i,Cf),u=r.props,f=u.date,d=u.getDrilldownView,h=u.localizer,v=h.neq(f,o,"month"),m=h.isSameDate(o,f),p=d(o),b=h.format(o,"dateFormat"),w=r.props.components.dateHeader||Rf;return y.createElement("div",Object.assign({},c,{className:pe(l,v&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),y.createElement(w,{label:b,date:o,drilldownView:p,isOffRange:v,onDrillDown:function(D){return r.handleHeadingClick(o,p,D)}}))},r.handleSelectSlot=function(i,o){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(o)})},r.handleHeadingClick=function(i,o,l){l.preventDefault(),r.clearSelection(),ue(r.props.onDrillDown,[i,o])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onKeyPressEvent,o)},r.handleShowMore=function(i,o,l,c,u){var f=r.props,d=f.popup,h=f.onDrillDown,v=f.onShowMore,m=f.getDrilldownView,p=f.doShowMoreDrillDown;if(r.clearSelection(),d){var b=so(l,r.containerRef.current);r.setState({overlay:{date:o,events:i,position:b,target:u}})}else p&&ue(h,[o,m(o)||Q.DAY]);ue(v,[i,o,c])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=U.createRef(),r.slotRowRef=U.createRef(),r._bgRows=[],r._pendingSelection=[],r}return ke(t,e),xe(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||io(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.className,o=s.visibleDays(a,s),l=Rc(o,7);return this._weekCount=l.length,y.createElement("div",{className:pe("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},y.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,s=a.localizer,i=a.components,o=n[0],l=n[n.length-1],c=i.header||ts;return s.range(o,l,"day").map(function(u,f){return y.createElement("div",{key:"header_"+f,className:"rbc-header"},y.createElement(c,{date:u,localizer:s,label:s.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,s=this,i=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,d=o.selected,h=o.popupOffset,v=o.handleDragStart,m=function(){return s.setState({overlay:null})};return y.createElement(es,{overlay:i,accessors:l,localizer:c,components:u,getters:f,selected:d,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,l){return+o-+l});var s=new Date(a[0]),i=new Date(a[a.length-1]);i.setDate(a[a.length-1].getDate()+1),ue(this.props.onSelectSlot,{slots:a,start:s,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var s=n.date,i=n.localizer;return{date:s,needLimitMeasure:i.neq(s,a.date,"month")}}}])}(y.Component);Fn.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};Fn.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ae.PREVIOUS:return n.add(e,-1,"month");case Ae.NEXT:return n.add(e,1,"month");default:return e}};Fn.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var Pi=function(t){var r=t.min,n=t.max,a=t.step,s=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(a,"-").concat(s)};function rs(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,s=e.localizer,i=Pi({step:n,localizer:s}),o=1+s.getTotalMin(t,r),l=s.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(n*a)),u=c*a,f=new Array(c),d=new Array(u),h=0;h<c;h++){f[h]=new Array(a);for(var v=0;v<a;v++){var m=h*a+v,p=m*n;d[m]=f[h][v]=s.getSlotDate(t,l,p)}}var b=d.length*n;d.push(s.getSlotDate(t,l,b));function w(_){var D=s.diff(t,_,"minutes")+s.getDstOffset(t,_);return Math.min(D,o)}return{groups:f,update:function(D){return Pi(D)!==i?rs(D):this},dateIsInGroup:function(D,x){var M=f[x+1];return s.inRange(D,f[x][0],M?M[0]:r,"minutes")},nextSlot:function(D){var x=d[Math.min(d.findIndex(function(M){return M===D||s.eq(M,D)})+1,d.length-1)];return s.eq(x,D)&&(x=s.add(D,n,"minutes")),x},closestSlotToPosition:function(D){var x=Math.min(d.length-1,Math.max(0,Math.floor(D*u)));return d[x]},closestSlotFromPoint:function(D,x){var M=Math.abs(x.top-x.bottom);return this.closestSlotToPosition((D.y-x.top)/M)},closestSlotFromDate:function(D){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(D,t,"minutes"))return d[0];if(s.gt(D,r,"minutes"))return d[d.length-1];var M=s.diff(t,D,"minutes");return d[(M-M%n)/n+x]},startsBeforeDay:function(D){return s.lt(D,t,"day")},startsAfterDay:function(D){return s.gt(D,r,"day")},startsBefore:function(D){return s.lt(s.merge(t,D),t,"minutes")},startsAfter:function(D){return s.gt(s.merge(r,D),r,"minutes")},getRange:function(D,x,M,k){M||(D=s.min(r,s.max(t,D))),k||(x=s.min(r,s.max(t,x)));var R=w(D),O=w(x),Y=O>n*u&&!s.eq(r,x)?(R-n)/(n*u)*100:R/(n*u)*100;return{top:Y,height:O/(n*u)*100-Y,start:w(D),startDate:D,end:w(x),endDate:x}},getCurrentTimePosition:function(D){var x=w(D),M=x/(n*u)*100;return M}}}var Af=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Se(this,e);var s=a.getRange(n.start(t),n.end(t)),i=s.start,o=s.startDate,l=s.end,c=s.endDate,u=s.top,f=s.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+c,this.top=u,this.height=f,this.data=t}return xe(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,s){return Math.max(a,s.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,s=a.indexOf(this);return s===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,s=r._width,i=n.indexOf(this)+1;return a+i*s}}])}();function Yf(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function $f(e){for(var t=Xl(e,["startMs",function(o){return-o.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var s=t[a];if(!(n.endMs>s.startMs)){if(a>0){var i=t.splice(a,1)[0];r.push(i)}break}}}return r}function No(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=t.map(function(u){return new Af(u,{slotMetrics:n,accessors:a})}),i=$f(s),o=[],l=function(){var f=i[c],d=o.find(function(m){return m.end>f.start||Math.abs(f.start-m.start)<r});if(!d)return f.rows=[],o.push(f),1;f.container=d;for(var h=null,v=d.rows.length-1;!h&&v>=0;v--)Yf(d.rows[v],f,r)&&(h=d.rows[v]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],d.rows.push(f))},c=0;c<i.length;c++)l();return i.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function To(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=To(e.friends[n],t,r);t=t>a?t:a}return t}function Wf(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=No({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});s.sort(function(K,B){return K=K.style,B=B.style,K.top!==B.top?K.top>B.top?1:-1:K.height!==B.height?K.top+K.height<B.top+B.height?1:-1:0});for(var i=0;i<s.length;++i)s[i].friends=[],delete s[i].style.left,delete s[i].style.left,delete s[i].idx,delete s[i].size;for(var o=0;o<s.length-1;++o)for(var l=s[o],c=l.style.top,u=l.style.top+l.style.height,f=o+1;f<s.length;++f){var d=s[f],h=d.style.top,v=d.style.top+d.style.height;(h>=c&&v<=u||v>c&&v<=u||h>=c&&h<u)&&(l.friends.push(d),d.friends.push(l))}for(var m=0;m<s.length;++m){for(var p=s[m],b=[],w=0;w<100;++w)b.push(1);for(var _=0;_<p.friends.length;++_)p.friends[_].idx!==void 0&&(b[p.friends[_].idx]=0);p.idx=b.indexOf(1)}for(var D=0;D<s.length;++D){var x=0;if(!s[D].size){var M=[],k=To(s[D],0,M);x=100/(k+1),s[D].size=x;for(var R=0;R<M.length;++R)M[R].size=x}}for(var O=0;O<s.length;++O){var Y=s[O];Y.style.left=Y.idx*Y.size;for(var W=0,H=0;H<Y.friends.length;++H){var C=Y.friends[H].idx;W=W>C?W:C}W<=Y.idx&&(Y.size=100-Y.idx*Y.size);var V=Y.idx===0?0:3;Y.style.width="calc(".concat(Y.size,"% - ").concat(V,"px)"),Y.style.height="calc(".concat(Y.style.height,"% - 2px)"),Y.style.xOffset="calc(".concat(Y.style.left,"% + ").concat(V,"px)")}return s}var Ai={overlap:No,"no-overlap":Wf};function Lf(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Ff(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in Ai&&(r=Ai[t]),Lf(r)?r.apply(this,arguments):[]}var Ro=function(e){function t(){return Se(this,t),Oe(this,t,arguments)}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,s=n.resource,i=n.group,o=n.getters,l=n.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?Je:u,d=o?o.slotGroupProp(i):{};return y.createElement("div",Object.assign({className:"rbc-timeslot-group"},d),i.map(function(h,v){var m=o?o.slotProp(h,s):{};return y.createElement(f,{key:v,value:h,resource:s},y.createElement("div",Object.assign({},m,{className:pe("rbc-time-slot",m.className)}),a&&a(h,v)))}))}}])}(U.Component);function on(e){return typeof e=="string"?e:e+"%"}function jf(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,s=e.rtl,i=e.selected,o=e.label,l=e.continuesPrior,c=e.continuesAfter,u=e.getters,f=e.onClick,d=e.onDoubleClick,h=e.isBackgroundEvent,v=e.onKeyPress,m=e.components,p=m.event,b=m.eventWrapper,w=a.title(n),_=a.tooltip(n),D=a.end(n),x=a.start(n),M=u.eventProp(n,x,D,i),k=[y.createElement("div",{key:"1",className:"rbc-event-label"},o),y.createElement("div",{key:"2",className:"rbc-event-content"},p?y.createElement(p,{event:n,title:w}):w)],R=t.height,O=t.top,Y=t.width,W=t.xOffset,H=le(le({},M.style),{},Vt({top:on(O),height:on(R),width:on(Y)},s?"right":"left",on(W)));return y.createElement(b,Object.assign({type:"time"},e),y.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:d,style:H,onKeyDown:v,title:_?(typeof o=="string"?o+": ":"")+_:void 0,className:pe(h?"rbc-background-event":"rbc-event",r,M.className,{"rbc-selected":i,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},k))}var If=function(t){var r=t.children,n=t.className,a=t.style,s=t.innerRef;return y.createElement("div",{className:n,style:a,ref:s},r)},Hf=y.forwardRef(function(e,t){return y.createElement(If,Object.assign({},e,{innerRef:t}))}),Uf=["dayProp"],zf=["eventContainerWrapper","timeIndicatorWrapper"],Co=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Oe(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var o=i.events,l=i.isBackgroundEvent,c=r.props,u=c.rtl,f=c.selected,d=c.accessors,h=c.localizer,v=c.getters,m=c.components,p=c.step,b=c.timeslots,w=c.dayLayoutAlgorithm,_=c.resizable,D=r,x=D.slotMetrics,M=h.messages,k=Ff({events:o,accessors:d,slotMetrics:x,minimumStartDifference:Math.ceil(p*b/2),dayLayoutAlgorithm:w});return k.map(function(R,O){var Y,W=R.event,H=R.style,C=d.end(W),V=d.start(W),K=(Y=d.eventId(W))!==null&&Y!==void 0?Y:"evt_"+O,B="eventTimeRangeFormat",X,oe=x.startsBeforeDay(V),he=x.startsAfterDay(C);oe?B="eventTimeRangeEndFormat":he&&(B="eventTimeRangeStartFormat"),oe&&he?X=M.allDay:X=h.format({start:V,end:C},B);var we=oe||x.startsBefore(V),E=he||x.startsAfter(C);return y.createElement(jf,{style:H,event:W,label:X,key:K,getters:v,rtl:u,components:m,continuesPrior:we,continuesAfter:E,accessors:d,resource:r.props.resource,selected:Ln(W,f),onClick:function($){return r._select(le(le(le({},W),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),$)},onDoubleClick:function($){return r._doubleClick(W,$)},isBackgroundEvent:l,onKeyPress:function($){return r._keyPress(W,$)},resizable:_})})},r._selectable=function(){var i=r.containerRef.current,o=r.props,l=o.longPressThreshold,c=o.localizer,u=r._selector=new _o(function(){return i},{longPressThreshold:l}),f=function(m){var p=r.props.onSelecting,b=r.state||{},w=d(m),_=w.startDate,D=w.endDate;p&&(c.eq(b.startDate,_,"minutes")&&c.eq(b.endDate,D,"minutes")||p({start:_,end:D,resourceId:r.props.resource})===!1)||(r.state.start!==w.start||r.state.end!==w.end||r.state.selecting!==w.selecting)&&r.setState(w)},d=function(m){var p=r.slotMetrics.closestSlotFromPoint(m,It(i));r.state.selecting||(r._initialSlot=p);var b=r._initialSlot;c.lte(b,p)?p=r.slotMetrics.nextSlot(p):c.gt(b,p)&&(b=r.slotMetrics.nextSlot(b));var w=r.slotMetrics.getRange(c.min(b,p),c.max(b,p));return le(le({},w),{},{selecting:!0,top:"".concat(w.top,"%"),height:"".concat(w.height,"%")})},h=function(m,p){if(!Tn(r.containerRef.current,m)){var b=d(m),w=b.startDate,_=b.endDate;r._selectSlot({startDate:w,endDate:_,action:p,box:m})}r.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!Tn(r.containerRef.current,v)}),u.on("click",function(v){return h(v,"click")}),u.on("doubleClick",function(v){return h(v,"doubleClick")}),u.on("select",function(v){r.state.selecting&&(r._selectSlot(le(le({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),u.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var o=i.startDate,l=i.endDate,c=i.action,u=i.bounds,f=i.box,d=o,h=[];r.props.localizer.lte(d,l);)h.push(d),d=new Date(+d+r.props.step*60*1e3);ue(r.props.onSelectSlot,{slots:h,start:o,end:l,resourceId:r.props.resource,action:c,bounds:u,box:f})},r._select=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onSelectEvent,o)},r._doubleClick=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onDoubleClickEvent,o)},r._keyPress=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onKeyPressEvent,o)},r.slotMetrics=rs(r.props),r.containerRef=U.createRef(),r}return ke(t,e),xe(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var s=this.props,i=s.getNow,o=s.isNow,l=s.localizer,c=s.date,u=s.min,f=s.max,d=l.neq(n.getNow(),i(),"minutes");if(n.isNow!==o||d){if(this.clearTimeIndicatorInterval(),o){var h=!d&&l.eq(n.date,c,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else o&&(l.neq(n.min,u,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,s=n.max,i=n.getNow,o=i();if(o>=a&&o<=s){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.max,i=n.rtl,o=n.isNow,l=n.resource,c=n.accessors,u=n.localizer,f=n.getters,d=f.dayProp,h=rt(f,Uf),v=n.components,m=v.eventContainerWrapper,p=v.timeIndicatorWrapper,b=rt(v,zf);this.slotMetrics=this.slotMetrics.update(this.props);var w=this.slotMetrics,_=this.state,D=_.selecting,x=_.top,M=_.height,k=_.startDate,R=_.endDate,O={start:k,end:R},Y=d(s,l),W=Y.className,H=Y.style,C={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},V=b.dayColumnWrapper||Hf;return y.createElement(V,{ref:this.containerRef,date:a,style:H,className:pe(W,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",D&&"rbc-slot-selecting"),slotMetrics:w,resource:l},w.groups.map(function(K,B){return y.createElement(Ro,{key:B,group:K,resource:l,getters:h,components:b})}),y.createElement(m,{localizer:u,resource:l,accessors:c,getters:h,components:b,slotMetrics:w},y.createElement("div",{className:pe("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),D&&y.createElement("div",{className:"rbc-slot-selection",style:{top:x,height:M}},y.createElement("span",null,u.format(O,"selectRangeFormat"))),o&&this.intervalTriggered&&y.createElement(p,C,y.createElement("div",C)))}}])}(y.Component);Co.defaultProps={dragThroughEvents:!0,timeslots:2};var Po=function(t){var r=t.label;return y.createElement(y.Fragment,null,r)},Vf=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Oe(this,t,[].concat(a)),r.handleHeaderClick=function(i,o,l){l.preventDefault(),ue(r.props.onDrillDown,[i,o])},r.renderRow=function(i){var o=r.props,l=o.events,c=o.rtl,u=o.selectable,f=o.getNow,d=o.range,h=o.getters,v=o.localizer,m=o.accessors,p=o.components,b=o.resizable,w=m.resourceId(i),_=i?l.filter(function(D){return m.resource(D)===w}):l;return y.createElement($r,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:_,resourceId:w,className:"rbc-allday-cell",selectable:u,selected:r.props.selected,components:p,accessors:m,getters:h,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return ke(t,e),xe(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,i=s.localizer,o=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,u=s.components.header,f=u===void 0?ts:u,d=l();return n.map(function(h,v){var m=o(h),p=i.format(h,"dayFormat"),b=c(h),w=b.className,_=b.style,D=y.createElement(f,{date:h,label:p,localizer:i});return y.createElement("div",{key:v,style:_,className:pe("rbc-header",w,i.isSameDate(h,d)&&"rbc-today")},m?y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(M){return a.handleHeaderClick(h,m,M)}},D):y.createElement("span",null,D))})}},{key:"render",value:function(){var n=this,a=this.props,s=a.width,i=a.rtl,o=a.resources,l=a.range,c=a.events,u=a.getNow,f=a.accessors,d=a.selectable,h=a.components,v=a.getters,m=a.scrollRef,p=a.localizer,b=a.isOverflowing,w=a.components,_=w.timeGutterHeader,D=w.resourceHeader,x=D===void 0?Po:D,M=a.resizable,k={};b&&(k[i?"marginLeft":"marginRight"]="".concat(Xa()-1,"px"));var R=o.groupEvents(c);return y.createElement("div",{style:k,ref:m,className:pe("rbc-time-header",b&&"rbc-overflowing")},y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},_&&y.createElement(_,null)),o.map(function(O,Y){var W=Ie(O,2),H=W[0],C=W[1];return y.createElement("div",{className:"rbc-time-header-content",key:H||Y},C&&y.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(Y)},y.createElement("div",{className:"rbc-header"},y.createElement(x,{index:Y,label:f.resourceTitle(C),resource:C}))),y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),y.createElement($r,{isAllDay:!0,rtl:i,getNow:u,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:R.get(H)||[],resourceId:C&&H,className:"rbc-allday-cell",selectable:d,selected:n.props.selected,components:h,accessors:f,getters:v,localizer:p,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:M}))}))}}])}(y.Component),Bf=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Oe(this,t,[].concat(a)),r.handleHeaderClick=function(i,o,l){l.preventDefault(),ue(r.props.onDrillDown,[i,o])},r}return ke(t,e),xe(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,i=s.localizer,o=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,u=s.components,f=u.header,d=f===void 0?ts:f,h=u.resourceHeader,v=h===void 0?Po:h,m=s.resources,p=s.accessors,b=s.events,w=s.rtl,_=s.selectable,D=s.components,x=s.getters,M=s.resizable,k=l(),R=m.groupEvents(b);return n.map(function(O,Y){var W=o(O),H=i.format(O,"dayFormat"),C=c(O),V=C.className,K=C.style,B=y.createElement(d,{date:O,label:H,localizer:i});return y.createElement("div",{key:Y,className:"rbc-time-header-content rbc-resource-grouping"},y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},y.createElement("div",{style:K,className:pe("rbc-header",V,i.isSameDate(O,k)&&"rbc-today")},W?y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(oe){return a.handleHeaderClick(O,W,oe)}},B):y.createElement("span",null,B))),y.createElement("div",{className:"rbc-row"},m.map(function(X,oe){var he=Ie(X,2),we=he[0],E=he[1];return y.createElement("div",{key:"resource_".concat(we,"_").concat(oe),className:pe("rbc-header",V,i.isSameDate(O,k)&&"rbc-today")},y.createElement(v,{index:oe,label:p.resourceTitle(E),resource:E}))})),y.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(X,oe){var he=Ie(X,2),we=he[0],E=he[1],N=(R.get(we)||[]).filter(function($){return i.isSameDate($.start,O)||i.isSameDate($.end,O)});return y.createElement($r,{key:"resource_".concat(we,"_").concat(oe),isAllDay:!0,rtl:w,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[O],events:N,resourceId:E&&we,className:"rbc-allday-cell",selectable:_,selected:a.props.selected,components:D,accessors:p,getters:x,localizer:i,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:M})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,s=n.rtl,i=n.range,o=n.scrollRef,l=n.isOverflowing,c=n.components.timeGutterHeader,u={};return l&&(u[s?"marginLeft":"marginRight"]="".concat(Xa()-1,"px")),y.createElement("div",{style:u,ref:o,className:pe("rbc-time-header",l&&"rbc-overflowing")},y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},c&&y.createElement(c,null)),this.renderHeaderCells(i))}}])}(y.Component);function Gf(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var qf=function(t){var r=t.min,n=t.max,a=t.timeslots,s=t.step,i=t.localizer,o=t.getNow,l=t.resource,c=t.components,u=t.getters,f=t.gutterRef,d=c.timeGutterWrapper,h=U.useMemo(function(){return Gf({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),v=h.start,m=h.end,p=U.useState(rs({min:v,max:m,timeslots:a,step:s,localizer:i})),b=Ie(p,2),w=b[0],_=b[1];U.useEffect(function(){w&&_(w.update({min:v,max:m,timeslots:a,step:s,localizer:i}))},[v==null?void 0:v.toISOString(),m==null?void 0:m.toISOString(),a,s]);var D=U.useCallback(function(x,M){if(M)return null;var k=w.dateIsInGroup(o(),M);return y.createElement("span",{className:pe("rbc-label",k&&"rbc-now")},i.format(x,"timeGutterFormat"))},[w,i,o]);return y.createElement(d,{slotMetrics:w},y.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},w.groups.map(function(x,M){return y.createElement(Ro,{key:M,group:x,resource:l,components:c,renderSlot:D,getters:u})})))},Kf=y.forwardRef(function(e,t){return y.createElement(qf,Object.assign({gutterRef:t},e))}),ua={};function Xf(e,t){return{map:function(n){return e?e.map(function(a,s){return n([t.resourceId(a),a],s)}):[n([ua,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(s){var i=t.resource(s)||ua;if(Array.isArray(i))i.forEach(function(l){var c=a.get(l)||[];c.push(s),a.set(l,c)});else{var o=a.get(i)||[];o.push(s),a.set(i,o)}}),a):(a.set(ua,n),a)}}}var lr=function(e){function t(r){var n;return Se(this,t),n=Oe(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){Qs(n.rafHandle),n.rafHandle=io(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];ue(n.props.onKeyPressEvent,s)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];ue(n.props.onSelectEvent,s)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];ue(n.props.onDoubleClickEvent,s)},n.handleShowMore=function(a,s,i,o,l){var c=n.props,u=c.popup,f=c.onDrillDown,d=c.onShowMore,h=c.getDrilldownView,v=c.doShowMoreDrillDown;if(n.clearSelection(),u){var m=so(i,n.containerRef.current);n.setState({overlay:{date:s,events:a,position:le(le({},m),{},{width:"200px"}),target:l}})}else v&&ue(f,[s,h(s)||Q.DAY]);ue(d,[a,s,o])},n.handleSelectAllDaySlot=function(a,s){var i=n.props.onSelectSlot,o=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),ue(i,{slots:a,start:o,end:l,action:s.action,resourceId:s.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var s=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==s&&(n._updatingOverflow=!0,n.setState({isOverflowing:s},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=Ui(function(a,s){return Xf(a,s)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=y.createRef(),n.contentRef=y.createRef(),n.containerRef=y.createRef(),n._scrollRatio=null,n.gutterRef=U.createRef(),n}return ke(t,e),xe(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Qs(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,s,i,o,l,c,u,f,d){var h=this.props,v=h.min,m=h.max,p=(i.get(a)||[]).filter(function(w){return l.inRange(n,c.start(w),c.end(w),"day")}),b=(o.get(a)||[]).filter(function(w){return l.inRange(n,c.start(w),c.end(w),"day")});return y.createElement(Co,Object.assign({},this.props,{localizer:l,min:l.merge(n,v),max:l.merge(n,m),resource:s&&a,components:u,isNow:l.isSameDate(n,d),key:"".concat(a,"-").concat(n),date:n,events:p,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,s,i,o,l,c,u,f){var d=this;return a.map(function(h){var v=Ie(h,2),m=v[0],p=v[1];return n.map(function(b){return d.renderDayColumn(b,m,p,s,i,o,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(n,a,s,i,o,l,c,u,f){var d=this;return n.map(function(h){return y.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},a.map(function(v){var m=Ie(v,2),p=m[0],b=m[1];return y.createElement("div",{style:{flex:1},key:l.resourceId(b)},d.renderDayColumn(h,p,b,s,i,o,l,u,f,c))}))})}},{key:"renderEvents",value:function(n,a,s,i){var o=this.props,l=o.accessors,c=o.localizer,u=o.resourceGroupingLayout,f=o.components,d=o.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,l),v=h.groupEvents(a),m=h.groupEvents(s);return u?this.renderRangeFirst(n,h,v,m,c,l,i,f,d):this.renderResourcesFirst(n,h,v,m,c,l,i,f,d)}},{key:"render",value:function(){var n,a=this.props,s=a.events,i=a.backgroundEvents,o=a.range,l=a.width,c=a.rtl,u=a.selected,f=a.getNow,d=a.resources,h=a.components,v=a.accessors,m=a.getters,p=a.localizer,b=a.min,w=a.max,_=a.showMultiDayTimes,D=a.longPressThreshold,x=a.resizable,M=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var k=o[0],R=o[o.length-1];this.slots=o.length;var O=[],Y=[],W=[];s.forEach(function(C){if(Yr(C,k,R,v,p)){var V=v.start(C),K=v.end(C);v.allDay(C)||p.startAndEndAreDateOnly(V,K)||!_&&!p.isSameDate(V,K)?O.push(C):Y.push(C)}}),i.forEach(function(C){Yr(C,k,R,v,p)&&W.push(C)}),O.sort(function(C,V){return ka(C,V,v,p)});var H={range:o,events:O,width:l,rtl:c,getNow:f,localizer:p,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(d,v),selectable:this.props.selectable,accessors:v,getters:m,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:D,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:x};return y.createElement("div",{className:pe("rbc-time-view",d&&"rbc-time-view-resources"),ref:this.containerRef},d&&d.length>1&&M?y.createElement(Bf,H):y.createElement(Vf,H),this.props.popup&&this.renderOverlay(),y.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},y.createElement(Kf,{date:k,ref:this.gutterRef,localizer:p,min:p.merge(k,b),max:p.merge(k,w),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:m}),this.renderEvents(o,Y,W,f())))}},{key:"renderOverlay",value:function(){var n,a,s=this,i=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,d=o.selected,h=o.popupOffset,v=o.handleDragStart,m=function(){return s.setState({overlay:null})};return y.createElement(es,{overlay:i,accessors:l,localizer:c,components:u,getters:f,selected:d,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,s=(a=n.gutterRef)!==null&&a!==void 0&&a.current?_a(n.gutterRef.current):void 0;s&&n.state.gutterWidth!==s&&n.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,s=n.max,i=n.scrollToTime,o=n.localizer,l=o.diff(o.merge(i,a),i,"milliseconds"),c=o.diff(a,s,"milliseconds");this._scrollRatio=l/c}}])}(U.Component);lr.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Zf=["date","localizer","min","max","scrollToTime","enableAutoScroll"],jn=function(e){function t(){return Se(this,t),Oe(this,t,arguments)}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.min,o=i===void 0?s.startOf(new Date,"day"):i,l=n.max,c=l===void 0?s.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?s.startOf(new Date,"day"):u,d=n.enableAutoScroll,h=d===void 0?!0:d,v=rt(n,Zf),m=t.range(a,{localizer:s});return y.createElement(lr,Object.assign({},v,{range:m,eventOffset:10,localizer:s,min:o,max:c,scrollToTime:f,enableAutoScroll:h}))}}])}(y.Component);jn.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};jn.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ae.PREVIOUS:return n.add(e,-1,"day");case Ae.NEXT:return n.add(e,1,"day");default:return e}};jn.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var Jf=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Et=function(e){function t(){return Se(this,t),Oe(this,t,arguments)}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.min,o=i===void 0?s.startOf(new Date,"day"):i,l=n.max,c=l===void 0?s.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?s.startOf(new Date,"day"):u,d=n.enableAutoScroll,h=d===void 0?!0:d,v=rt(n,Jf),m=t.range(a,this.props);return y.createElement(lr,Object.assign({},v,{range:m,eventOffset:15,localizer:s,min:o,max:c,scrollToTime:f,enableAutoScroll:h}))}}])}(y.Component);Et.defaultProps=lr.defaultProps;Et.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ae.PREVIOUS:return n.add(e,-1,"week");case Ae.NEXT:return n.add(e,1,"week");default:return e}};Et.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),s=r.endOf(e,"week",n);return r.range(a,s)};Et.title=function(e,t){var r=t.localizer,n=Et.range(e,{localizer:r}),a=go(n),s=a[0],i=a.slice(1);return r.format({start:s,end:i.pop()},"dayRangeHeaderFormat")};var Qf=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function ns(e,t){return Et.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Br=function(e){function t(){return Se(this,t),Oe(this,t,arguments)}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,i=n.min,o=i===void 0?s.startOf(new Date,"day"):i,l=n.max,c=l===void 0?s.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?s.startOf(new Date,"day"):u,d=n.enableAutoScroll,h=d===void 0?!0:d,v=rt(n,Qf),m=ns(a,this.props);return y.createElement(lr,Object.assign({},v,{range:m,eventOffset:15,localizer:s,min:o,max:c,scrollToTime:f,enableAutoScroll:h}))}}])}(y.Component);Br.defaultProps=lr.defaultProps;Br.range=ns;Br.navigate=Et.navigate;Br.title=function(e,t){var r=t.localizer,n=ns(e,{localizer:r}),a=go(n),s=a[0],i=a.slice(1);return r.format({start:s,end:i.pop()},"dayRangeHeaderFormat")};var In=30;function Hn(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,s=e.getters,i=e.length,o=i===void 0?In:i,l=e.localizer,c=e.onDoubleClickEvent,u=e.onSelectEvent,f=e.selected,d=U.useRef(null),h=U.useRef(null),v=U.useRef(null),m=U.useRef(null),p=U.useRef(null);U.useEffect(function(){_()});var b=function(R,O,Y){var W=r.event,H=r.date;return O=O.filter(function(C){return Yr(C,l.startOf(R,"day"),l.endOf(R,"day"),t,l)}),O.map(function(C,V){var K=t.title(C),B=t.end(C),X=t.start(C),oe=s.eventProp(C,X,B,Ln(C,f)),he=V===0&&l.format(R,"agendaDateFormat"),we=V===0?y.createElement("td",{rowSpan:O.length,className:"rbc-agenda-date-cell"},H?y.createElement(H,{day:R,label:he}):he):!1;return y.createElement("tr",{key:Y+"_"+V,className:oe.className,style:oe.style},we,y.createElement("td",{className:"rbc-agenda-time-cell"},w(R,C)),y.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(N){return u&&u(C,N)},onDoubleClick:function(N){return c&&c(C,N)}},W?y.createElement(W,{event:C,title:K}):K))},[])},w=function(R,O){var Y="",W=r.time,H=l.messages.allDay,C=t.end(O),V=t.start(O);return t.allDay(O)||(l.eq(V,C)?H=l.format(V,"agendaTimeFormat"):l.isSameDate(V,C)?H=l.format({start:V,end:C},"agendaTimeRangeFormat"):l.isSameDate(R,V)?H=l.format(V,"agendaTimeFormat"):l.isSameDate(R,C)&&(H=l.format(C,"agendaTimeFormat"))),l.gt(R,V,"day")&&(Y="rbc-continues-prior"),l.lt(R,C,"day")&&(Y+=" rbc-continues-after"),y.createElement("span",{className:Y.trim()},W?y.createElement(W,{event:O,day:R,label:H}):H)},_=function(){if(p.current){var R=d.current,O=p.current.firstChild;if(O){var Y=m.current.scrollHeight>m.current.clientHeight,W=[],H=W;W=[_a(O.children[0]),_a(O.children[1])],(H[0]!==W[0]||H[1]!==W[1])&&(h.current.style.width=W[0]+"px",v.current.style.width=W[1]+"px"),Y?(Bl(R,"rbc-header-overflowing"),R.style.marginRight=Xa()+"px"):Gl(R,"rbc-header-overflowing")}}},D=l.messages,x=l.add(n,o,"day"),M=l.range(n,x,"day");return a=a.filter(function(k){return Yr(k,l.startOf(n,"day"),l.endOf(x,"day"),t,l)}),a.sort(function(k,R){return+t.start(k)-+t.start(R)}),y.createElement("div",{className:"rbc-agenda-view"},a.length!==0?y.createElement(y.Fragment,null,y.createElement("table",{ref:d,className:"rbc-agenda-table"},y.createElement("thead",null,y.createElement("tr",null,y.createElement("th",{className:"rbc-header",ref:h},D.date),y.createElement("th",{className:"rbc-header",ref:v},D.time),y.createElement("th",{className:"rbc-header"},D.event)))),y.createElement("div",{className:"rbc-agenda-content",ref:m},y.createElement("table",{className:"rbc-agenda-table"},y.createElement("tbody",{ref:p},M.map(function(k,R){return b(k,a,R)}))))):y.createElement("span",{className:"rbc-agenda-empty"},D.noEventsInRange))}Hn.range=function(e,t){var r=t.length,n=r===void 0?In:r,a=t.localizer,s=a.add(e,n,"day");return{start:e,end:s}};Hn.navigate=function(e,t,r){var n=r.length,a=n===void 0?In:n,s=r.localizer;switch(t){case Ae.PREVIOUS:return s.add(e,-a,"day");case Ae.NEXT:return s.add(e,a,"day");default:return e}};Hn.title=function(e,t){var r=t.length,n=r===void 0?In:r,a=t.localizer,s=a.add(e,n,"day");return a.format({start:e,end:s},"agendaHeaderFormat")};var xn=Vt(Vt(Vt(Vt(Vt({},Q.MONTH,Fn),Q.WEEK,Et),Q.WORK_WEEK,Br),Q.DAY,jn),Q.AGENDA,Hn),eh=["action","date","today"];function th(e,t){var r=t.action,n=t.date,a=t.today,s=rt(t,eh);switch(e=typeof e=="string"?xn[e]:e,r){case Ae.TODAY:n=a||new Date;break;case Ae.DATE:break;default:Sr(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,s)}return n}function rh(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Wa(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var lt=function(t){return function(r){return rh(r,t)}},nh=["view","date","getNow","onNavigate"],ah=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Ao(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=Ie(n[r],2),s=a[0],i=a[1];i&&t.push(s)}return t}function sh(e,t){var r=t.views,n=Ao(r);return n.indexOf(e)!==-1}var Yo=function(e){function t(){var r;Se(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Oe(this,t,[].concat(a)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?Ed(i,function(o,l){return o[l]=xn[l]},{}):Wa(i)==="object"?ql(i,function(o,l){return o===!0?xn[l]:o}):xn},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var o=r.props,l=o.view,c=o.drilldownView,u=o.getDrilldownView;return u?u(i,l,Object.keys(r.getViews())):c},r.handleRangeChange=function(i,o,l){var c=r.props,u=c.onRangeChange,f=c.localizer;u&&o.range&&u(o.range(i,{localizer:f}),l)},r.handleNavigate=function(i,o){var l=r.props,c=l.view,u=l.date,f=l.getNow,d=l.onNavigate,h=rt(l,nh),v=r.getView(),m=f();u=th(v,le(le({},h),{},{action:i,date:o||u||m,today:m})),d(u,c,i),r.handleRangeChange(u,v)},r.handleViewChange=function(i){i!==r.props.view&&sh(i,r.props)&&r.props.onView(i);var o=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),o[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];ue(r.props.onKeyPressEvent,o)},r.handleSelectSlot=function(i){ue(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,o){var l=r.props.onDrillDown;if(l){l(i,o,r.drilldownView);return}o&&r.handleViewChange(o),r.handleNavigate(Ae.DATE,i)},r.state={context:t.getContext(r.props)},r}return ke(t,e),xe(t,[{key:"render",value:function(){var n=this.props,a=n.view,s=n.toolbar,i=n.events,o=n.backgroundEvents,l=n.resourceGroupingLayout,c=n.style,u=n.className,f=n.elementProps,d=n.date,h=n.getNow,v=n.length,m=n.showMultiDayTimes,p=n.onShowMore,b=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var w=rt(n,ah);d=d||h();var _=this.getView(),D=this.state.context,x=D.accessors,M=D.components,k=D.getters,R=D.localizer,O=D.viewNames,Y=M.toolbar||lf,W=_.title(d,{localizer:R,length:v});return y.createElement("div",Object.assign({},f,{className:pe(u,"rbc-calendar",w.rtl&&"rbc-rtl"),style:c}),s&&y.createElement(Y,{date:d,view:a,views:O,label:W,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:R}),y.createElement(_,Object.assign({},w,{events:i,backgroundEvents:o,date:d,getNow:h,length:v,localizer:R,getters:k,components:M,accessors:x,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:p,doShowMoreDrillDown:b,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,s=n.endAccessor,i=n.allDayAccessor,o=n.tooltipAccessor,l=n.titleAccessor,c=n.resourceAccessor,u=n.resourceIdAccessor,f=n.resourceTitleAccessor,d=n.eventIdAccessor,h=n.eventPropGetter,v=n.backgroundEventPropGetter,m=n.slotPropGetter,p=n.slotGroupPropGetter,b=n.dayPropGetter,w=n.view,_=n.views,D=n.localizer,x=n.culture,M=n.messages,k=M===void 0?{}:M,R=n.components,O=R===void 0?{}:R,Y=n.formats,W=Y===void 0?{}:Y,H=Ao(_),C=uf(k);return{viewNames:H,localizer:of(D,x,W,C),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return p&&p.apply(void 0,arguments)||{}},dayProp:function(){return b&&b.apply(void 0,arguments)||{}}},components:Sd(O[w]||{},Vl(O,H),{eventWrapper:Je,backgroundEventWrapper:Je,eventContainerWrapper:Je,dateCellWrapper:Je,weekWrapper:Je,timeSlotWrapper:Je,timeGutterWrapper:Je,timeIndicatorWrapper:Je}),accessors:{start:lt(a),end:lt(s),allDay:lt(i),tooltip:lt(o),title:lt(l),resource:lt(c),resourceId:lt(u),resourceTitle:lt(f),eventId:lt(d)}}}}])}(y.Component);Yo.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Q.MONTH,views:[Q.MONTH,Q.WEEK,Q.DAY,Q.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Q.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var ih=qi(Yo,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),oh=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"MMMM DD",r)+" – "+n.format(s,n.eq(a,s,"month")?"DD":"MMMM DD",r)},lh=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"L",r)+" – "+n.format(s,"L",r)},da=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"LT",r)+" – "+n.format(s,"LT",r)},ch=function(t,r,n){var a=t.start;return n.format(a,"LT",r)+" – "},uh=function(t,r,n){var a=t.end;return" – "+n.format(a,"LT",r)},dh={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:da,eventTimeRangeFormat:da,eventTimeRangeStartFormat:ch,eventTimeRangeEndFormat:uh,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:oh,agendaHeaderFormat:lh,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:da};function Dt(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function fh(e){var t=function(N,$){return $?N.locale($):N};function r(E){return e(E).toDate().getTimezoneOffset()}function n(E,N){var $,F,I=e(E).local(),J=e(N).local();if(!e.tz)return I.toDate().getTimezoneOffset()-J.toDate().getTimezoneOffset();var se=($=I==null||(F=I._z)===null||F===void 0?void 0:F.name)!==null&&$!==void 0?$:e.tz.guess(),ne=e.tz.zone(se).utcOffset(+I),Ne=e.tz.zone(se).utcOffset(+J);return ne-Ne}function a(E){var N=e(E).startOf("day");return n(N,E)}function s(E,N,$){var F=Dt($),I=F?e(E).startOf(F):e(E),J=F?e(N).startOf(F):e(N);return[I,J,F]}function i(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0,$=Dt(N);return $?e(E).startOf($).toDate():e(E).toDate()}function o(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0,$=Dt(N);return $?e(E).endOf($).toDate():e(E).toDate()}function l(E,N,$){var F=s(E,N,$),I=Ie(F,3),J=I[0],se=I[1],ne=I[2];return J.isSame(se,ne)}function c(E,N,$){return!l(E,N,$)}function u(E,N,$){var F=s(E,N,$),I=Ie(F,3),J=I[0],se=I[1],ne=I[2];return J.isAfter(se,ne)}function f(E,N,$){var F=s(E,N,$),I=Ie(F,3),J=I[0],se=I[1],ne=I[2];return J.isBefore(se,ne)}function d(E,N,$){var F=s(E,N,$),I=Ie(F,3),J=I[0],se=I[1],ne=I[2];return J.isSameOrBefore(se,ne)}function h(E,N,$){var F=s(E,N,$),I=Ie(F,3),J=I[0],se=I[1],ne=I[2];return J.isSameOrBefore(se,ne)}function v(E,N,$){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",I=Dt(F),J=e(E),se=e(N),ne=e($);return J.isBetween(se,ne,I,"[]")}function m(E,N){var $=e(E),F=e(N),I=e.min($,F);return I.toDate()}function p(E,N){var $=e(E),F=e(N),I=e.max($,F);return I.toDate()}function b(E,N){if(!E&&!N)return null;var $=e(N).format("HH:mm:ss"),F=e(E).startOf("day").format("MM/DD/YYYY");return e("".concat(F," ").concat($),"MM/DD/YYYY HH:mm:ss").toDate()}function w(E,N,$){var F=Dt($);return e(E).add(N,F).toDate()}function _(E,N){for(var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",F=Dt($),I=e(E).toDate(),J=[];h(I,N);)J.push(I),I=w(I,1,F);return J}function D(E,N){var $=Dt(N),F=i(E,$);return l(F,E)?F:w(F,1,$)}function x(E,N){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",F=Dt($),I=e(E),J=e(N);return J.diff(I,F)}function M(E){var N=e(E);return N.minutes()}function k(E){var N=E?e.localeData(E):e.localeData();return N?N.firstDayOfWeek():0}function R(E){return e(E).startOf("month").startOf("week").toDate()}function O(E){return e(E).endOf("month").endOf("week").toDate()}function Y(E){for(var N=R(E),$=O(E),F=[];h(N,$);)F.push(N),N=w(N,1,"d");return F}function W(E,N,$){return e(E).startOf("day").minute(N+$).toDate()}function H(E,N){return x(E,N,"minutes")}function C(E){var N=e(E).startOf("day"),$=e(E);return $.diff(N,"minutes")+a(E)}function V(E,N){var $=e(E),F=e(N);return $.isBefore(F,"day")}function K(E,N,$){var F=e(N),I=e($);return F.isSameOrAfter(I,"minutes")}function B(E,N){var $=e(E),F=e(N),I=e.duration(F.diff($));return I.days()}function X(E){var N=E.evtA,$=N.start,F=N.end,I=N.allDay,J=E.evtB,se=J.start,ne=J.end,Ne=J.allDay,it=+i($,"day")-+i(se,"day"),Ze=B($,F),wt=B(se,ne);return it||wt-Ze||!!Ne-!!I||+$-+se||+F-+ne}function oe(E){var N=E.event,$=N.start,F=N.end,I=E.range,J=I.start,se=I.end,ne=e($).startOf("day"),Ne=e(F),it=e(J),Ze=e(se),wt=ne.isSameOrBefore(Ze,"day"),Nt=!ne.isSame(Ne,"minutes"),Ut=Nt?Ne.isAfter(it,"minutes"):Ne.isSameOrAfter(it,"minutes");return wt&&Ut}function he(E,N){var $=e(E),F=e(N);return $.isSame(F,"day")}function we(){var E=new Date,N=/-/.test(E.toString())?"-":"",$=E.getTimezoneOffset(),F=Number("".concat(N).concat(Math.abs($))),I=e().utcOffset();return I>F?1:0}return new sf({formats:dh,firstOfWeek:k,firstVisibleDay:R,lastVisibleDay:O,visibleDays:Y,format:function(N,$,F){return t(e(N),F).format($)},lt:f,lte:h,gt:u,gte:d,eq:l,neq:c,merge:b,inRange:v,startOf:i,endOf:o,range:_,add:w,diff:x,ceil:D,min:m,max:p,minutes:M,getSlotDate:W,getTimezoneOffset:r,getDstOffset:n,getTotalMin:H,getMinutesFromMidnight:C,continuesPrior:V,continuesAfter:K,sortEvents:X,inEventRange:oe,isSameDate:he,daySpan:B,browserTZOffset:we})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var $o;function L(){return $o.apply(null,arguments)}function hh(e){$o=e}function qe(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function At(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function te(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function as(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(te(e,t))return!1;return!0}function Re(e){return e===void 0}function pt(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Gr(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Wo(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function xt(e,t){for(var r in t)te(t,r)&&(e[r]=t[r]);return te(t,"toString")&&(e.toString=t.toString),te(t,"valueOf")&&(e.valueOf=t.valueOf),e}function at(e,t,r,n){return il(e,t,r,n,!0).utc()}function mh(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function G(e){return e._pf==null&&(e._pf=mh()),e._pf}var Na;Array.prototype.some?Na=Array.prototype.some:Na=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function ss(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=G(e),r=Na.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Un(e){var t=at(NaN);return e!=null?xt(G(t),e):G(t).userInvalidated=!0,t}var Yi=L.momentProperties=[],fa=!1;function is(e,t){var r,n,a,s=Yi.length;if(Re(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Re(t._i)||(e._i=t._i),Re(t._f)||(e._f=t._f),Re(t._l)||(e._l=t._l),Re(t._strict)||(e._strict=t._strict),Re(t._tzm)||(e._tzm=t._tzm),Re(t._isUTC)||(e._isUTC=t._isUTC),Re(t._offset)||(e._offset=t._offset),Re(t._pf)||(e._pf=G(t)),Re(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)n=Yi[r],a=t[n],Re(a)||(e[n]=a);return e}function qr(e){is(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fa===!1&&(fa=!0,L.updateOffset(this),fa=!1)}function Ke(e){return e instanceof qr||e!=null&&e._isAMomentObject!=null}function Lo(e){L.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ze(e,t){var r=!0;return xt(function(){if(L.deprecationHandler!=null&&L.deprecationHandler(null,e),r){var n=[],a,s,i,o=arguments.length;for(s=0;s<o;s++){if(a="",typeof arguments[s]=="object"){a+=`
[`+s+"] ";for(i in arguments[0])te(arguments[0],i)&&(a+=i+": "+arguments[0][i]+", ");a=a.slice(0,-2)}else a=arguments[s];n.push(a)}Lo(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var $i={};function Fo(e,t){L.deprecationHandler!=null&&L.deprecationHandler(e,t),$i[e]||(Lo(t),$i[e]=!0)}L.suppressDeprecationWarnings=!1;L.deprecationHandler=null;function st(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function vh(e){var t,r;for(r in e)te(e,r)&&(t=e[r],st(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ta(e,t){var r=xt({},e),n;for(n in t)te(t,n)&&(At(e[n])&&At(t[n])?(r[n]={},xt(r[n],e[n]),xt(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)te(e,n)&&!te(t,n)&&At(e[n])&&(r[n]=xt({},r[n]));return r}function os(e){e!=null&&this.set(e)}var Ra;Object.keys?Ra=Object.keys:Ra=function(e){var t,r=[];for(t in e)te(e,t)&&r.push(t);return r};var ph={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function gh(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return st(n)?n.call(t,r):n}function nt(e,t,r){var n=""+Math.abs(e),a=t-n.length,s=e>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var ls=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ln=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ha={},Xt={};function z(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(Xt[e]=a),t&&(Xt[t[0]]=function(){return nt(a.apply(this,arguments),t[1],t[2])}),r&&(Xt[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function yh(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function wh(e){var t=e.match(ls),r,n;for(r=0,n=t.length;r<n;r++)Xt[t[r]]?t[r]=Xt[t[r]]:t[r]=yh(t[r]);return function(a){var s="",i;for(i=0;i<n;i++)s+=st(t[i])?t[i].call(a,e):t[i];return s}}function Sn(e,t){return e.isValid()?(t=jo(t,e.localeData()),ha[t]=ha[t]||wh(t),ha[t](e)):e.localeData().invalidDate()}function jo(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for(ln.lastIndex=0;r>=0&&ln.test(e);)e=e.replace(ln,n),ln.lastIndex=0,r-=1;return e}var bh={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Dh(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(ls).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var xh="Invalid date";function Sh(){return this._invalidDate}var _h="%d",Mh=/\d{1,2}/;function Eh(e){return this._ordinal.replace("%d",e)}var kh={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Oh(e,t,r,n){var a=this._relativeTime[r];return st(a)?a(e,t,r,n):a.replace(/%d/i,e)}function Nh(e,t){var r=this._relativeTime[e>0?"future":"past"];return st(r)?r(t):r.replace(/%s/i,t)}var Wi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ve(e){return typeof e=="string"?Wi[e]||Wi[e.toLowerCase()]:void 0}function cs(e){var t={},r,n;for(n in e)te(e,n)&&(r=Ve(n),r&&(t[r]=e[n]));return t}var Th={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Rh(e){var t=[],r;for(r in e)te(e,r)&&t.push({unit:r,priority:Th[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var Io=/\d/,We=/\d\d/,Ho=/\d{3}/,us=/\d{4}/,zn=/[+-]?\d{6}/,fe=/\d\d?/,Uo=/\d\d\d\d?/,zo=/\d\d\d\d\d\d?/,Vn=/\d{1,3}/,ds=/\d{1,4}/,Bn=/[+-]?\d{1,6}/,cr=/\d+/,Gn=/[+-]?\d+/,Ch=/Z|[+-]\d\d:?\d\d/gi,qn=/Z|[+-]\d\d(?::?\d\d)?/gi,Ph=/[+-]?\d+(\.\d{1,3})?/,Kr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ur=/^[1-9]\d?/,fs=/^([1-9]\d|\d)/,Rn;Rn={};function j(e,t,r){Rn[e]=st(t)?t:function(n,a){return n&&r?r:t}}function Ah(e,t){return te(Rn,e)?Rn[e](t._strict,t._locale):new RegExp(Yh(e))}function Yh(e){return ht(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,s){return r||n||a||s}))}function ht(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function je(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Z(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=je(t)),r}var Ca={};function ie(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),pt(t)&&(n=function(s,i){i[t]=Z(s)}),a=e.length,r=0;r<a;r++)Ca[e[r]]=n}function Xr(e,t){ie(e,function(r,n,a,s){a._w=a._w||{},t(r,a._w,a,s)})}function $h(e,t,r){t!=null&&te(Ca,e)&&Ca[e](t,r._a,r,e)}function Kn(e){return e%4===0&&e%100!==0||e%400===0}var Ee=0,dt=1,Qe=2,De=3,Be=4,ft=5,Rt=6,Wh=7,Lh=8;z("Y",0,0,function(){var e=this.year();return e<=9999?nt(e,4):"+"+e});z(0,["YY",2],0,function(){return this.year()%100});z(0,["YYYY",4],0,"year");z(0,["YYYYY",5],0,"year");z(0,["YYYYYY",6,!0],0,"year");j("Y",Gn);j("YY",fe,We);j("YYYY",ds,us);j("YYYYY",Bn,zn);j("YYYYYY",Bn,zn);ie(["YYYYY","YYYYYY"],Ee);ie("YYYY",function(e,t){t[Ee]=e.length===2?L.parseTwoDigitYear(e):Z(e)});ie("YY",function(e,t){t[Ee]=L.parseTwoDigitYear(e)});ie("Y",function(e,t){t[Ee]=parseInt(e,10)});function xr(e){return Kn(e)?366:365}L.parseTwoDigitYear=function(e){return Z(e)+(Z(e)>68?1900:2e3)};var Vo=dr("FullYear",!0);function Fh(){return Kn(this.year())}function dr(e,t){return function(r){return r!=null?(Bo(this,e,r),L.updateOffset(this,t),this):Wr(this,e)}}function Wr(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function Bo(e,t,r){var n,a,s,i,o;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,i=e.month(),o=e.date(),o=o===29&&i===1&&!Kn(s)?28:o,a?n.setUTCFullYear(s,i,o):n.setFullYear(s,i,o)}}function jh(e){return e=Ve(e),st(this[e])?this[e]():this}function Ih(e,t){if(typeof e=="object"){e=cs(e);var r=Rh(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=Ve(e),st(this[e]))return this[e](t);return this}function Hh(e,t){return(e%t+t)%t}var ye;Array.prototype.indexOf?ye=Array.prototype.indexOf:ye=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function hs(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Hh(t,12);return e+=(t-r)/12,r===1?Kn(e)?29:28:31-r%7%2}z("M",["MM",2],"Mo",function(){return this.month()+1});z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});z("MMMM",0,0,function(e){return this.localeData().months(this,e)});j("M",fe,ur);j("MM",fe,We);j("MMM",function(e,t){return t.monthsShortRegex(e)});j("MMMM",function(e,t){return t.monthsRegex(e)});ie(["M","MM"],function(e,t){t[dt]=Z(e)-1});ie(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[dt]=a:G(r).invalidMonth=e});var Uh="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Go="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),qo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,zh=Kr,Vh=Kr;function Bh(e,t){return e?qe(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qo).test(t)?"format":"standalone"][e.month()]:qe(this._months)?this._months:this._months.standalone}function Gh(e,t){return e?qe(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qo.test(t)?"format":"standalone"][e.month()]:qe(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function qh(e,t,r){var n,a,s,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=at([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?t==="MMM"?(a=ye.call(this._shortMonthsParse,i),a!==-1?a:null):(a=ye.call(this._longMonthsParse,i),a!==-1?a:null):t==="MMM"?(a=ye.call(this._shortMonthsParse,i),a!==-1?a:(a=ye.call(this._longMonthsParse,i),a!==-1?a:null)):(a=ye.call(this._longMonthsParse,i),a!==-1?a:(a=ye.call(this._shortMonthsParse,i),a!==-1?a:null))}function Kh(e,t,r){var n,a,s;if(this._monthsParseExact)return qh.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=at([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function Ko(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Z(t);else if(t=e.localeData().monthsParse(t),!pt(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,hs(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function Xo(e){return e!=null?(Ko(this,e),L.updateOffset(this,!0),this):Wr(this,"Month")}function Xh(){return hs(this.year(),this.month())}function Zh(e){return this._monthsParseExact?(te(this,"_monthsRegex")||Zo.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(te(this,"_monthsShortRegex")||(this._monthsShortRegex=zh),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Jh(e){return this._monthsParseExact?(te(this,"_monthsRegex")||Zo.call(this),e?this._monthsStrictRegex:this._monthsRegex):(te(this,"_monthsRegex")||(this._monthsRegex=Vh),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Zo(){function e(l,c){return c.length-l.length}var t=[],r=[],n=[],a,s,i,o;for(a=0;a<12;a++)s=at([2e3,a]),i=ht(this.monthsShort(s,"")),o=ht(this.months(s,"")),t.push(i),r.push(o),n.push(o),n.push(i);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Qh(e,t,r,n,a,s,i){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,n,a,s,i),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,n,a,s,i),o}function Lr(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Cn(e,t,r){var n=7+t-r,a=(7+Lr(e,0,n).getUTCDay()-t)%7;return-a+n-1}function Jo(e,t,r,n,a){var s=(7+r-n)%7,i=Cn(e,n,a),o=1+7*(t-1)+s+i,l,c;return o<=0?(l=e-1,c=xr(l)+o):o>xr(e)?(l=e+1,c=o-xr(e)):(l=e,c=o),{year:l,dayOfYear:c}}function Fr(e,t,r){var n=Cn(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,s,i;return a<1?(i=e.year()-1,s=a+mt(i,t,r)):a>mt(e.year(),t,r)?(s=a-mt(e.year(),t,r),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function mt(e,t,r){var n=Cn(e,t,r),a=Cn(e+1,t,r);return(xr(e)-n+a)/7}z("w",["ww",2],"wo","week");z("W",["WW",2],"Wo","isoWeek");j("w",fe,ur);j("ww",fe,We);j("W",fe,ur);j("WW",fe,We);Xr(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Z(e)});function em(e){return Fr(e,this._week.dow,this._week.doy).week}var tm={dow:0,doy:6};function rm(){return this._week.dow}function nm(){return this._week.doy}function am(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function sm(e){var t=Fr(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}z("d",0,"do","day");z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});z("e",0,0,"weekday");z("E",0,0,"isoWeekday");j("d",fe);j("e",fe);j("E",fe);j("dd",function(e,t){return t.weekdaysMinRegex(e)});j("ddd",function(e,t){return t.weekdaysShortRegex(e)});j("dddd",function(e,t){return t.weekdaysRegex(e)});Xr(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:G(r).invalidWeekday=e});Xr(["d","e","E"],function(e,t,r,n){t[n]=Z(e)});function im(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function om(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ms(e,t){return e.slice(t,7).concat(e.slice(0,t))}var lm="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),cm="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),um=Kr,dm=Kr,fm=Kr;function hm(e,t){var r=qe(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?ms(r,this._week.dow):e?r[e.day()]:r}function mm(e){return e===!0?ms(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function vm(e){return e===!0?ms(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function pm(e,t,r){var n,a,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=at([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?t==="dddd"?(a=ye.call(this._weekdaysParse,i),a!==-1?a:null):t==="ddd"?(a=ye.call(this._shortWeekdaysParse,i),a!==-1?a:null):(a=ye.call(this._minWeekdaysParse,i),a!==-1?a:null):t==="dddd"?(a=ye.call(this._weekdaysParse,i),a!==-1||(a=ye.call(this._shortWeekdaysParse,i),a!==-1)?a:(a=ye.call(this._minWeekdaysParse,i),a!==-1?a:null)):t==="ddd"?(a=ye.call(this._shortWeekdaysParse,i),a!==-1||(a=ye.call(this._weekdaysParse,i),a!==-1)?a:(a=ye.call(this._minWeekdaysParse,i),a!==-1?a:null)):(a=ye.call(this._minWeekdaysParse,i),a!==-1||(a=ye.call(this._weekdaysParse,i),a!==-1)?a:(a=ye.call(this._shortWeekdaysParse,i),a!==-1?a:null))}function gm(e,t,r){var n,a,s;if(this._weekdaysParseExact)return pm.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=at([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function ym(e){if(!this.isValid())return e!=null?this:NaN;var t=Wr(this,"Day");return e!=null?(e=im(e,this.localeData()),this.add(e-t,"d")):t}function wm(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function bm(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=om(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Dm(e){return this._weekdaysParseExact?(te(this,"_weekdaysRegex")||vs.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(te(this,"_weekdaysRegex")||(this._weekdaysRegex=um),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function xm(e){return this._weekdaysParseExact?(te(this,"_weekdaysRegex")||vs.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(te(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=dm),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Sm(e){return this._weekdaysParseExact?(te(this,"_weekdaysRegex")||vs.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(te(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=fm),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vs(){function e(u,f){return f.length-u.length}var t=[],r=[],n=[],a=[],s,i,o,l,c;for(s=0;s<7;s++)i=at([2e3,1]).day(s),o=ht(this.weekdaysMin(i,"")),l=ht(this.weekdaysShort(i,"")),c=ht(this.weekdays(i,"")),t.push(o),r.push(l),n.push(c),a.push(o),a.push(l),a.push(c);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function ps(){return this.hours()%12||12}function _m(){return this.hours()||24}z("H",["HH",2],0,"hour");z("h",["hh",2],0,ps);z("k",["kk",2],0,_m);z("hmm",0,0,function(){return""+ps.apply(this)+nt(this.minutes(),2)});z("hmmss",0,0,function(){return""+ps.apply(this)+nt(this.minutes(),2)+nt(this.seconds(),2)});z("Hmm",0,0,function(){return""+this.hours()+nt(this.minutes(),2)});z("Hmmss",0,0,function(){return""+this.hours()+nt(this.minutes(),2)+nt(this.seconds(),2)});function el(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}el("a",!0);el("A",!1);function tl(e,t){return t._meridiemParse}j("a",tl);j("A",tl);j("H",fe,fs);j("h",fe,ur);j("k",fe,ur);j("HH",fe,We);j("hh",fe,We);j("kk",fe,We);j("hmm",Uo);j("hmmss",zo);j("Hmm",Uo);j("Hmmss",zo);ie(["H","HH"],De);ie(["k","kk"],function(e,t,r){var n=Z(e);t[De]=n===24?0:n});ie(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});ie(["h","hh"],function(e,t,r){t[De]=Z(e),G(r).bigHour=!0});ie("hmm",function(e,t,r){var n=e.length-2;t[De]=Z(e.substr(0,n)),t[Be]=Z(e.substr(n)),G(r).bigHour=!0});ie("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[De]=Z(e.substr(0,n)),t[Be]=Z(e.substr(n,2)),t[ft]=Z(e.substr(a)),G(r).bigHour=!0});ie("Hmm",function(e,t,r){var n=e.length-2;t[De]=Z(e.substr(0,n)),t[Be]=Z(e.substr(n))});ie("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[De]=Z(e.substr(0,n)),t[Be]=Z(e.substr(n,2)),t[ft]=Z(e.substr(a))});function Mm(e){return(e+"").toLowerCase().charAt(0)==="p"}var Em=/[ap]\.?m?\.?/i,km=dr("Hours",!0);function Om(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var rl={calendar:ph,longDateFormat:bh,invalidDate:xh,ordinal:_h,dayOfMonthOrdinalParse:Mh,relativeTime:kh,months:Uh,monthsShort:Go,week:tm,weekdays:lm,weekdaysMin:cm,weekdaysShort:Qo,meridiemParse:Em},me={},gr={},jr;function Nm(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function Li(e){return e&&e.toLowerCase().replace("_","-")}function Tm(e){for(var t=0,r,n,a,s;t<e.length;){for(s=Li(e[t]).split("-"),r=s.length,n=Li(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=Xn(s.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&Nm(s,n)>=r-1)break;r--}t++}return jr}function Rm(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Xn(e){var t=null,r;if(me[e]===void 0&&typeof module<"u"&&module&&module.exports&&Rm(e))try{t=jr._abbr,r=require,r("./locale/"+e),_t(t)}catch{me[e]=null}return me[e]}function _t(e,t){var r;return e&&(Re(t)?r=gt(e):r=gs(e,t),r?jr=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),jr._abbr}function gs(e,t){if(t!==null){var r,n=rl;if(t.abbr=e,me[e]!=null)Fo("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=me[e]._config;else if(t.parentLocale!=null)if(me[t.parentLocale]!=null)n=me[t.parentLocale]._config;else if(r=Xn(t.parentLocale),r!=null)n=r._config;else return gr[t.parentLocale]||(gr[t.parentLocale]=[]),gr[t.parentLocale].push({name:e,config:t}),null;return me[e]=new os(Ta(n,t)),gr[e]&&gr[e].forEach(function(a){gs(a.name,a.config)}),_t(e),me[e]}else return delete me[e],null}function Cm(e,t){if(t!=null){var r,n,a=rl;me[e]!=null&&me[e].parentLocale!=null?me[e].set(Ta(me[e]._config,t)):(n=Xn(e),n!=null&&(a=n._config),t=Ta(a,t),n==null&&(t.abbr=e),r=new os(t),r.parentLocale=me[e],me[e]=r),_t(e)}else me[e]!=null&&(me[e].parentLocale!=null?(me[e]=me[e].parentLocale,e===_t()&&_t(e)):me[e]!=null&&delete me[e]);return me[e]}function gt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return jr;if(!qe(e)){if(t=Xn(e),t)return t;e=[e]}return Tm(e)}function Pm(){return Ra(me)}function ys(e){var t,r=e._a;return r&&G(e).overflow===-2&&(t=r[dt]<0||r[dt]>11?dt:r[Qe]<1||r[Qe]>hs(r[Ee],r[dt])?Qe:r[De]<0||r[De]>24||r[De]===24&&(r[Be]!==0||r[ft]!==0||r[Rt]!==0)?De:r[Be]<0||r[Be]>59?Be:r[ft]<0||r[ft]>59?ft:r[Rt]<0||r[Rt]>999?Rt:-1,G(e)._overflowDayOfYear&&(t<Ee||t>Qe)&&(t=Qe),G(e)._overflowWeeks&&t===-1&&(t=Wh),G(e)._overflowWeekday&&t===-1&&(t=Lh),G(e).overflow=t),e}var Am=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ym=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$m=/Z|[+-]\d\d(?::?\d\d)?/,cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ma=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wm=/^\/?Date\((-?\d+)/i,Lm=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Fm={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function nl(e){var t,r,n=e._i,a=Am.exec(n)||Ym.exec(n),s,i,o,l,c=cn.length,u=ma.length;if(a){for(G(e).iso=!0,t=0,r=c;t<r;t++)if(cn[t][1].exec(a[1])){i=cn[t][0],s=cn[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(a[3]){for(t=0,r=u;t<r;t++)if(ma[t][1].exec(a[3])){o=(a[2]||" ")+ma[t][0];break}if(o==null){e._isValid=!1;return}}if(!s&&o!=null){e._isValid=!1;return}if(a[4])if($m.exec(a[4]))l="Z";else{e._isValid=!1;return}e._f=i+(o||"")+(l||""),bs(e)}else e._isValid=!1}function jm(e,t,r,n,a,s){var i=[Im(e),Go.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return s&&i.push(parseInt(s,10)),i}function Im(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Hm(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Um(e,t,r){if(e){var n=Qo.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return G(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function zm(e,t,r){if(e)return Fm[e];if(t)return 0;var n=parseInt(r,10),a=n%100,s=(n-a)/100;return s*60+a}function al(e){var t=Lm.exec(Hm(e._i)),r;if(t){if(r=jm(t[4],t[3],t[2],t[5],t[6],t[7]),!Um(t[1],r,e))return;e._a=r,e._tzm=zm(t[8],t[9],t[10]),e._d=Lr.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),G(e).rfc2822=!0}else e._isValid=!1}function Vm(e){var t=Wm.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(nl(e),e._isValid===!1)delete e._isValid;else return;if(al(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:L.createFromInputFallback(e)}L.createFromInputFallback=ze("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function qt(e,t,r){return e??t??r}function Bm(e){var t=new Date(L.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ws(e){var t,r,n=[],a,s,i;if(!e._d){for(a=Bm(e),e._w&&e._a[Qe]==null&&e._a[dt]==null&&Gm(e),e._dayOfYear!=null&&(i=qt(e._a[Ee],a[Ee]),(e._dayOfYear>xr(i)||e._dayOfYear===0)&&(G(e)._overflowDayOfYear=!0),r=Lr(i,0,e._dayOfYear),e._a[dt]=r.getUTCMonth(),e._a[Qe]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[De]===24&&e._a[Be]===0&&e._a[ft]===0&&e._a[Rt]===0&&(e._nextDay=!0,e._a[De]=0),e._d=(e._useUTC?Lr:Qh).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[De]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(G(e).weekdayMismatch=!0)}}function Gm(e){var t,r,n,a,s,i,o,l,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,i=4,r=qt(t.GG,e._a[Ee],Fr(de(),1,4).year),n=qt(t.W,1),a=qt(t.E,1),(a<1||a>7)&&(l=!0)):(s=e._locale._week.dow,i=e._locale._week.doy,c=Fr(de(),s,i),r=qt(t.gg,e._a[Ee],c.year),n=qt(t.w,c.week),t.d!=null?(a=t.d,(a<0||a>6)&&(l=!0)):t.e!=null?(a=t.e+s,(t.e<0||t.e>6)&&(l=!0)):a=s),n<1||n>mt(r,s,i)?G(e)._overflowWeeks=!0:l!=null?G(e)._overflowWeekday=!0:(o=Jo(r,n,a,s,i),e._a[Ee]=o.year,e._dayOfYear=o.dayOfYear)}L.ISO_8601=function(){};L.RFC_2822=function(){};function bs(e){if(e._f===L.ISO_8601){nl(e);return}if(e._f===L.RFC_2822){al(e);return}e._a=[],G(e).empty=!0;var t=""+e._i,r,n,a,s,i,o=t.length,l=0,c,u;for(a=jo(e._f,e._locale).match(ls)||[],u=a.length,r=0;r<u;r++)s=a[r],n=(t.match(Ah(s,e))||[])[0],n&&(i=t.substr(0,t.indexOf(n)),i.length>0&&G(e).unusedInput.push(i),t=t.slice(t.indexOf(n)+n.length),l+=n.length),Xt[s]?(n?G(e).empty=!1:G(e).unusedTokens.push(s),$h(s,n,e)):e._strict&&!n&&G(e).unusedTokens.push(s);G(e).charsLeftOver=o-l,t.length>0&&G(e).unusedInput.push(t),e._a[De]<=12&&G(e).bigHour===!0&&e._a[De]>0&&(G(e).bigHour=void 0),G(e).parsedDateParts=e._a.slice(0),G(e).meridiem=e._meridiem,e._a[De]=qm(e._locale,e._a[De],e._meridiem),c=G(e).era,c!==null&&(e._a[Ee]=e._locale.erasConvertYear(c,e._a[Ee])),ws(e),ys(e)}function qm(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Km(e){var t,r,n,a,s,i,o=!1,l=e._f.length;if(l===0){G(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<l;a++)s=0,i=!1,t=is({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],bs(t),ss(t)&&(i=!0),s+=G(t).charsLeftOver,s+=G(t).unusedTokens.length*10,G(t).score=s,o?s<n&&(n=s,r=t):(n==null||s<n||i)&&(n=s,r=t,i&&(o=!0));xt(e,r||t)}function Xm(e){if(!e._d){var t=cs(e._i),r=t.day===void 0?t.date:t.day;e._a=Wo([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),ws(e)}}function Zm(e){var t=new qr(ys(sl(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function sl(e){var t=e._i,r=e._f;return e._locale=e._locale||gt(e._l),t===null||r===void 0&&t===""?Un({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ke(t)?new qr(ys(t)):(Gr(t)?e._d=t:qe(r)?Km(e):r?bs(e):Jm(e),ss(e)||(e._d=null),e))}function Jm(e){var t=e._i;Re(t)?e._d=new Date(L.now()):Gr(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Vm(e):qe(t)?(e._a=Wo(t.slice(0),function(r){return parseInt(r,10)}),ws(e)):At(t)?Xm(e):pt(t)?e._d=new Date(t):L.createFromInputFallback(e)}function il(e,t,r,n,a){var s={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(At(e)&&as(e)||qe(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=r,s._i=e,s._f=t,s._strict=n,Zm(s)}function de(e,t,r,n){return il(e,t,r,n,!1)}var Qm=ze("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=de.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Un()}),ev=ze("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=de.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Un()});function ol(e,t){var r,n;if(t.length===1&&qe(t[0])&&(t=t[0]),!t.length)return de();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function tv(){var e=[].slice.call(arguments,0);return ol("isBefore",e)}function rv(){var e=[].slice.call(arguments,0);return ol("isAfter",e)}var nv=function(){return Date.now?Date.now():+new Date},yr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function av(e){var t,r=!1,n,a=yr.length;for(t in e)if(te(e,t)&&!(ye.call(yr,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[yr[n]]){if(r)return!1;parseFloat(e[yr[n]])!==Z(e[yr[n]])&&(r=!0)}return!0}function sv(){return this._isValid}function iv(){return Xe(NaN)}function Zn(e){var t=cs(e),r=t.year||0,n=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=av(t),this._milliseconds=+u+c*1e3+l*6e4+o*1e3*60*60,this._days=+i+s*7,this._months=+a+n*3+r*12,this._data={},this._locale=gt(),this._bubble()}function _n(e){return e instanceof Zn}function Pa(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ov(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0,i;for(i=0;i<n;i++)Z(e[i])!==Z(t[i])&&s++;return s+a}function ll(e,t){z(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+nt(~~(r/60),2)+t+nt(~~r%60,2)})}ll("Z",":");ll("ZZ","");j("Z",qn);j("ZZ",qn);ie(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Ds(qn,e)});var lv=/([\+\-]|\d\d)/gi;function Ds(e,t){var r=(t||"").match(e),n,a,s;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(lv)||["-",0,0],s=+(a[1]*60)+Z(a[2]),s===0?0:a[0]==="+"?s:-s)}function xs(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Ke(e)||Gr(e)?e.valueOf():de(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),L.updateOffset(r,!1),r):de(e).local()}function Aa(e){return-Math.round(e._d.getTimezoneOffset())}L.updateOffset=function(){};function cv(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Ds(qn,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=Aa(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?dl(this,Xe(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,L.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Aa(this)}function uv(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function dv(e){return this.utcOffset(0,e)}function fv(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Aa(this),"m")),this}function hv(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Ds(Ch,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function mv(e){return this.isValid()?(e=e?de(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function vv(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function pv(){if(!Re(this._isDSTShifted))return this._isDSTShifted;var e={},t;return is(e,this),e=sl(e),e._a?(t=e._isUTC?at(e._a):de(e._a),this._isDSTShifted=this.isValid()&&ov(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function gv(){return this.isValid()?!this._isUTC:!1}function yv(){return this.isValid()?this._isUTC:!1}function cl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var wv=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,bv=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xe(e,t){var r=e,n=null,a,s,i;return _n(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:pt(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=wv.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:Z(n[Qe])*a,h:Z(n[De])*a,m:Z(n[Be])*a,s:Z(n[ft])*a,ms:Z(Pa(n[Rt]*1e3))*a}):(n=bv.exec(e))?(a=n[1]==="-"?-1:1,r={y:Tt(n[2],a),M:Tt(n[3],a),w:Tt(n[4],a),d:Tt(n[5],a),h:Tt(n[6],a),m:Tt(n[7],a),s:Tt(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=Dv(de(r.from),de(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new Zn(r),_n(e)&&te(e,"_locale")&&(s._locale=e._locale),_n(e)&&te(e,"_isValid")&&(s._isValid=e._isValid),s}Xe.fn=Zn.prototype;Xe.invalid=iv;function Tt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Fi(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Dv(e,t){var r;return e.isValid()&&t.isValid()?(t=xs(t,e),e.isBefore(t)?r=Fi(e,t):(r=Fi(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function ul(e,t){return function(r,n){var a,s;return n!==null&&!isNaN(+n)&&(Fo(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),a=Xe(r,n),dl(this,a,e),this}}function dl(e,t,r,n){var a=t._milliseconds,s=Pa(t._days),i=Pa(t._months);e.isValid()&&(n=n??!0,i&&Ko(e,Wr(e,"Month")+i*r),s&&Bo(e,"Date",Wr(e,"Date")+s*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&L.updateOffset(e,s||i))}var xv=ul(1,"add"),Sv=ul(-1,"subtract");function fl(e){return typeof e=="string"||e instanceof String}function _v(e){return Ke(e)||Gr(e)||fl(e)||pt(e)||Ev(e)||Mv(e)||e===null||e===void 0}function Mv(e){var t=At(e)&&!as(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,s,i=n.length;for(a=0;a<i;a+=1)s=n[a],r=r||te(e,s);return t&&r}function Ev(e){var t=qe(e),r=!1;return t&&(r=e.filter(function(n){return!pt(n)&&fl(e)}).length===0),t&&r}function kv(e){var t=At(e)&&!as(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,s;for(a=0;a<n.length;a+=1)s=n[a],r=r||te(e,s);return t&&r}function Ov(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Nv(e,t){arguments.length===1&&(arguments[0]?_v(arguments[0])?(e=arguments[0],t=void 0):kv(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||de(),n=xs(r,this).startOf("day"),a=L.calendarFormat(this,n)||"sameElse",s=t&&(st(t[a])?t[a].call(this,r):t[a]);return this.format(s||this.localeData().calendar(a,this,de(r)))}function Tv(){return new qr(this)}function Rv(e,t){var r=Ke(e)?e:de(e);return this.isValid()&&r.isValid()?(t=Ve(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Cv(e,t){var r=Ke(e)?e:de(e);return this.isValid()&&r.isValid()?(t=Ve(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Pv(e,t,r,n){var a=Ke(e)?e:de(e),s=Ke(t)?t:de(t);return this.isValid()&&a.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function Av(e,t){var r=Ke(e)?e:de(e),n;return this.isValid()&&r.isValid()?(t=Ve(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Yv(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $v(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Wv(e,t,r){var n,a,s;if(!this.isValid())return NaN;if(n=xs(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=Ve(t),t){case"year":s=Mn(this,n)/12;break;case"month":s=Mn(this,n);break;case"quarter":s=Mn(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-a)/864e5;break;case"week":s=(this-n-a)/6048e5;break;default:s=this-n}return r?s:je(s)}function Mn(e,t){if(e.date()<t.date())return-Mn(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,s;return t-n<0?(a=e.clone().add(r-1,"months"),s=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),s=(t-n)/(a-n)),-(r+s)||0}L.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";L.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Lv(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Fv(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Sn(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):st(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Sn(r,"Z")):Sn(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function jv(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(r+n+a+s)}function Iv(e){e||(e=this.isUtc()?L.defaultFormatUtc:L.defaultFormat);var t=Sn(this,e);return this.localeData().postformat(t)}function Hv(e,t){return this.isValid()&&(Ke(e)&&e.isValid()||de(e).isValid())?Xe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Uv(e){return this.from(de(),e)}function zv(e,t){return this.isValid()&&(Ke(e)&&e.isValid()||de(e).isValid())?Xe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Vv(e){return this.to(de(),e)}function hl(e){var t;return e===void 0?this._locale._abbr:(t=gt(e),t!=null&&(this._locale=t),this)}var ml=ze("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function vl(){return this._locale}var Pn=1e3,Zt=60*Pn,An=60*Zt,pl=(365*400+97)*24*An;function Jt(e,t){return(e%t+t)%t}function gl(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-pl:new Date(e,t,r).valueOf()}function yl(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-pl:Date.UTC(e,t,r)}function Bv(e){var t,r;if(e=Ve(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?yl:gl,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Jt(t+(this._isUTC?0:this.utcOffset()*Zt),An);break;case"minute":t=this._d.valueOf(),t-=Jt(t,Zt);break;case"second":t=this._d.valueOf(),t-=Jt(t,Pn);break}return this._d.setTime(t),L.updateOffset(this,!0),this}function Gv(e){var t,r;if(e=Ve(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?yl:gl,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=An-Jt(t+(this._isUTC?0:this.utcOffset()*Zt),An)-1;break;case"minute":t=this._d.valueOf(),t+=Zt-Jt(t,Zt)-1;break;case"second":t=this._d.valueOf(),t+=Pn-Jt(t,Pn)-1;break}return this._d.setTime(t),L.updateOffset(this,!0),this}function qv(){return this._d.valueOf()-(this._offset||0)*6e4}function Kv(){return Math.floor(this.valueOf()/1e3)}function Xv(){return new Date(this.valueOf())}function Zv(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Jv(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Qv(){return this.isValid()?this.toISOString():null}function ep(){return ss(this)}function tp(){return xt({},G(this))}function rp(){return G(this).overflow}function np(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}z("N",0,0,"eraAbbr");z("NN",0,0,"eraAbbr");z("NNN",0,0,"eraAbbr");z("NNNN",0,0,"eraName");z("NNNNN",0,0,"eraNarrow");z("y",["y",1],"yo","eraYear");z("y",["yy",2],0,"eraYear");z("y",["yyy",3],0,"eraYear");z("y",["yyyy",4],0,"eraYear");j("N",Ss);j("NN",Ss);j("NNN",Ss);j("NNNN",mp);j("NNNNN",vp);ie(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?G(r).era=a:G(r).invalidEra=e});j("y",cr);j("yy",cr);j("yyy",cr);j("yyyy",cr);j("yo",pp);ie(["y","yy","yyy","yyyy"],Ee);ie(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Ee]=r._locale.eraYearOrdinalParse(e,a):t[Ee]=parseInt(e,10)});function ap(e,t){var r,n,a,s=this._eras||gt("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":a=L(s[r].since).startOf("day"),s[r].since=a.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":a=L(s[r].until).startOf("day").valueOf(),s[r].until=a.valueOf();break}}return s}function sp(e,t,r){var n,a,s=this.eras(),i,o,l;for(e=e.toUpperCase(),n=0,a=s.length;n<a;++n)if(i=s[n].name.toUpperCase(),o=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[n];break;case"NNNN":if(i===e)return s[n];break;case"NNNNN":if(l===e)return s[n];break}else if([i,o,l].indexOf(e)>=0)return s[n]}function ip(e,t){var r=e.since<=e.until?1:-1;return t===void 0?L(e.since).year():L(e.since).year()+(t-e.offset)*r}function op(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function lp(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function cp(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function up(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-L(a[e].since).year())*r+a[e].offset;return this.year()}function dp(e){return te(this,"_erasNameRegex")||_s.call(this),e?this._erasNameRegex:this._erasRegex}function fp(e){return te(this,"_erasAbbrRegex")||_s.call(this),e?this._erasAbbrRegex:this._erasRegex}function hp(e){return te(this,"_erasNarrowRegex")||_s.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ss(e,t){return t.erasAbbrRegex(e)}function mp(e,t){return t.erasNameRegex(e)}function vp(e,t){return t.erasNarrowRegex(e)}function pp(e,t){return t._eraYearOrdinalRegex||cr}function _s(){var e=[],t=[],r=[],n=[],a,s,i,o,l,c=this.eras();for(a=0,s=c.length;a<s;++a)i=ht(c[a].name),o=ht(c[a].abbr),l=ht(c[a].narrow),t.push(i),e.push(o),r.push(l),n.push(i),n.push(o),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}z(0,["gg",2],0,function(){return this.weekYear()%100});z(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Jn(e,t){z(0,[e,e.length],0,t)}Jn("gggg","weekYear");Jn("ggggg","weekYear");Jn("GGGG","isoWeekYear");Jn("GGGGG","isoWeekYear");j("G",Gn);j("g",Gn);j("GG",fe,We);j("gg",fe,We);j("GGGG",ds,us);j("gggg",ds,us);j("GGGGG",Bn,zn);j("ggggg",Bn,zn);Xr(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Z(e)});Xr(["gg","GG"],function(e,t,r,n){t[n]=L.parseTwoDigitYear(e)});function gp(e){return wl.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function yp(e){return wl.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function wp(){return mt(this.year(),1,4)}function bp(){return mt(this.isoWeekYear(),1,4)}function Dp(){var e=this.localeData()._week;return mt(this.year(),e.dow,e.doy)}function xp(){var e=this.localeData()._week;return mt(this.weekYear(),e.dow,e.doy)}function wl(e,t,r,n,a){var s;return e==null?Fr(this,n,a).year:(s=mt(e,n,a),t>s&&(t=s),Sp.call(this,e,t,r,n,a))}function Sp(e,t,r,n,a){var s=Jo(e,t,r,n,a),i=Lr(s.year,0,s.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}z("Q",0,"Qo","quarter");j("Q",Io);ie("Q",function(e,t){t[dt]=(Z(e)-1)*3});function _p(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}z("D",["DD",2],"Do","date");j("D",fe,ur);j("DD",fe,We);j("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});ie(["D","DD"],Qe);ie("Do",function(e,t){t[Qe]=Z(e.match(fe)[0])});var bl=dr("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear");j("DDD",Vn);j("DDDD",Ho);ie(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Z(e)});function Mp(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}z("m",["mm",2],0,"minute");j("m",fe,fs);j("mm",fe,We);ie(["m","mm"],Be);var Ep=dr("Minutes",!1);z("s",["ss",2],0,"second");j("s",fe,fs);j("ss",fe,We);ie(["s","ss"],ft);var kp=dr("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)});z(0,["SS",2],0,function(){return~~(this.millisecond()/10)});z(0,["SSS",3],0,"millisecond");z(0,["SSSS",4],0,function(){return this.millisecond()*10});z(0,["SSSSS",5],0,function(){return this.millisecond()*100});z(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});z(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});z(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});z(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});j("S",Vn,Io);j("SS",Vn,We);j("SSS",Vn,Ho);var St,Dl;for(St="SSSS";St.length<=9;St+="S")j(St,cr);function Op(e,t){t[Rt]=Z(("0."+e)*1e3)}for(St="S";St.length<=9;St+="S")ie(St,Op);Dl=dr("Milliseconds",!1);z("z",0,0,"zoneAbbr");z("zz",0,0,"zoneName");function Np(){return this._isUTC?"UTC":""}function Tp(){return this._isUTC?"Coordinated Universal Time":""}var T=qr.prototype;T.add=xv;T.calendar=Nv;T.clone=Tv;T.diff=Wv;T.endOf=Gv;T.format=Iv;T.from=Hv;T.fromNow=Uv;T.to=zv;T.toNow=Vv;T.get=jh;T.invalidAt=rp;T.isAfter=Rv;T.isBefore=Cv;T.isBetween=Pv;T.isSame=Av;T.isSameOrAfter=Yv;T.isSameOrBefore=$v;T.isValid=ep;T.lang=ml;T.locale=hl;T.localeData=vl;T.max=ev;T.min=Qm;T.parsingFlags=tp;T.set=Ih;T.startOf=Bv;T.subtract=Sv;T.toArray=Zv;T.toObject=Jv;T.toDate=Xv;T.toISOString=Fv;T.inspect=jv;typeof Symbol<"u"&&Symbol.for!=null&&(T[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});T.toJSON=Qv;T.toString=Lv;T.unix=Kv;T.valueOf=qv;T.creationData=np;T.eraName=op;T.eraNarrow=lp;T.eraAbbr=cp;T.eraYear=up;T.year=Vo;T.isLeapYear=Fh;T.weekYear=gp;T.isoWeekYear=yp;T.quarter=T.quarters=_p;T.month=Xo;T.daysInMonth=Xh;T.week=T.weeks=am;T.isoWeek=T.isoWeeks=sm;T.weeksInYear=Dp;T.weeksInWeekYear=xp;T.isoWeeksInYear=wp;T.isoWeeksInISOWeekYear=bp;T.date=bl;T.day=T.days=ym;T.weekday=wm;T.isoWeekday=bm;T.dayOfYear=Mp;T.hour=T.hours=km;T.minute=T.minutes=Ep;T.second=T.seconds=kp;T.millisecond=T.milliseconds=Dl;T.utcOffset=cv;T.utc=dv;T.local=fv;T.parseZone=hv;T.hasAlignedHourOffset=mv;T.isDST=vv;T.isLocal=gv;T.isUtcOffset=yv;T.isUtc=cl;T.isUTC=cl;T.zoneAbbr=Np;T.zoneName=Tp;T.dates=ze("dates accessor is deprecated. Use date instead.",bl);T.months=ze("months accessor is deprecated. Use month instead",Xo);T.years=ze("years accessor is deprecated. Use year instead",Vo);T.zone=ze("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",uv);T.isDSTShifted=ze("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",pv);function Rp(e){return de(e*1e3)}function Cp(){return de.apply(null,arguments).parseZone()}function xl(e){return e}var re=os.prototype;re.calendar=gh;re.longDateFormat=Dh;re.invalidDate=Sh;re.ordinal=Eh;re.preparse=xl;re.postformat=xl;re.relativeTime=Oh;re.pastFuture=Nh;re.set=vh;re.eras=ap;re.erasParse=sp;re.erasConvertYear=ip;re.erasAbbrRegex=fp;re.erasNameRegex=dp;re.erasNarrowRegex=hp;re.months=Bh;re.monthsShort=Gh;re.monthsParse=Kh;re.monthsRegex=Jh;re.monthsShortRegex=Zh;re.week=em;re.firstDayOfYear=nm;re.firstDayOfWeek=rm;re.weekdays=hm;re.weekdaysMin=vm;re.weekdaysShort=mm;re.weekdaysParse=gm;re.weekdaysRegex=Dm;re.weekdaysShortRegex=xm;re.weekdaysMinRegex=Sm;re.isPM=Mm;re.meridiem=Om;function Yn(e,t,r,n){var a=gt(),s=at().set(n,t);return a[r](s,e)}function Sl(e,t,r){if(pt(e)&&(t=e,e=void 0),e=e||"",t!=null)return Yn(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=Yn(e,n,r,"month");return a}function Ms(e,t,r,n){typeof e=="boolean"?(pt(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,pt(t)&&(r=t,t=void 0),t=t||"");var a=gt(),s=e?a._week.dow:0,i,o=[];if(r!=null)return Yn(t,(r+s)%7,n,"day");for(i=0;i<7;i++)o[i]=Yn(t,(i+s)%7,n,"day");return o}function Pp(e,t){return Sl(e,t,"months")}function Ap(e,t){return Sl(e,t,"monthsShort")}function Yp(e,t,r){return Ms(e,t,r,"weekdays")}function $p(e,t,r){return Ms(e,t,r,"weekdaysShort")}function Wp(e,t,r){return Ms(e,t,r,"weekdaysMin")}_t("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Z(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});L.lang=ze("moment.lang is deprecated. Use moment.locale instead.",_t);L.langData=ze("moment.langData is deprecated. Use moment.localeData instead.",gt);var ct=Math.abs;function Lp(){var e=this._data;return this._milliseconds=ct(this._milliseconds),this._days=ct(this._days),this._months=ct(this._months),e.milliseconds=ct(e.milliseconds),e.seconds=ct(e.seconds),e.minutes=ct(e.minutes),e.hours=ct(e.hours),e.months=ct(e.months),e.years=ct(e.years),this}function _l(e,t,r,n){var a=Xe(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function Fp(e,t){return _l(this,e,t,1)}function jp(e,t){return _l(this,e,t,-1)}function ji(e){return e<0?Math.floor(e):Math.ceil(e)}function Ip(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,s,i,o,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=ji(Ya(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=je(e/1e3),n.seconds=a%60,s=je(a/60),n.minutes=s%60,i=je(s/60),n.hours=i%24,t+=je(i/24),l=je(Ml(t)),r+=l,t-=ji(Ya(l)),o=je(r/12),r%=12,n.days=t,n.months=r,n.years=o,this}function Ml(e){return e*4800/146097}function Ya(e){return e*146097/4800}function Hp(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=Ve(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+Ml(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Ya(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function yt(e){return function(){return this.as(e)}}var El=yt("ms"),Up=yt("s"),zp=yt("m"),Vp=yt("h"),Bp=yt("d"),Gp=yt("w"),qp=yt("M"),Kp=yt("Q"),Xp=yt("y"),Zp=El;function Jp(){return Xe(this)}function Qp(e){return e=Ve(e),this.isValid()?this[e+"s"]():NaN}function Ht(e){return function(){return this.isValid()?this._data[e]:NaN}}var eg=Ht("milliseconds"),tg=Ht("seconds"),rg=Ht("minutes"),ng=Ht("hours"),ag=Ht("days"),sg=Ht("months"),ig=Ht("years");function og(){return je(this.days()/7)}var ut=Math.round,Kt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function lg(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function cg(e,t,r,n){var a=Xe(e).abs(),s=ut(a.as("s")),i=ut(a.as("m")),o=ut(a.as("h")),l=ut(a.as("d")),c=ut(a.as("M")),u=ut(a.as("w")),f=ut(a.as("y")),d=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||i<=1&&["m"]||i<r.m&&["mm",i]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||u<=1&&["w"]||u<r.w&&["ww",u]),d=d||c<=1&&["M"]||c<r.M&&["MM",c]||f<=1&&["y"]||["yy",f],d[2]=t,d[3]=+e>0,d[4]=n,lg.apply(null,d)}function ug(e){return e===void 0?ut:typeof e=="function"?(ut=e,!0):!1}function dg(e,t){return Kt[e]===void 0?!1:t===void 0?Kt[e]:(Kt[e]=t,e==="s"&&(Kt.ss=t-1),!0)}function fg(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Kt,a,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Kt,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),s=cg(this,!r,n,a),r&&(s=a.pastFuture(+this,s)),a.postformat(s)}var va=Math.abs;function zt(e){return(e>0)-(e<0)||+e}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var e=va(this._milliseconds)/1e3,t=va(this._days),r=va(this._months),n,a,s,i,o=this.asSeconds(),l,c,u,f;return o?(n=je(e/60),a=je(n/60),e%=60,n%=60,s=je(r/12),r%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",c=zt(this._months)!==zt(o)?"-":"",u=zt(this._days)!==zt(o)?"-":"",f=zt(this._milliseconds)!==zt(o)?"-":"",l+"P"+(s?c+s+"Y":"")+(r?c+r+"M":"")+(t?u+t+"D":"")+(a||n||e?"T":"")+(a?f+a+"H":"")+(n?f+n+"M":"")+(e?f+i+"S":"")):"P0D"}var ee=Zn.prototype;ee.isValid=sv;ee.abs=Lp;ee.add=Fp;ee.subtract=jp;ee.as=Hp;ee.asMilliseconds=El;ee.asSeconds=Up;ee.asMinutes=zp;ee.asHours=Vp;ee.asDays=Bp;ee.asWeeks=Gp;ee.asMonths=qp;ee.asQuarters=Kp;ee.asYears=Xp;ee.valueOf=Zp;ee._bubble=Ip;ee.clone=Jp;ee.get=Qp;ee.milliseconds=eg;ee.seconds=tg;ee.minutes=rg;ee.hours=ng;ee.days=ag;ee.weeks=og;ee.months=sg;ee.years=ig;ee.humanize=fg;ee.toISOString=Qn;ee.toString=Qn;ee.toJSON=Qn;ee.locale=hl;ee.localeData=vl;ee.toIsoString=ze("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn);ee.lang=ml;z("X",0,0,"unix");z("x",0,0,"valueOf");j("x",Gn);j("X",Ph);ie("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});ie("x",function(e,t,r){r._d=new Date(Z(e))});//! moment.js
L.version="2.30.1";hh(de);L.fn=T;L.min=tv;L.max=rv;L.now=nv;L.utc=at;L.unix=Rp;L.months=Pp;L.isDate=Gr;L.locale=_t;L.invalid=Un;L.duration=Xe;L.isMoment=Ke;L.weekdays=Yp;L.parseZone=Cp;L.localeData=gt;L.isDuration=_n;L.monthsShort=Ap;L.weekdaysMin=Wp;L.defineLocale=gs;L.updateLocale=Cm;L.locales=Pm;L.weekdaysShort=$p;L.normalizeUnits=Ve;L.relativeTimeRounding=ug;L.relativeTimeThreshold=dg;L.calendarFormat=Ov;L.prototype=T;L.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const hg=fh(L),mg=`
.rbc-calendar {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}
.rbc-header {
    background-color: #f8fafc;
    border-bottom: 1px solid #e2e8f0;
    padding: 12px 8px;
    font-weight: 600;
    color: #374151;
    text-align: center;
}
.rbc-event {
    border-radius: 6px;
    border: none !important;
    color: white !important;
    font-size: 11px;
    padding: 0 !important;
    min-height: 50px !important;
    height: auto !important;
    overflow: hidden !important;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
    backdrop-filter: blur(10px);
    display: flex !important;
    flex-direction: column !important;
}
.rbc-event:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}
.rbc-today {
    background-color: #fef3c7;
}
.rbc-current-time-indicator {
    background-color: #ef4444;
    height: 2px;
    z-index: 1;
}
.rbc-time-slot {
    border-top: 1px solid #f1f5f9;
    min-height: 24px;
}
.rbc-timeslot-group {
    border-bottom: 1px solid #e2e8f0;
    min-height: 48px;
}
.rbc-day-slot .rbc-event {
    border: 1px solid rgba(255,255,255,0.3);
    margin: 2px 1px;
}
.rbc-agenda-view table.rbc-agenda-table {
    font-size: 14px;
}
.rbc-agenda-view .rbc-agenda-content {
    padding: 12px;
}
.rbc-agenda-view .rbc-event {
    min-height: auto;
    padding: 12px;
}
.rbc-day-view .rbc-event, .rbc-week-view .rbc-event {
    min-height: 50px !important;
    height: auto !important;
}
.rbc-event-content {
    overflow: hidden !important;
    white-space: normal !important;
    line-height: 1.3;
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    padding: 0 !important;
}
.rbc-time-view {
    border: 1px solid #e2e8f0;
    border-radius: 8px;
}
.rbc-time-header {
    border-bottom: 1px solid #e2e8f0;
}
.rbc-time-content {
    border-top: none;
}
.rbc-month-view {
    border: 1px solid #e2e8f0;
    border-radius: 8px;
}
.rbc-month-row {
    border-bottom: 1px solid #f1f5f9;
}
.rbc-date-cell {
    padding: 8px;
}
.rbc-off-range-bg {
    background-color: #fafafa;
}
`,pa={scheduled:{label:"Scheduled",color:"bg-blue-100 text-blue-800",bgColor:"#3B82F6",icon:Bt},in_progress:{label:"In Progress",color:"bg-yellow-100 text-yellow-800",bgColor:"#F59E0B",icon:dn},completed:{label:"Completed",color:"bg-green-100 text-green-800",bgColor:"#10B981",icon:lc},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800",bgColor:"#EF4444",icon:uc},rescheduled:{label:"Rescheduled",color:"bg-gray-100 text-gray-800",bgColor:"#6B7280",icon:cc},no_show:{label:"No Show",color:"bg-orange-100 text-orange-800",bgColor:"#F97316",icon:ga}};function Ig({appointments:e,technicals:t,auth:r,isTechnicalDefault:n,googleMapsApiKey:a}){var se,ne,Ne,it,Ze,wt,Nt,Ut;const[s,i]=U.useState(null),[o,l]=U.useState(!1),{props:c}=Zl(),u=(ne=(se=r.user)==null?void 0:se.roles)==null?void 0:ne.includes("technical"),f=(it=(Ne=r.user)==null?void 0:Ne.roles)==null?void 0:it.includes("super-admin"),d=u||n?Q.AGENDA:Q.DAY,[h,v]=U.useState(d),[m,p]=U.useState(new Date),[b,w]=U.useState([]),[_,D]=U.useState(!1),[x,M]=U.useState({open:!1}),[k,R]=U.useState({open:!1}),O=S=>{if(!S)return"";if(S.includes("maps.app.goo.gl"))return`https://www.google.com/maps/embed/v1/place?key=${a}&q=-10.916879,-74.883391&zoom=15`;if(S.includes("/embed"))return S;if(S.includes("google.com/maps")){const A=S.match(/@([-0-9.]+),([-0-9.]+)/);if(A)return`https://www.google.com/maps/embed/v1/view?key=${a}&center=${A[1]},${A[2]}&zoom=15`;const q=S.match(/place\/([^\/]+)/);if(q)return`https://www.google.com/maps/embed/v1/place?key=${a}&q=place_id:${q[1]}`}return`https://www.google.com/maps/embed/v1/place?key=${a}&q=${encodeURIComponent(S)}`},Y=async S=>{console.log("fetchFullAppointmentData called with ID:",S);try{const A=await fetch(`/appointments/${S}/details`);if(console.log("API response status:",A.status),A.ok){const q=await A.json();return console.log("Received appointment data:",q),q.appointment}else console.error("API response not ok:",A.status,A.statusText)}catch(A){console.error("Error fetching appointment details:",A)}return null},W=async(S,A="view")=>{var ve,ce,ae,ge;if(console.log("openAppointmentModal called with:",{appointment:S,action:A}),(ce=(ve=S==null?void 0:S.ticket)==null?void 0:ve.device)!=null&&ce.tenants||(ge=(ae=S==null?void 0:S.ticket)==null?void 0:ae.user)!=null&&ge.tenant){console.log("Using existing appointment data - has relationships"),M({open:!0,appointment:S});return}console.log("Fetching full appointment data for ID:",S.id);const q=await Y(S.id);q?(console.log("Successfully fetched full appointment data:",q),M({open:!0,appointment:q})):(console.log("Failed to fetch full appointment data, using fallback"),M({open:!0,appointment:S}))},H=async S=>{if(S){D(!0);try{const q=await(await fetch(`/appointments/${S}`)).json();i(q)}catch(A){console.error("Error refreshing appointment:",A)}finally{D(!1)}}},C=e;U.useEffect(()=>{const S=()=>{const q=new Date,ve=new Date(q.getTime()+30*60*1e3);C.forEach(ce=>{if(ce.status==="scheduled"){const ae=new Date(ce.scheduled_for);if(ae<=ve&&ae>q){const ge=Math.floor((ae.getTime()-q.getTime())/6e4),Ye=u||n?`🔔 You have an appointment in ${ge} minutes with ${ce.ticket.user.name}: ${ce.title}`:`Upcoming appointment in ${ge} minutes: ${ce.title}`;w(Le=>Le.includes(Ye)?Le:[...Le,Ye])}}})};S();const A=setInterval(S,6e4);return()=>clearInterval(A)},[C,u,n]);const V=S=>pa[S]||pa.scheduled,K=U.useMemo(()=>C.map(A=>{const q=new Date(A.scheduled_for),ve=new Date(q.getTime()+A.estimated_duration*6e4);return{id:A.id,title:`${A.ticket.user.name} - ${A.title}`,start:q,end:ve,resource:A,allDay:!1}}),[C]),B=S=>{W(S.resource)},X=S=>{console.log("Selected slot:",S)},oe=S=>{let A=new Date(m);switch(S){case"prev":h===Q.DAY?A.setDate(A.getDate()-1):h===Q.WEEK?A.setDate(A.getDate()-7):h===Q.MONTH&&A.setMonth(A.getMonth()-1);break;case"next":h===Q.DAY?A.setDate(A.getDate()+1):h===Q.WEEK?A.setDate(A.getDate()+7):h===Q.MONTH&&A.setMonth(A.getMonth()+1);break;case"today":A=new Date;break}p(A)},he=()=>{const S=L(m);switch(h){case Q.DAY:return S.format("dddd, MMMM Do YYYY");case Q.WEEK:{const A=S.clone().startOf("week"),q=S.clone().endOf("week");return`${A.format("MMM Do")} - ${q.format("MMM Do, YYYY")}`}case Q.MONTH:return S.format("MMMM YYYY");case Q.AGENDA:return"Agenda View";default:return S.format("MMMM YYYY")}},we=async(S,A,q)=>{try{const ve=S==="member_feedback"?"member-feedback":S;Ql.post(`/appointments/${A}/${ve}`,q||{},{preserveScroll:!0,onSuccess:ce=>{const ae=ce.props.flash||{},ge={start:"Visit started successfully!",complete:"Visit completed successfully! Waiting for member feedback.",member_feedback:"Thank you for your feedback!",cancel:"Appointment cancelled successfully!",reschedule:"Appointment rescheduled successfully!","no-show":"Appointment marked as No Show successfully!"},Ye=ae.success||ae.message||ge[S]||`${S} completed successfully`;Zr.success(Ye),s&&H(s.id)},onError:ce=>{console.error(`Error ${S} appointment:`,ce),typeof ce=="object"&&ce!==null?Object.values(ce).flat().forEach(ge=>{typeof ge=="string"&&Zr.error(ge)}):Zr.error(`Error processing ${S} action`)}})}catch(ve){console.error(`Error ${S} appointment:`,ve),Zr.error(`Error processing ${S} action`)}},E=S=>({style:{border:"none",borderRadius:"8px",padding:"0",backgroundColor:"transparent",overflow:"visible"}}),N=({event:S})=>{const A=S.resource,ve=V(A.status).icon,ce={scheduled:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",in_progress:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",completed:"linear-gradient(135deg, #10B981 0%, #059669 100%)",cancelled:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",rescheduled:"linear-gradient(135deg, #6B7280 0%, #4B5563 100%)",no_show:"linear-gradient(135deg, #F97316 0%, #EA580C 100%)"};return g.jsxs("div",{className:"w-full h-full text-white text-xs p-1.5 overflow-hidden cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:-translate-y-0.5 relative",style:{minHeight:"100%",height:"100%",borderRadius:"6px",background:ce[A.status]||ce.scheduled,border:"none",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",justifyContent:"flex-start"},title:`${A.ticket.user.name} - ${A.title} at ${F(A.scheduled_for)}`,children:[g.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-shrink-0",children:[g.jsx(ve,{className:"w-3 h-3 flex-shrink-0 opacity-90"}),g.jsx("span",{className:"font-bold text-xs leading-none",children:F(A.scheduled_for)})]}),g.jsx("div",{className:"font-semibold text-xs leading-tight mb-1 flex-shrink-0",children:A.ticket.user.name}),g.jsx("div",{className:"text-xs opacity-95 leading-tight mb-1 overflow-hidden",children:A.title}),g.jsxs("div",{className:"text-xs opacity-90 leading-tight flex-1 overflow-hidden",children:[g.jsx(rn,{className:"w-2 h-2 inline mr-1"}),(()=>{const ae=A.address;return ae&&ae.length>20?ae.substring(0,20)+"...":ae||"No address"})()]}),g.jsx("div",{className:"absolute top-1.5 right-1.5 w-1.5 h-1.5 bg-white opacity-75 rounded-full"})]})},$=C.filter(S=>{const A=new Date(S.scheduled_for),q=new Date,ve=new Date(q.getTime()+7*24*60*60*1e3);return A>=q&&A<=ve&&S.status==="scheduled"}).sort((S,A)=>new Date(S.scheduled_for).getTime()-new Date(A.scheduled_for).getTime()),F=S=>new Date(S).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),I=S=>new Date(S).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),J=S=>{const A=V(S),q=A.icon;return g.jsxs(Is,{className:`${A.color} border-0`,children:[g.jsx(q,{className:"w-3 h-3 mr-1"}),A.label]})};return g.jsxs(ec,{breadcrumbs:[{title:"Calendar",href:"/appointments"}],children:[g.jsx(Jl,{title:"Appointments Calendar"}),g.jsx("style",{dangerouslySetInnerHTML:{__html:mg}}),g.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[b.length>0&&g.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(Bt,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Upcoming Appointments"}),g.jsx("div",{className:"space-y-1",children:b.map((S,A)=>g.jsx("p",{className:"text-sm text-yellow-700",children:S},A))})]}),g.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>w([]),className:"text-yellow-600 hover:text-yellow-800",children:"×"})]})}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:u||n?"My Appointments":"All Appointments Calendar"}),g.jsx("p",{className:"text-gray-600 mt-2",children:u||n?`View and manage your scheduled on-site appointments - ${r.user.name}`:"Manage all scheduled on-site appointments across the organization"})]}),g.jsx("div",{className:"flex gap-4 text-sm",children:Object.entries(pa).map(([S,A])=>{const q=A.icon;return g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:A.bgColor}}),g.jsx(q,{className:"w-4 h-4"}),g.jsx("span",{children:A.label})]},S)})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[g.jsx("div",{className:"lg:col-span-3",children:g.jsxs(Jr,{children:[g.jsx(Qr,{children:g.jsxs(en,{className:"flex items-center justify-between",children:[g.jsx("span",{className:"flex items-center gap-2",children:g.jsx(Bt,{className:"w-5 h-5"})}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Te,{variant:"outline",size:"sm",onClick:()=>oe("prev"),children:g.jsx(fc,{className:"w-4 h-4"})}),g.jsx(Te,{variant:"outline",size:"sm",onClick:()=>oe("today"),className:"min-w-[80px]",children:"Today"}),g.jsx(Te,{variant:"outline",size:"sm",onClick:()=>oe("next"),children:g.jsx(dc,{className:"w-4 h-4"})})]}),g.jsx("div",{className:"text-sm font-medium text-gray-700 min-w-[200px] text-center",children:he()}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Te,{variant:h===Q.DAY?"default":"outline",size:"sm",onClick:()=>v(Q.DAY),children:"Day"}),g.jsx(Te,{variant:h===Q.WEEK?"default":"outline",size:"sm",onClick:()=>v(Q.WEEK),children:"Week"}),g.jsx(Te,{variant:h===Q.MONTH?"default":"outline",size:"sm",onClick:()=>v(Q.MONTH),children:"Month"}),g.jsx(Te,{variant:h===Q.AGENDA?"default":"outline",size:"sm",onClick:()=>v(Q.AGENDA),children:"Agenda"})]})]})]})}),g.jsx(tn,{children:g.jsx("div",{className:"h-[600px]",children:g.jsx(ih,{localizer:hg,events:K,startAccessor:"start",endAccessor:"end",view:h,onView:v,date:m,onNavigate:p,onSelectEvent:B,onSelectSlot:X,selectable:!0,eventPropGetter:E,components:{event:N,toolbar:()=>null},style:{height:"100%"},formats:{timeGutterFormat:"HH:mm",eventTimeRangeFormat:({start:S,end:A})=>`${L(S).format("HH:mm")} - ${L(A).format("HH:mm")}`},min:new Date(2025,0,1,6,0,0),max:new Date(2025,0,1,22,0,0),step:15,timeslots:4,showMultiDayTimes:!0,popup:!0,popupOffset:30})})})]})}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs(Jr,{children:[g.jsx(Qr,{children:g.jsx(en,{className:"text-lg",children:"Upcoming Appointments"})}),g.jsx(tn,{children:$.length===0?g.jsx("p",{className:"text-gray-500 text-sm",children:"No upcoming appointments"}):g.jsx("div",{className:"space-y-3",children:$.slice(0,5).map(S=>g.jsx("div",{className:"border-l-4 border-blue-500 pl-3 py-2 hover:bg-gray-50 rounded-r transition-colors duration-200",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>{W(S)},children:[g.jsx("p",{className:"font-medium text-sm",children:S.title}),g.jsxs("p",{className:"text-xs text-gray-600",children:[I(S.scheduled_for)," - ",F(S.scheduled_for)]}),g.jsx("p",{className:"text-xs text-gray-500",children:S.technical.name})]}),(u||n)&&S.status==="scheduled"&&g.jsxs(Te,{size:"sm",variant:"outline",onClick:A=>{A.stopPropagation(),we("start",S.id)},className:"ml-2 text-xs px-2 py-1 h-7 bg-green-50 hover:bg-green-100 border-green-200 text-green-700",title:"Start Visit",children:[g.jsx(dn,{className:"w-3 h-3 mr-1"}),"Start"]})]})},S.id))})})]}),g.jsxs(Jr,{children:[g.jsx(Qr,{children:g.jsx(en,{className:"text-lg",children:"Statistics"})}),g.jsx(tn,{children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Total Appointments:"}),g.jsx("span",{className:"font-medium",children:C.length})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Scheduled:"}),g.jsx("span",{className:"font-medium text-blue-600",children:C.filter(S=>S.status==="scheduled").length})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"In Progress:"}),g.jsx("span",{className:"font-medium text-yellow-600",children:C.filter(S=>S.status==="in_progress").length})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Completed:"}),g.jsx("span",{className:"font-medium text-green-600",children:C.filter(S=>S.status==="completed").length})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"No Show:"}),g.jsx("span",{className:"font-medium text-orange-600",children:C.filter(S=>S.status==="no_show").length})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Cancelled:"}),g.jsx("span",{className:"font-medium text-red-600",children:C.filter(S=>S.status==="cancelled").length})]})]})})]}),g.jsxs(Jr,{children:[g.jsx(Qr,{children:g.jsx(en,{className:"text-lg",children:"Available Technicians"})}),g.jsx(tn,{children:g.jsx("div",{className:"space-y-2",children:t.map(S=>g.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[g.jsx("span",{className:"text-sm font-medium",children:S.name}),g.jsx(Is,{variant:"outline",className:"text-xs",children:S.shift||"Available"})]},S.id))})})]})]})]}),g.jsx(Hs,{open:x.open,onOpenChange:S=>M({open:S,appointment:x.appointment}),children:g.jsxs(Us,{className:"sm:max-w-4xl max-h-[95vh] overflow-y-auto",children:[g.jsx(zs,{className:"pb-6 border-b border-slate-200",children:g.jsxs(Vs,{className:"flex items-center gap-3 text-2xl font-bold",children:[g.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg",children:g.jsx(Bt,{className:"w-7 h-7 text-white"})}),g.jsxs("div",{children:[g.jsx("div",{children:"Appointment Details"}),g.jsx("div",{className:"text-sm font-normal text-slate-600 mt-1",children:"Manage and track appointment progress"})]})]})}),g.jsx("div",{className:"max-h-[70vh] overflow-y-auto pr-2",children:x.appointment&&g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[g.jsx("div",{className:"flex items-start justify-between mb-6",children:g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:x.appointment.title}),g.jsx("div",{className:"flex items-center gap-2",children:J(x.appointment.status)})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-slate-100",children:[g.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:g.jsx(Bt,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Scheduled Date & Time"}),g.jsx("div",{className:"text-base font-semibold text-slate-900",children:I(x.appointment.scheduled_for)}),g.jsx("div",{className:"text-sm text-slate-600",children:F(x.appointment.scheduled_for)})]})]}),g.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-slate-100",children:[g.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:g.jsx(rn,{className:"w-5 h-5 text-green-600"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Location"}),g.jsx("div",{className:"text-base font-semibold text-slate-900",children:(()=>{var ce,ae,ge,Ye,Le,ot,bt,fr,hr,mr,Es,ks,Os,Ns,Ts,Rs,Cs,Ps,As,Ys,$s,Ws,Ls,Fs,js;const S=x.appointment;console.log("DEBUG - Full appointment object:",S),console.log("DEBUG - Ticket object:",S==null?void 0:S.ticket),console.log("DEBUG - Device object:",(ce=S==null?void 0:S.ticket)==null?void 0:ce.device),console.log("DEBUG - Device tenants:",(ge=(ae=S==null?void 0:S.ticket)==null?void 0:ae.device)==null?void 0:ge.tenants),console.log("DEBUG - User tenant:",(Le=(Ye=S==null?void 0:S.ticket)==null?void 0:Ye.user)==null?void 0:Le.tenant);const A=((Es=(mr=(hr=(fr=(bt=(ot=S==null?void 0:S.ticket)==null?void 0:ot.device)==null?void 0:bt.tenants)==null?void 0:fr[0])==null?void 0:hr.apartment)==null?void 0:mr.building)==null?void 0:Es.name)||((Rs=(Ts=(Ns=(Os=(ks=S==null?void 0:S.ticket)==null?void 0:ks.user)==null?void 0:Os.tenant)==null?void 0:Ns.apartment)==null?void 0:Ts.building)==null?void 0:Rs.name)||"Building not specified",q=(($s=(Ys=(As=(Ps=(Cs=S==null?void 0:S.ticket)==null?void 0:Cs.device)==null?void 0:Ps.tenants)==null?void 0:As[0])==null?void 0:Ys.apartment)==null?void 0:$s.name)||((js=(Fs=(Ls=(Ws=S==null?void 0:S.ticket)==null?void 0:Ws.user)==null?void 0:Ls.tenant)==null?void 0:Fs.apartment)==null?void 0:js.name);let ve=A;return q&&(ve+=` - ${q}`),ve})()}),x.appointment.address&&g.jsx("div",{className:"text-sm text-slate-600 mt-1",children:x.appointment.address})]}),(()=>{var q,ve,ce,ae,ge,Ye,Le,ot,bt;const S=x.appointment,A=((ge=(ae=(ce=(ve=(q=S==null?void 0:S.ticket)==null?void 0:q.device)==null?void 0:ve.tenants)==null?void 0:ce[0])==null?void 0:ae.apartment)==null?void 0:ge.building)||((bt=(ot=(Le=(Ye=S==null?void 0:S.ticket)==null?void 0:Ye.user)==null?void 0:Le.tenant)==null?void 0:ot.apartment)==null?void 0:bt.building);return A!=null&&A.location_link?g.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>R({open:!0,building:A}),className:"ml-2 p-2 h-8 w-8 rounded-full bg-red-50 hover:bg-red-100 border border-red-200 hover:border-red-300 transition-all duration-200",title:"View on Map",children:g.jsx(rn,{className:"w-4 h-4 text-red-600"})}):null})()]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-slate-100",children:[g.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:g.jsx(ga,{className:"w-5 h-5 text-purple-600"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Assigned Technician"}),g.jsx("div",{className:"text-base font-semibold text-slate-900",children:((Ze=x.appointment.technical)==null?void 0:Ze.name)||"Not assigned"})]})]}),g.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-slate-100",children:[g.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:g.jsx(Bt,{className:"w-5 h-5 text-orange-600"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Related Ticket"}),g.jsxs("div",{className:"text-base font-semibold text-slate-900",children:["#",((wt=x.appointment.ticket)==null?void 0:wt.code)||"N/A"]})]})]})]})]}),x.appointment.description&&g.jsxs("div",{className:"mt-6 p-4 bg-white rounded-xl border border-slate-100",children:[g.jsx("h4",{className:"text-sm font-medium text-slate-600 mb-2",children:"Description"}),g.jsx("p",{className:"text-slate-900",children:x.appointment.description})]}),x.appointment.member_instructions&&g.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-100",children:[g.jsx("h4",{className:"text-sm font-medium text-blue-600 mb-2",children:"Instructions"}),g.jsx("p",{className:"text-blue-700",children:x.appointment.member_instructions})]}),x.appointment.completion_notes&&g.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-xl border border-green-100",children:[g.jsx("h4",{className:"text-sm font-medium text-green-600 mb-2",children:"Completion Notes"}),g.jsx("p",{className:"text-green-700",children:x.appointment.completion_notes})]})]}),(u||n||f)&&x.appointment.status==="scheduled"&&g.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:g.jsx(dn,{className:"w-6 h-6 text-blue-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-blue-900",children:"Visit Actions"}),g.jsx("p",{className:"text-sm text-blue-700",children:"Start your visit or mark as no show"})]})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs(Te,{onClick:()=>{we("start",x.appointment.id),M({open:!1})},className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-xl font-semibold",children:[g.jsx(dn,{className:"w-5 h-5 mr-2"}),"Start Visit"]}),g.jsxs(Te,{variant:"outline",onClick:()=>{we("no-show",x.appointment.id),M({open:!1})},className:"flex-1 border-orange-300 text-orange-600 hover:bg-orange-50 py-3 px-6 rounded-xl font-semibold",children:[g.jsx(ga,{className:"w-5 h-5 mr-2"}),"Mark as No Show"]})]})]})]})}),g.jsx(tc,{className:"pt-6 border-t border-slate-200",children:g.jsxs("div",{className:"flex gap-3 w-full",children:[g.jsx(Te,{variant:"outline",onClick:()=>{var S,A;return window.location.href=`/tickets?ticket=${(A=(S=x.appointment)==null?void 0:S.ticket)==null?void 0:A.id}`},className:"flex-1",children:"View Ticket"}),g.jsx(Te,{onClick:()=>M({open:!1}),className:"flex-1",children:"Close"})]})})]})}),g.jsx(Hs,{open:k.open,onOpenChange:S=>R({open:S}),children:g.jsxs(Us,{className:"sm:max-w-[800px]",children:[g.jsx(zs,{children:g.jsxs(Vs,{className:"flex items-center gap-2",children:[g.jsx(rn,{className:"w-5 h-5 text-red-600"}),((Nt=k.building)==null?void 0:Nt.name)||"Building Location"]})}),g.jsx("div",{className:"w-full aspect-video",children:g.jsx("iframe",{src:(Ut=k.building)!=null&&Ut.location_link?O(k.building.location_link):"",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Building Location"})})]})})]})]})}export{Ig as default};
