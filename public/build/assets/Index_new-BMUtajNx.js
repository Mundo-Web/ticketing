import{j as e}from"./ui-D1w9Iw8H.js";import{r as h}from"./recharts-Dld1lWsf.js";import{A as me}from"./app-layout-Dm4-YTEP.js";import{L as xe,t as c,c as P}from"./app-DFeLvpvU.js";import{C as p,c as u,a as Z,b as ee}from"./card-ujb193xZ.js";import{B as $}from"./format-B6Rb66cG.js";import{B as L}from"./button-BntSAybs.js";import{I as he}from"./input-CYKIjOQn.js";import{S as B,a as R,b as H,c as U,d as g}from"./select-Cexm_mQK.js";import{D as ge,a as je,b as pe,c as ue}from"./dialog-D75RAdkD.js";import{T as fe,a as V,b as W,c as G}from"./tooltip-CQHbb0yU.js";import{c as A}from"./utils-B66yfQja.js";import{a as Ne}from"./circle-check-big-DZU7S_eA.js";import{C as se,A as ye,B as be,c as ke}from"./x-CNM1Dv5p.js";import{R as we}from"./refresh-cw-Sduo88Io.js";import{D as ae}from"./database-DZAg6xN8.js";import{T as I}from"./triangle-alert-DrKF4AKN.js";import{M as F}from"./monitor-BMYn5xBp.js";import{W as te}from"./wifi-dp9f5Yfk.js";import{W as re,L as ne,A as ve,a as _e,b as Se}from"./wifi-off-fPWadNe7.js";import{F as Ce}from"./filter-B_U0HgPW.js";import{S as De}from"./search-BGEUGtTC.js";import{M as Ae}from"./map-pin-CGVzMw_j.js";import{C as Le}from"./clock-BxVJL7PR.js";import{E as Oe}from"./eye-CkkIptxE.js";import{D as Te}from"./download-ovNJc7Ex.js";import{E as ze}from"./external-link-DFS43cfb.js";import{S as Me}from"./smartphone-D010dtY3.js";import{S as Fe}from"./server-qQX4KwzV.js";import"./react-B1hewrmX.js";import"./check-CkciTNW-.js";import"./createLucideIcon-CR-66RMC.js";import"./index-CWijjM2R.js";import"./index-cS_AKGRi.js";import"./index-DrdTBqzy.js";import"./chevrons-up-down-BF_I81uV.js";function $e({device:a,index:m,onSync:j,onViewDetails:b}){var O,y;const d=(o,i)=>o!=null&&o.toLowerCase().includes("mobile")||i!=null&&i.toLowerCase().includes("android")||i!=null&&i.toLowerCase().includes("ios")?e.jsx(Me,{className:"w-5 h-5"}):o!=null&&o.toLowerCase().includes("server")||i!=null&&i.toLowerCase().includes("server")?e.jsx(Fe,{className:"w-5 h-5"}):e.jsx(ke,{className:"w-5 h-5"}),v=o=>{switch(o==null?void 0:o.toLowerCase()){case"healthy":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-200 dark:border-green-800";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-200 dark:border-yellow-800";case"critical":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800";case"offline":return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600";default:return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-200 dark:border-blue-800"}},x=o=>{if(!o)return"Never";try{const i=new Date(o),f=new Date().getTime()-i.getTime(),T=Math.floor(f/(1e3*60)),N=Math.floor(f/(1e3*60*60)),z=Math.floor(f/(1e3*60*60*24));return T<60?`${T}m ago`:N<24?`${N}h ago`:`${z}d ago`}catch{return"Invalid date"}};return e.jsxs("tr",{className:A("border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",m%2===0?"bg-white dark:bg-gray-800/30":"bg-gray-50 dark:bg-gray-800/50"),children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:A("w-10 h-10 rounded-lg flex items-center justify-center",a.ninjaone_data.online?"bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30":"bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700"),children:e.jsx("div",{className:A(a.ninjaone_data.online?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"),children:d(a.ninjaone_data.deviceType,a.ninjaone_data.operatingSystem)})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:a.ninjaone_data.systemName||a.ninjaone_data.hostname||"Unknown Device"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.ninjaone_data.operatingSystem}),a.ninjaone_data.manufacturer&&a.ninjaone_data.model&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.ninjaone_data.manufacturer," ",a.ninjaone_data.model]})]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx($,{className:A("w-fit",a.ninjaone_data.online?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"),children:a.ninjaone_data.online?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Online"]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Offline"]})}),a.has_local_mapping&&e.jsxs($,{className:"w-fit bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-200",children:[e.jsx(ne,{className:"w-3 h-3 mr-1"}),"Synced"]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:((O=a.organization)==null?void 0:O.name)||`Org ${a.ninjaone_data.organizationId}`||"N/A"})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:((y=a.location)==null?void 0:y.name)||`Location ${a.ninjaone_data.locationId}`||"N/A"})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx($,{className:v(a.health_status.status),children:a.health_status.status}),a.alerts_count>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"w-3 h-3 text-red-500"}),e.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:[a.alerts_count," alert",a.alerts_count>1?"s":""]})]}),a.health_status.issuesCount>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3 text-orange-500"}),e.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:[a.health_status.issuesCount," issue",a.health_status.issuesCount>1?"s":""]})]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:x(a.ninjaone_data.lastSeenUtc)}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.ninjaone_data.lastSeenUtc?new Date(a.ninjaone_data.lastSeenUtc).toLocaleDateString():"-"})]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(V,{children:[e.jsx(W,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>b(a),className:"h-8 w-8 p-0",children:e.jsx(Oe,{className:"w-4 h-4"})})}),e.jsx(G,{children:e.jsx("p",{children:"View device details"})})]}),!a.has_local_mapping&&e.jsxs(V,{children:[e.jsx(W,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>j(a.ninjaone_data.id),className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:e.jsx(Te,{className:"w-4 h-4"})})}),e.jsx(G,{children:e.jsx("p",{children:"Sync to local database"})})]}),e.jsxs(V,{children:[e.jsx(W,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>window.open(`https://ninjaone.com/device/${a.ninjaone_data.id}`,"_blank"),className:"h-8 w-8 p-0 text-gray-600 hover:text-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",children:e.jsx(ze,{className:"w-4 h-4"})})}),e.jsx(G,{children:e.jsx("p",{children:"Open in NinjaOne"})})]})]})})]})}function Ie({device:a}){var m,j,b;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"System Name:"}),e.jsx("p",{className:"font-medium",children:a.ninjaone_data.systemName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Hostname:"}),e.jsx("p",{className:"font-medium",children:a.ninjaone_data.hostname||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Operating System:"}),e.jsx("p",{className:"font-medium",children:a.ninjaone_data.operatingSystem||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Serial Number:"}),e.jsx("p",{className:"font-medium",children:a.ninjaone_data.serialNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"IP Address:"}),e.jsx("p",{className:"font-medium",children:a.ninjaone_data.ipAddress||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"MAC Address:"}),e.jsx("p",{className:"font-medium",children:a.ninjaone_data.macAddress||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Health Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),e.jsx("p",{className:"font-medium",children:a.health_status.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Issues:"}),e.jsx("p",{className:"font-medium",children:a.health_status.issuesCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Critical Issues:"}),e.jsx("p",{className:"font-medium text-red-600",children:a.health_status.criticalCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Warning Issues:"}),e.jsx("p",{className:"font-medium text-yellow-600",children:a.health_status.warningCount})]})]})]}),a.alerts.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-3",children:["Active Alerts (",a.alerts.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:a.alerts.map((d,v)=>e.jsxs("div",{className:"p-3 border rounded-lg dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:d.message||"Alert"})]}),d.createdAt&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Created: ",new Date(d.createdAt).toLocaleString()]})]},v))})]}),a.local_device&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Local Device Mapping"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Local Name:"}),e.jsx("p",{className:"font-medium",children:a.local_device.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Brand:"}),e.jsx("p",{className:"font-medium",children:((m=a.local_device.brand)==null?void 0:m.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Model:"}),e.jsx("p",{className:"font-medium",children:((j=a.local_device.model)==null?void 0:j.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"System:"}),e.jsx("p",{className:"font-medium",children:((b=a.local_device.system)==null?void 0:b.name)||"N/A"})]})]})]})]})}function ya({devices:a,stats:m,connection_status:j,error_message:b}){const[d,v]=h.useState(""),[x,O]=h.useState("all"),[y,o]=h.useState("all"),[i,J]=h.useState("all"),[f,T]=h.useState("systemName"),[N,z]=h.useState("asc"),[_,X]=h.useState(null),le=h.useMemo(()=>{const s=new Map;return a.forEach(t=>{var n;if(t.ninjaone_data.organizationId){const r=t.ninjaone_data.organizationId;s.has(r)||s.set(r,{id:r,name:((n=t.organization)==null?void 0:n.name)||`Organization ${r}`,count:0}),s.get(r).count++}}),Array.from(s.values())},[a]),ie=h.useMemo(()=>{const s=new Map;return a.forEach(t=>{var n;if(t.ninjaone_data.locationId){const r=t.ninjaone_data.locationId;s.has(r)||s.set(r,{id:r,name:((n=t.location)==null?void 0:n.name)||`Location ${r}`,count:0}),s.get(r).count++}}),Array.from(s.values())},[a]),E=h.useMemo(()=>{const s=a.filter(t=>{var S,C,D,q,K,Q,Y;const n=((S=t.ninjaone_data.systemName)==null?void 0:S.toLowerCase().includes(d.toLowerCase()))||((C=t.ninjaone_data.hostname)==null?void 0:C.toLowerCase().includes(d.toLowerCase()))||((D=t.ninjaone_data.operatingSystem)==null?void 0:D.toLowerCase().includes(d.toLowerCase()))||((q=t.ninjaone_data.manufacturer)==null?void 0:q.toLowerCase().includes(d.toLowerCase()))||((K=t.ninjaone_data.model)==null?void 0:K.toLowerCase().includes(d.toLowerCase())),r=x==="all"||x==="online"&&t.ninjaone_data.online||x==="offline"&&!t.ninjaone_data.online||x==="alerts"&&t.alerts_count>0||x==="mapped"&&t.has_local_mapping||x==="unmapped"&&!t.has_local_mapping,l=y==="all"||((Q=t.ninjaone_data.organizationId)==null?void 0:Q.toString())===y,M=i==="all"||((Y=t.ninjaone_data.locationId)==null?void 0:Y.toString())===i;return n&&r&&l&&M});return s.sort((t,n)=>{var M,S,C,D;let r,l;switch(f){case"systemName":r=t.ninjaone_data.systemName||t.ninjaone_data.hostname||"",l=n.ninjaone_data.systemName||n.ninjaone_data.hostname||"";break;case"organization":r=((M=t.organization)==null?void 0:M.name)||"",l=((S=n.organization)==null?void 0:S.name)||"";break;case"location":r=((C=t.location)==null?void 0:C.name)||"",l=((D=n.location)==null?void 0:D.name)||"";break;case"status":r=t.ninjaone_data.online?"online":"offline",l=n.ninjaone_data.online?"online":"offline";break;case"lastSeen":r=new Date(t.ninjaone_data.lastSeenUtc).getTime(),l=new Date(n.ninjaone_data.lastSeenUtc).getTime();break;case"deviceType":r=t.ninjaone_data.deviceType||"",l=n.ninjaone_data.deviceType||"";break;case"alerts":r=t.alerts_count,l=n.alerts_count;break;default:r="",l=""}return typeof r=="string"&&typeof l=="string"?N==="asc"?r.localeCompare(l):l.localeCompare(r):N==="asc"?r>l?1:-1:l>r?1:-1}),s},[a,d,x,y,i,f,N]),k=s=>{f===s?z(N==="asc"?"desc":"asc"):(T(s),z("asc"))},w=s=>f!==s?e.jsx(ve,{className:"w-4 h-4 text-gray-400"}):N==="asc"?e.jsx(_e,{className:"w-4 h-4 text-blue-600"}):e.jsx(Se,{className:"w-4 h-4 text-blue-600"}),oe=async()=>{try{c.loading("Testing connection...",{id:"test-connection"});const t=await(await fetch("/api/ninjaone/test-connection",{method:"GET",headers:{"Content-Type":"application/json",...P()}})).json();t.status==="success"?c.success(`Connection successful! Found ${t.device_count} devices.`,{id:"test-connection"}):c.error(`Connection failed: ${t.message}`,{id:"test-connection"})}catch(s){c.error("Error testing connection",{id:"test-connection"}),console.error("Test connection error:",s)}},de=async()=>{try{c.loading("Refreshing devices from NinjaOne...",{id:"refresh-devices"});const s=await fetch("/api/ninjaone/devices/refresh",{method:"POST",headers:{"Content-Type":"application/json",...P()}}),t=await s.json();s.ok&&t.success?(c.success(t.message||"Devices refreshed successfully!",{id:"refresh-devices"}),setTimeout(()=>window.location.reload(),1e3)):c.error(t.message||"Error refreshing devices",{id:"refresh-devices"})}catch(s){c.error("Network error while refreshing devices",{id:"refresh-devices"}),console.error("Refresh devices error:",s)}},ce=async s=>{const t=a.find(n=>n.ninjaone_data.id===s);if(!t){c.error("Device not found");return}try{c.loading("Syncing device to local database...",{id:`sync-${s}`});const n=await fetch(`/api/ninjaone/devices/${s}/sync`,{method:"POST",headers:{"Content-Type":"application/json",...P(),Accept:"application/json"},body:JSON.stringify({systemName:t.ninjaone_data.systemName,hostname:t.ninjaone_data.hostname,manufacturer:t.ninjaone_data.manufacturer,model:t.ninjaone_data.model,operatingSystem:t.ninjaone_data.operatingSystem,serialNumber:t.ninjaone_data.serialNumber,deviceId:s})}),r=await n.json();if(n.ok&&r.success)c.success(r.message||"Device synced successfully!",{id:`sync-${s}`}),setTimeout(()=>window.location.reload(),1e3);else{const l=r.message||r.error||`HTTP ${n.status}: ${n.statusText}`;c.error(l,{id:`sync-${s}`})}}catch(n){console.error("Sync error:",n);let r="Network error while syncing device";n instanceof Error&&(n.message.includes("404")?r="Sync endpoint not found. Please verify the API route exists.":n.message.includes("403")?r="Permission denied. Please check authentication.":n.message.includes("500")&&(r="Server error. Please check server logs.")),c.error(r,{id:`sync-${s}`})}};return e.jsx(fe,{children:e.jsxs(me,{children:[e.jsx(xe,{title:"NinjaOne Devices Dashboard - Real-time Monitoring"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:"Device Management Center"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mt-2",children:"Monitor and manage all NinjaOne connected devices in real-time"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{variant:j==="connected"?"default":"destructive",className:A("px-3 py-1",j==="connected"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:j==="connected"?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-3 h-3 mr-1"}),"NinjaOne Connected"]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Connection Error"]})}),e.jsxs(L,{onClick:oe,variant:"outline",size:"sm",children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Test Connection"]}),e.jsxs(L,{onClick:de,variant:"outline",size:"sm",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})]}),j==="error"&&e.jsx(p,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950/20",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3 text-red-800 dark:text-red-200",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"NinjaOne Connection Error"}),e.jsx("p",{className:"text-sm mt-1",children:b})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[e.jsx(p,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/50 dark:to-blue-900/50 border-blue-200 dark:border-blue-800",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(F,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Total Devices"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:m.total_devices})]})]})})}),e.jsx(p,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/50 dark:to-green-900/50 border-green-200 dark:border-green-800",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-600 rounded-lg",children:e.jsx(te,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Online"}),e.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:m.online_devices})]})]})})}),e.jsx(p,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950/50 dark:to-red-900/50 border-red-200 dark:border-red-800",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-600 rounded-lg",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Offline"}),e.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:m.offline_devices})]})]})})}),e.jsx(p,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-950/50 dark:to-yellow-900/50 border-yellow-200 dark:border-yellow-800",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-600 rounded-lg",children:e.jsx(I,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300",children:"With Alerts"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:m.devices_with_alerts})]})]})})}),e.jsx(p,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950/50 dark:to-purple-900/50 border-purple-200 dark:border-purple-800",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx(ne,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Synced"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:m.mapped_devices})]})]})})}),e.jsx(p,{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 border-gray-200 dark:border-gray-600",children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-600 rounded-lg",children:e.jsx(ae,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Unsynced"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:m.unmapped_devices})]})]})})})]}),e.jsxs(p,{className:"border-0 shadow-lg dark:shadow-gray-900/50",children:[e.jsx(Z,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Filters & Search"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(he,{placeholder:"Search devices, models, OS...",value:d,onChange:s=>v(s.target.value),className:"pl-10"})]})}),e.jsxs(B,{value:x,onValueChange:s=>O(s),children:[e.jsx(R,{children:e.jsx(H,{placeholder:"Filter by status"})}),e.jsxs(U,{children:[e.jsx(g,{value:"all",children:"All Devices"}),e.jsx(g,{value:"online",children:"Online Only"}),e.jsx(g,{value:"offline",children:"Offline Only"}),e.jsx(g,{value:"alerts",children:"With Alerts"}),e.jsx(g,{value:"mapped",children:"Synced to Local"}),e.jsx(g,{value:"unmapped",children:"Not Synced"})]})]}),e.jsxs(B,{value:y,onValueChange:o,children:[e.jsx(R,{children:e.jsx(H,{placeholder:"Filter by organization"})}),e.jsxs(U,{children:[e.jsx(g,{value:"all",children:"All Organizations"}),le.map(s=>e.jsxs(g,{value:s.id.toString(),children:[s.name," (",s.count,")"]},s.id))]})]}),e.jsxs(B,{value:i,onValueChange:J,children:[e.jsx(R,{children:e.jsx(H,{placeholder:"Filter by location"})}),e.jsxs(U,{children:[e.jsx(g,{value:"all",children:"All Locations"}),ie.map(s=>e.jsxs(g,{value:s.id.toString(),children:[s.name," (",s.count,")"]},s.id))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ye,{className:"w-4 h-4"}),"Showing ",E.length," of ",a.length," devices"]})]})]}),e.jsxs(p,{className:"border-0 shadow-xl dark:shadow-gray-900/50",children:[e.jsx(Z,{children:e.jsxs(ee,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5"}),"Device Inventory"]})}),e.jsx(u,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/70",children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 dark:text-gray-300 text-sm",children:e.jsxs("button",{onClick:()=>k("systemName"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400",children:["Device",w("systemName")]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 dark:text-gray-300 text-sm",children:e.jsxs("button",{onClick:()=>k("status"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400",children:["Status",w("status")]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 dark:text-gray-300 text-sm",children:e.jsxs("button",{onClick:()=>k("organization"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400",children:["Organization",w("organization")]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 dark:text-gray-300 text-sm",children:e.jsxs("button",{onClick:()=>k("location"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400",children:["Location",w("location")]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 dark:text-gray-300 text-sm",children:e.jsxs("button",{onClick:()=>k("alerts"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400",children:["Health",w("alerts")]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 dark:text-gray-300 text-sm",children:e.jsxs("button",{onClick:()=>k("lastSeen"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400",children:["Last Seen",w("lastSeen")]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-600 dark:text-gray-300 text-sm",children:"Actions"})]})}),e.jsx("tbody",{children:E.length>0?E.map((s,t)=>e.jsx($e,{device:s,index:t,onSync:ce,onViewDetails:X},s.ninjaone_data.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"py-12 text-center",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(F,{className:"h-12 w-12 text-gray-400 mx-auto"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"No devices found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.length===0?"No devices are available in NinjaOne or there was a connection error.":"No devices match your current filters. Try adjusting your search criteria."})]})})})})]})})})]}),_&&e.jsx(ge,{open:!!_,onOpenChange:()=>X(null),children:e.jsxs(je,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(pe,{children:e.jsxs(ue,{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5"}),"Device Details: ",_.ninjaone_data.systemName||_.ninjaone_data.hostname]})}),e.jsx(Ie,{device:_})]})})]})})]})})}export{ya as default};
