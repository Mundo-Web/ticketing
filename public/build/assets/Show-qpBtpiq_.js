import{j as e}from"./ui--9QRf85z.js";import{A as c}from"./app-layout-DEGtU9h-.js";import{L as n,$ as x}from"./app-C37BWxTn.js";import{B as m}from"./button-3fVzTxZH.js";import"./recharts-B16uQ_Zp.js";import"./react-B1hewrmX.js";import"./index--i9LXxpm.js";import"./utils-DvwAYYBZ.js";import"./x-eWc-uscP.js";import"./createLucideIcon-BBA9I-xQ.js";import"./tooltip-Dm-vk6MS.js";import"./check-C_IBZmq_.js";import"./index-BDFBH7XS.js";import"./index-BsIecJEN.js";import"./index-Df3HipqK.js";import"./chevrons-up-down-DaqTssCh.js";import"./circle-check-big-DKZvEq1H.js";function T({ticket:s}){var a,l,i;const d={open:{label:"Abierto",color:"bg-blue-100 text-blue-800"},in_progress:{label:"En progreso",color:"bg-yellow-100 text-yellow-800"},resolved:{label:"Resuelto",color:"bg-green-100 text-green-800"},closed:{label:"Cerrado",color:"bg-gray-200 text-gray-700"},cancelled:{label:"Cancelado",color:"bg-red-100 text-red-800"}};function o({status:r}){const t=d[r]||{label:r,color:"bg-gray-100 text-gray-700"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.color}`,children:t.label})}return e.jsxs(c,{children:[e.jsx(n,{title:`Ticket ${s.code}`}),e.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Ticket ",e.jsx("span",{className:"text-blue-700",children:s.code})]}),e.jsxs("div",{className:"mb-6 text-gray-700",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Dispositivo:"})," ",((l=(a=s.device)==null?void 0:a.name_device)==null?void 0:l.name)||((i=s.device)==null?void 0:i.name)||"-"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Categoría:"})," ",s.category]}),e.jsxs("div",{children:[e.jsx("b",{children:"Título:"})," ",s.title]}),e.jsxs("div",{children:[e.jsx("b",{children:"Descripción:"})," ",s.description]}),e.jsxs("div",{children:[e.jsx("b",{children:"Estado:"})," ",e.jsx(o,{status:s.status})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Creado:"})," ",s.created_at?new Date(s.created_at).toLocaleString():"-"]}),e.jsxs("div",{children:[e.jsx("b",{children:"Actualizado:"})," ",s.updated_at?new Date(s.updated_at).toLocaleString():"-"]})]}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Historial"}),e.jsxs("div",{className:"bg-white rounded-lg shadow border divide-y",children:[s.histories.length===0&&e.jsx("div",{className:"p-4 text-gray-500 text-center",children:"No hay historial para este ticket."}),s.histories.map((r,t)=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 p-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-blue-700",children:r.action.replace("_"," ").toUpperCase()}),e.jsx("div",{className:"text-gray-700 text-sm",children:r.description}),r.meta&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:JSON.stringify(r.meta)})]}),e.jsxs("div",{className:"flex flex-col items-end min-w-[120px]",children:[e.jsx("div",{className:"text-xs text-gray-500",children:r.user?r.user.name:"Sistema"}),e.jsx("div",{className:"text-xs text-gray-400",children:new Date(r.created_at).toLocaleString()})]})]},r.id))]}),e.jsx("div",{className:"mt-6",children:e.jsx(x,{href:"/tickets",children:e.jsx(m,{variant:"secondary",children:"Volver a la lista"})})})]})]})}export{T as default};
