import{j as n}from"./ui--9QRf85z.js";import{A as og,D as Jo,a as Qo,b as Vo,d as di,c as ag}from"./app-layout-M4ZI7wBn.js";import{a as gi,K as ea,m as hc,S as Pe,L as lg,t as L}from"./app-B27sECEG.js";import{r as U}from"./recharts-B16uQ_Zp.js";import{e as cg,F as ug}from"./FileSaver.min-BGmHM0RZ.js";import{u as dg,T as fg,a as hg,b as xi,c as pg,f as jc,d as mg,e as hi,i as gg}from"./table-Ck82WI9m.js";import{D as Be,a as Fe,b as Xe,c as Ze,d as Er,e as Yr}from"./dialog-Gizu_HUr.js";import{B as I}from"./button-3fVzTxZH.js";import{L as _e}from"./label-B8HdVDlN.js";import{I as Ye}from"./input-0DEeXnQl.js";import{T as pc}from"./textarea-xkRJ1FGY.js";import{S as xg}from"./switch-C60KyjrZ.js";import{C as Xn,a as vg,c as pi}from"./card-D0FUfhcd.js";import{T as Nc,a as yc,b as Jn,c as mc}from"./tabs-C2r_MPaQ.js";import{S as bg,a as wg,b as _g,c as jg,d as Yn}from"./select-BeaewNmC.js";import{T as Ng,a as gt,b as xt,c as vt}from"./tooltip-Dm-vk6MS.js";import yg from"./ModalDispositivos-DpmAZ0Ex.js";import{BuildingCombobox as Cg}from"./ComboBox-Cpv--w4_.js";import{TenantForm as Sg}from"./TenantForm-WKacfTft.js";import{B as Eg}from"./badge-CTYXlqUe.js";import{S as Ag}from"./separator-DoXgUTFQ.js";import{U as mi}from"./user-B9S7Zak9.js";import{C as vi}from"./circle-alert-BoVUSwRZ.js";import{C as Rg,a as bi}from"./circle-check-big-DKZvEq1H.js";import{C as wi}from"./clock-rsHRdq3d.js";import{a as Cc,M as sa,P as ia}from"./timer-DmmoSr9O.js";import{E as Dg}from"./eye-Bhnt7WyV.js";import{R as Tg}from"./rotate-ccw-Pe8vli6_.js";import{C as Sc,B as Ig,a as Me,S as ra,b as gn,c as _i,U as Qn}from"./x-Dwbvy68c.js";import{H as Og}from"./house-Csy0F4Ln.js";import{M as kg}from"./monitor--_KUovl-.js";import{a as Lg}from"./trophy-41xlpHeA.js";import{f as Ug}from"./format-CCdy9gBC.js";import{c as fi,g as Pg}from"./react-B1hewrmX.js";import{P as gc}from"./plus-BdgF4T8b.js";import{C as Mg}from"./cloud-upload-CUVtKsIr.js";import{K as oa,C as Bg,S as Fg,c as Ec}from"./DeviceIcon-ldnJoMhu.js";import{S as ta}from"./square-pen-6qCxIJZ2.js";import{T as xc}from"./trash-2-DghiETJk.js";import{M as Wg}from"./map-pin-B6MGBFhT.js";import{S as $g}from"./search-BYwieh_P.js";import{F as Gg}from"./filter-C7rLzdBM.js";import{F as Hg}from"./file-spreadsheet-DP1B9Kxi.js";import{D as vc}from"./download-CRovyn-I.js";import{C as na}from"./chevron-left-BEER2g75.js";import{T as qg}from"./ticket-NZxvcyxK.js";import"./index--i9LXxpm.js";import"./utils-DvwAYYBZ.js";import"./check-C_IBZmq_.js";import"./createLucideIcon-BBA9I-xQ.js";import"./index-BDFBH7XS.js";import"./index-BsIecJEN.js";import"./index-Df3HipqK.js";import"./chevrons-up-down-DaqTssCh.js";import"./react-select-creatable.esm-CdmqIK_8.js";import"./memoize-one.esm-C_vqz2--.js";import"./checkbox-CrZgHzvg.js";import"./share-2-C-Le8CSz.js";import"./activity-DiIEwa5r.js";import"./archive-DEiaE80P.js";import"./wifi-off-DUi4CIxr.js";import"./arrow-left-B17tfIkq.js";import"./wrench-Bk2yZqnD.js";import"./building-2-Dm3FgcsS.js";import"./zap-1HMIGlWi.js";import"./circle-play-Dthy1u5D.js";import"./cpu-rfhdE1Ln.js";import"./server-WoqNRRBA.js";import"./ellipsis-DD_sq3ud.js";import"./external-link-D4kgwzSg.js";import"./memory-stick--yHBs_zv.js";import"./upload-DgRI5uT4.js";import"./info-DjRDCVbv.js";import"./loader-circle-BSxZztzU.js";import"./sun-BDo30IWo.js";import"./play-DlNAJO-n.js";import"./refresh-cw-Ck3NAieY.js";import"./smartphone-DjIgDxH-.js";import"./star-Bpo0FjGK.js";import"./table-Um-mGLX3.js";import"./ticket-plus-CCZ0Z2of.js";import"./trending-up-iFJZgfSe.js";import"./triangle-alert-Dwpv9XSR.js";import"./user-plus-TUxKnim4.js";import"./wifi-Catyo0Iu.js";import"./en-US-Cx6CYfeS.js";const zg=`
.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
    background: rgb(243 244 246);
    border-radius: 6px;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgb(209 213 219);
    border-radius: 6px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgb(156 163 175);
}
.dark .custom-scrollbar::-webkit-scrollbar-track {
    background: rgb(55 65 81);
}
.dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgb(75 85 99);
}
.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgb(107 114 128);
}
.line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
`;if(typeof document<"u"&&!document.getElementById("ticket-history-styles")){const C=document.createElement("style");C.id="ticket-history-styles",C.textContent=zg,document.head.appendChild(C)}const bc={open:{color:"bg-blue-500",icon:vi,text:"Open"},in_progress:{color:"bg-yellow-500",icon:wi,text:"In Progress"},resolved:{color:"bg-green-500",icon:bi,text:"Resolved"},closed:{color:"bg-gray-500",icon:bi,text:"Closed"},cancelled:{color:"bg-red-500",icon:Sc,text:"Cancelled"},reopened:{color:"bg-orange-500",icon:Tg,text:"Reopened"}};function Kg({status:C}){const l={open:{label:"Open",bgColor:"bg-blue-100",textColor:"text-blue-800",icon:vi},in_progress:{label:"In Progress",bgColor:"bg-amber-100",textColor:"text-amber-800",icon:wi},resolved:{label:"Resolved",bgColor:"bg-emerald-100",textColor:"text-emerald-800",icon:bi},closed:{label:"Closed",bgColor:"bg-slate-100",textColor:"text-slate-700",icon:bi},cancelled:{label:"Cancelled",bgColor:"bg-red-100",textColor:"text-red-800",icon:Sc}}[C]||{label:C,bgColor:"bg-gray-100",textColor:"text-gray-700",icon:vi},xe=l.icon;return n.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium ${l.bgColor} ${l.textColor}`,children:[n.jsx(xe,{className:"w-3 h-3"}),l.label]})}function Yg({category:C}){return n.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-purple-100 text-purple-700 text-xs font-medium",children:[n.jsx(Lg,{className:"w-3 h-3"}),C]})}function Xg({device:C}){var ge;return n.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-sky-100 text-sky-700 text-xs font-medium",children:[n.jsx(kg,{className:"w-3 h-3"}),((ge=C==null?void 0:C.name_device)==null?void 0:ge.name)||(C==null?void 0:C.name)||"Sin dispositivo"]})}function Zg({ticket:C,showContactInfo:ge=!1}){var xe,ve;if(!C.user||!C.user.tenant)return null;const l=C.user.tenant;return n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-3 mb-3",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:l.photo?n.jsx("img",{src:l.photo.startsWith("http")?l.photo:`/storage/${l.photo}`,alt:l.name,className:"w-12 h-12 rounded-full border-2 border-purple-300 shadow-md object-cover"}):n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-400 to-blue-400 flex items-center justify-center text-white text-sm font-bold",children:((xe=l.name)==null?void 0:xe.substring(0,1))||"?"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[n.jsx(mi,{className:"w-3 h-3 text-purple-600"}),n.jsx("p",{className:"text-sm font-semibold text-purple-900 truncate",children:l.name})]}),ge&&l.email&&n.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[n.jsx(Cc,{className:"w-3 h-3 text-green-600"}),n.jsx("p",{className:"text-xs text-green-800 truncate",children:l.email})]}),l.apartment&&n.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[n.jsx(Og,{className:"w-3 h-3 text-blue-600"}),n.jsx("p",{className:"text-xs text-blue-800 truncate",children:l.apartment.name})]}),((ve=l.apartment)==null?void 0:ve.building)&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ig,{className:"w-3 h-3 text-gray-600"}),n.jsx("p",{className:"text-xs text-gray-700 truncate",children:l.apartment.building.name})]})]})]})})}function Jg({isOpen:C,onClose:ge,tenant:l}){const[xe,ve]=U.useState([]),[je,X]=U.useState(!1),[Ur,Pr]=U.useState("all"),[ne,Ar]=U.useState(null),Ie=U.useCallback(async($="all")=>{var J,O,or;if(l!=null&&l.id){X(!0);try{const re=await gi.get(`/tenants/${l.id}/tickets`,{params:{status:$}});ve(re.data.tickets)}catch(re){console.error("Error fetching tickets:",re),gi.isAxiosError(re)?((J=re.response)==null?void 0:J.status)===403?console.error("Access denied to fetch tickets"):((O=re.response)==null?void 0:O.status)===404?console.error("Tenant not found"):console.error("Unexpected error:",((or=re.response)==null?void 0:or.data)||re.message):console.error("Non-axios error:",re)}finally{X(!1)}}},[l==null?void 0:l.id]);if(U.useEffect(()=>{C&&(l!=null&&l.id)&&Ie(Ur)},[C,l==null?void 0:l.id,Ur,Ie]),!l)return n.jsx(Be,{open:C,onOpenChange:ge,children:n.jsxs(Fe,{className:"max-w-md",children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Error"})}),n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No tenant selected"})}),n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx(I,{onClick:ge,children:"Close"})})]})});const ir=$=>{const J=bc[$]||bc.open,O=J.icon;return n.jsxs(Eg,{className:`${J.color} text-white`,children:[n.jsx(O,{className:"w-3 h-3 mr-1"}),J.text]})},be=xe.reduce(($,J)=>($[J.status]=($[J.status]||0)+1,$),{}),se=xe.length;return n.jsx(Be,{open:C,onOpenChange:ge,children:n.jsxs(Fe,{className:"min-w-5xl h-[95vh] max-h-[95vh] overflow-hidden bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700",children:[n.jsx(Xe,{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:n.jsxs(Ze,{className:"flex items-center gap-3 text-xl font-bold",children:[n.jsx("div",{className:"p-2 bg-corporate-gold/10 rounded-lg",children:n.jsx(mi,{className:"w-5 h-5 text-corporate-gold"})}),n.jsx("span",{className:"text-corporate-gold",children:"Ticket History"}),n.jsx("span",{className:"text-muted-foreground text-lg",children:"•"}),n.jsx("span",{className:"text-foreground",children:(l==null?void 0:l.name)||"Unknown Tenant"})]})}),n.jsxs("div",{className:"flex h-[calc(88vh-140px)] gap-6 mt-4",children:[n.jsxs("div",{className:"w-3/5 border-r border-gray-200 dark:border-gray-700 pr-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-4 text-white text-center shadow-sm",children:[n.jsx("div",{className:"text-2xl font-bold mb-1",children:se}),n.jsx("div",{className:"text-xs text-blue-100 font-medium",children:"Total"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4 text-white text-center shadow-sm",children:[n.jsx("div",{className:"text-2xl font-bold mb-1",children:be.resolved||0}),n.jsx("div",{className:"text-xs text-green-100 font-medium",children:"Resolved"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-4 text-white text-center shadow-sm",children:[n.jsx("div",{className:"text-2xl font-bold mb-1",children:be.open||0}),n.jsx("div",{className:"text-xs text-orange-100 font-medium",children:"Pending"})]})]}),n.jsx(Nc,{value:Ur,onValueChange:Pr,children:n.jsxs(yc,{className:"grid w-full grid-cols-3 bg-gray-50 dark:bg-gray-900 rounded-lg p-1 border-0",children:[n.jsxs(Jn,{value:"all",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 text-sm font-medium rounded-md",children:["All (",se,")"]}),n.jsxs(Jn,{value:"open",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 text-sm font-medium rounded-md",children:["Open (",be.open||0,")"]}),n.jsxs(Jn,{value:"resolved",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900 text-sm font-medium rounded-md",children:["Resolved (",be.resolved||0,")"]})]})})]}),n.jsx("div",{className:"h-[calc(100%-140px)] overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:je?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-corporate-gold mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading tickets..."})]}):xe.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(vi,{className:"w-6 h-6 text-gray-400"})}),n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"No tickets found"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This member hasn't created any tickets yet"})]}):xe.map($=>n.jsxs("div",{className:`cursor-pointer transition-all duration-200 rounded-lg border p-3 hover:shadow-md ${(ne==null?void 0:ne.id)===$.id?"bg-corporate-gold/5 border-corporate-gold shadow-sm":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-corporate-gold/30"}`,onClick:()=>Ar($),children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono text-xs font-medium text-corporate-gold bg-corporate-gold/10 px-2 py-1 rounded",children:$.code}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Ug(new Date($.created_at),"MMM d")})]}),n.jsx("div",{className:"scale-75",children:ir($.status)})]}),n.jsx("h4",{className:"font-medium text-sm line-clamp-1 mb-1",children:$.title}),n.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1 mb-2",children:$.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[$.device&&n.jsxs("div",{className:"flex items-center gap-1 text-corporate-gold bg-corporate-gold/10 px-2 py-1 rounded-full",children:[n.jsx("div",{className:"w-1 h-1 bg-corporate-gold rounded-full"}),n.jsx("span",{className:"font-medium truncate max-w-20",children:$.device.name})]}),$.technical&&n.jsxs("div",{className:"flex items-center gap-1 text-blue-600 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded-full",children:[n.jsx(mi,{className:"w-2.5 h-2.5"}),n.jsx("span",{className:"font-medium truncate max-w-16",children:$.technical.name})]})]})]},$.id))})]}),n.jsx("div",{className:"w-2/5 pl-6",children:ne?n.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar",children:n.jsxs(Xn,{className:"shadow-xl border-0 bg-gradient-to-br from-white to-gray-50",children:[n.jsx(vg,{className:"text-black rounded-t-lg shadow pb-4",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("h2",{className:"text-lg font-semibold",children:"Ticket Details"})})}),n.jsx(pi,{className:"p-0",children:n.jsx("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:n.jsxs("div",{className:"px-6 pb-6",children:[n.jsx(Zg,{ticket:ne,showContactInfo:!0}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-slate-900",children:ne.title}),n.jsx(Kg,{status:ne.status})]}),n.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:ne.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"ID:"}),n.jsxs("span",{className:"ml-2 font-medium",children:["#",ne.id]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Code:"}),n.jsx("span",{className:"ml-2 font-medium",children:ne.code})]})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx(Xg,{device:ne.device}),n.jsx(Yg,{category:ne.category})]})}),n.jsxs("div",{className:"text-xs text-slate-500 space-y-1 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rg,{className:"w-3 h-3"}),"Created:"," ",ne.created_at?new Date(ne.created_at).toLocaleString("en-US"):"-"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wi,{className:"w-3 h-3"}),"Updated:"," ",ne.updated_at?new Date(ne.updated_at).toLocaleString("en-US"):"-"]})]})]}),n.jsx(Ag,{}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("h4",{className:"font-medium text-slate-900 flex items-center gap-2",children:[n.jsx(wi,{className:"w-4 h-4 text-blue-500"}),"History"]}),n.jsx("div",{className:"space-y-3",children:!ne.histories||ne.histories.length===0?n.jsxs("div",{className:"text-center py-6 text-slate-500",children:[n.jsx(Cc,{className:"w-8 h-8 mx-auto mb-2 text-slate-300"}),n.jsx("p",{className:"text-sm",children:"No history available"})]}):[...ne.histories].slice().reverse().map(($,J,O)=>n.jsxs("div",{className:"relative pl-6 pb-4 last:pb-0",children:[n.jsx("div",{className:"absolute left-0 top-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white shadow"}),J!==O.length-1&&n.jsx("div",{className:"absolute left-1.5 top-4 w-0.5 h-full bg-slate-200"}),n.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 ml-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-xs font-medium text-blue-600 uppercase tracking-wide",children:$.action.replace("_"," ")}),J===0&&n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Recent"})]}),n.jsx("p",{className:"text-sm text-slate-700 mb-2",children:$.description}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(mi,{className:"w-3 h-3"}),$.user?$.user.name:"Sistema"]}),n.jsx("span",{children:new Date($.created_at).toLocaleString("es-ES")})]})]})]},$.id))})]})]})})})]})}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx("div",{className:"w-16 h-16 bg-corporate-gold/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Dg,{className:"w-8 h-8 text-corporate-gold/40"})}),n.jsx("h3",{className:"font-bold text-lg text-muted-foreground mb-2",children:"Select a Ticket"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-xs leading-relaxed",children:"Choose a ticket from the list to view its details and activity history."})]})})})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700 mt-4 bg-white dark:bg-gray-900",children:[n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:xe.length>0&&n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("span",{children:[n.jsx("span",{className:"font-medium text-corporate-gold",children:xe.length})," ticket",xe.length!==1?"s":""," •",n.jsxs("span",{className:"text-green-600 ml-1",children:[be.resolved||0," resolved"]})," •",n.jsxs("span",{className:"text-orange-600 ml-1",children:[be.open||0," pending"]})]})})}),n.jsx(I,{onClick:ge,className:"bg-corporate-gold hover:bg-corporate-warm text-white px-6 py-2 font-medium shadow-md hover:shadow-lg transition-all duration-200",children:"Close"})]})]})})}var Zn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Qg=Zn.exports,wc;function Vg(){return wc||(wc=1,function(C,ge){(function(){var l,xe="4.17.21",ve=200,je="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",X="Expected a function",Ur="Invalid `variable` option passed into `_.template`",Pr="__lodash_hash_undefined__",ne=500,Ar="__lodash_placeholder__",Ie=1,ir=2,be=4,se=1,$=2,J=1,O=2,or=4,re=8,Ee=16,We=32,Je=64,ee=128,$e=256,Xr=512,Zr=30,vr="...",bt=800,fe=16,Jr=1,Mr=2,wt=3,Ne=1/0,br=9007199254740991,Ht=17976931348623157e292,Rr=NaN,Ge=4294967295,_t=Ge-1,qt=Ge>>>1,Vn=[["ary",ee],["bind",J],["bindKey",O],["curry",re],["curryRight",Ee],["flip",Xr],["partial",We],["partialRight",Je],["rearg",$e]],Qr="[object Arguments]",Vr="[object Array]",ji="[object AsyncFunction]",Dr="[object Boolean]",Qe="[object Date]",es="[object DOMException]",et="[object Error]",jt="[object Function]",rs="[object GeneratorFunction]",ye="[object Map]",Nt="[object Number]",zt="[object Null]",wr="[object Object]",yt="[object Promise]",xn="[object Proxy]",rt="[object RegExp]",Oe="[object Set]",tt="[object String]",Ct="[object Symbol]",Ni="[object Undefined]",St="[object WeakMap]",Kt="[object WeakSet]",Et="[object ArrayBuffer]",Tr="[object DataView]",ar="[object Float32Array]",Yt="[object Float64Array]",At="[object Int8Array]",vn="[object Int16Array]",lr="[object Int32Array]",Ir="[object Uint8Array]",S="[object Uint8ClampedArray]",bn="[object Uint16Array]",_r="[object Uint32Array]",Ce=/\b__p \+= '';/g,Rt=/\b(__p \+=) '' \+/g,yi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ts=/&(?:amp|lt|gt|quot|#39);/g,wn=/[&<>"']/g,nt=RegExp(ts.source),Xt=RegExp(wn.source),oe=/<%-([\s\S]+?)%>/g,Zt=/<%([\s\S]+?)%>/g,ns=/<%=([\s\S]+?)%>/g,ss=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ci=/^\w*$/,Si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/[\\^$.*+?()[\]{}|]/g,Ei=RegExp(_n.source),jn=/^\s+/,Ai=/\s/,Ri=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Di=/\{\n\/\* \[wrapped with (.+)\] \*/,Ti=/,? & /,is=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ii=/[()=,{}\[\]\/\s]/,os=/\\(\\)?/g,Oi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,as=/\w*$/,ki=/^[-+]0x[0-9a-f]+$/i,Li=/^0b[01]+$/i,ls=/^\[object .+?Constructor\]$/,Dt=/^0o[0-7]+$/i,Ui=/^(?:0|[1-9]\d*)$/,st=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,Pi=/['\n\r\u2028\u2029\\]/g,Tt="\\ud800-\\udfff",Mi="\\u0300-\\u036f",Bi="\\ufe20-\\ufe2f",Qt="\\u20d0-\\u20ff",Ae=Mi+Bi+Qt,It="\\u2700-\\u27bf",cs="a-z\\xdf-\\xf6\\xf8-\\xff",Fi="\\xac\\xb1\\xd7\\xf7",Wi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vt="\\u2000-\\u206f",$i=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="A-Z\\xc0-\\xd6\\xd8-\\xde",us="\\ufe0e\\ufe0f",kt=Fi+Wi+Vt+$i,P="['’]",Re="["+Tt+"]",cr="["+kt+"]",jr="["+Ae+"]",ds="\\d+",Gi="["+It+"]",fs="["+cs+"]",hs="[^"+Tt+kt+ds+It+cs+Ot+"]",Nn="\\ud83c[\\udffb-\\udfff]",Hi="(?:"+jr+"|"+Nn+")",ps="[^"+Tt+"]",yn="(?:\\ud83c[\\udde6-\\uddff]){2}",Cn="[\\ud800-\\udbff][\\udc00-\\udfff]",it="["+Ot+"]",Sn="\\u200d",En="(?:"+fs+"|"+hs+")",ms="(?:"+it+"|"+hs+")",An="(?:"+P+"(?:d|ll|m|re|s|t|ve))?",Rn="(?:"+P+"(?:D|LL|M|RE|S|T|VE))?",Dn=Hi+"?",Tn="["+us+"]?",gs="(?:"+Sn+"(?:"+[ps,yn,Cn].join("|")+")"+Tn+Dn+")*",xs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",In=Tn+Dn+gs,bs="(?:"+[Gi,yn,Cn].join("|")+")"+In,ws="(?:"+[ps+jr+"?",jr,yn,Cn,Re].join("|")+")",_s=RegExp(P,"g"),js=RegExp(jr,"g"),en=RegExp(Nn+"(?="+Nn+")|"+ws+In,"g"),Ns=RegExp([it+"?"+fs+"+"+An+"(?="+[cr,it,"$"].join("|")+")",ms+"+"+Rn+"(?="+[cr,it+En,"$"].join("|")+")",it+"?"+En+"+"+An,it+"+"+Rn,vs,xs,ds,bs].join("|"),"g"),c=RegExp("["+Sn+Tt+Ae+us+"]"),h=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,j=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],k=-1,w={};w[ar]=w[Yt]=w[At]=w[vn]=w[lr]=w[Ir]=w[S]=w[bn]=w[_r]=!0,w[Qr]=w[Vr]=w[Et]=w[Dr]=w[Tr]=w[Qe]=w[et]=w[jt]=w[ye]=w[Nt]=w[wr]=w[rt]=w[Oe]=w[tt]=w[St]=!1;var y={};y[Qr]=y[Vr]=y[Et]=y[Tr]=y[Dr]=y[Qe]=y[ar]=y[Yt]=y[At]=y[vn]=y[lr]=y[ye]=y[Nt]=y[wr]=y[rt]=y[Oe]=y[tt]=y[Ct]=y[Ir]=y[S]=y[bn]=y[_r]=!0,y[et]=y[jt]=y[St]=!1;var M={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},q={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},de={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ys=parseFloat,Cs=parseInt,ot=typeof fi=="object"&&fi&&fi.Object===Object&&fi,rn=typeof self=="object"&&self&&self.Object===Object&&self,he=ot||rn||Function("return this")(),qi=ge&&!ge.nodeType&&ge,Lt=qi&&!0&&C&&!C.nodeType&&C,aa=Lt&&Lt.exports===qi,zi=aa&&ot.process,ur=function(){try{var f=Lt&&Lt.require&&Lt.require("util").types;return f||zi&&zi.binding&&zi.binding("util")}catch{}}(),la=ur&&ur.isArrayBuffer,ca=ur&&ur.isDate,ua=ur&&ur.isMap,da=ur&&ur.isRegExp,fa=ur&&ur.isSet,ha=ur&&ur.isTypedArray;function Ve(f,g,m){switch(m.length){case 0:return f.call(g);case 1:return f.call(g,m[0]);case 2:return f.call(g,m[0],m[1]);case 3:return f.call(g,m[0],m[1],m[2])}return f.apply(g,m)}function Ac(f,g,m,N){for(var B=-1,Z=f==null?0:f.length;++B<Z;){var pe=f[B];g(N,pe,m(pe),f)}return N}function dr(f,g){for(var m=-1,N=f==null?0:f.length;++m<N&&g(f[m],m,f)!==!1;);return f}function Rc(f,g){for(var m=f==null?0:f.length;m--&&g(f[m],m,f)!==!1;);return f}function pa(f,g){for(var m=-1,N=f==null?0:f.length;++m<N;)if(!g(f[m],m,f))return!1;return!0}function at(f,g){for(var m=-1,N=f==null?0:f.length,B=0,Z=[];++m<N;){var pe=f[m];g(pe,m,f)&&(Z[B++]=pe)}return Z}function Ss(f,g){var m=f==null?0:f.length;return!!m&&tn(f,g,0)>-1}function Ki(f,g,m){for(var N=-1,B=f==null?0:f.length;++N<B;)if(m(g,f[N]))return!0;return!1}function ie(f,g){for(var m=-1,N=f==null?0:f.length,B=Array(N);++m<N;)B[m]=g(f[m],m,f);return B}function lt(f,g){for(var m=-1,N=g.length,B=f.length;++m<N;)f[B+m]=g[m];return f}function Yi(f,g,m,N){var B=-1,Z=f==null?0:f.length;for(N&&Z&&(m=f[++B]);++B<Z;)m=g(m,f[B],B,f);return m}function Dc(f,g,m,N){var B=f==null?0:f.length;for(N&&B&&(m=f[--B]);B--;)m=g(m,f[B],B,f);return m}function Xi(f,g){for(var m=-1,N=f==null?0:f.length;++m<N;)if(g(f[m],m,f))return!0;return!1}var Tc=Zi("length");function Ic(f){return f.split("")}function Oc(f){return f.match(is)||[]}function ma(f,g,m){var N;return m(f,function(B,Z,pe){if(g(B,Z,pe))return N=Z,!1}),N}function Es(f,g,m,N){for(var B=f.length,Z=m+(N?1:-1);N?Z--:++Z<B;)if(g(f[Z],Z,f))return Z;return-1}function tn(f,g,m){return g===g?qc(f,g,m):Es(f,ga,m)}function kc(f,g,m,N){for(var B=m-1,Z=f.length;++B<Z;)if(N(f[B],g))return B;return-1}function ga(f){return f!==f}function xa(f,g){var m=f==null?0:f.length;return m?Qi(f,g)/m:Rr}function Zi(f){return function(g){return g==null?l:g[f]}}function Ji(f){return function(g){return f==null?l:f[g]}}function va(f,g,m,N,B){return B(f,function(Z,pe,te){m=N?(N=!1,Z):g(m,Z,pe,te)}),m}function Lc(f,g){var m=f.length;for(f.sort(g);m--;)f[m]=f[m].value;return f}function Qi(f,g){for(var m,N=-1,B=f.length;++N<B;){var Z=g(f[N]);Z!==l&&(m=m===l?Z:m+Z)}return m}function Vi(f,g){for(var m=-1,N=Array(f);++m<f;)N[m]=g(m);return N}function Uc(f,g){return ie(g,function(m){return[m,f[m]]})}function ba(f){return f&&f.slice(0,Na(f)+1).replace(jn,"")}function er(f){return function(g){return f(g)}}function eo(f,g){return ie(g,function(m){return f[m]})}function On(f,g){return f.has(g)}function wa(f,g){for(var m=-1,N=f.length;++m<N&&tn(g,f[m],0)>-1;);return m}function _a(f,g){for(var m=f.length;m--&&tn(g,f[m],0)>-1;);return m}function Pc(f,g){for(var m=f.length,N=0;m--;)f[m]===g&&++N;return N}var Mc=Ji(M),Bc=Ji(A);function Fc(f){return"\\"+de[f]}function Wc(f,g){return f==null?l:f[g]}function nn(f){return c.test(f)}function $c(f){return h.test(f)}function Gc(f){for(var g,m=[];!(g=f.next()).done;)m.push(g.value);return m}function ro(f){var g=-1,m=Array(f.size);return f.forEach(function(N,B){m[++g]=[B,N]}),m}function ja(f,g){return function(m){return f(g(m))}}function ct(f,g){for(var m=-1,N=f.length,B=0,Z=[];++m<N;){var pe=f[m];(pe===g||pe===Ar)&&(f[m]=Ar,Z[B++]=m)}return Z}function As(f){var g=-1,m=Array(f.size);return f.forEach(function(N){m[++g]=N}),m}function Hc(f){var g=-1,m=Array(f.size);return f.forEach(function(N){m[++g]=[N,N]}),m}function qc(f,g,m){for(var N=m-1,B=f.length;++N<B;)if(f[N]===g)return N;return-1}function zc(f,g,m){for(var N=m+1;N--;)if(f[N]===g)return N;return N}function sn(f){return nn(f)?Yc(f):Tc(f)}function Nr(f){return nn(f)?Xc(f):Ic(f)}function Na(f){for(var g=f.length;g--&&Ai.test(f.charAt(g)););return g}var Kc=Ji(q);function Yc(f){for(var g=en.lastIndex=0;en.test(f);)++g;return g}function Xc(f){return f.match(en)||[]}function Zc(f){return f.match(Ns)||[]}var Jc=function f(g){g=g==null?he:on.defaults(he.Object(),g,on.pick(he,j));var m=g.Array,N=g.Date,B=g.Error,Z=g.Function,pe=g.Math,te=g.Object,to=g.RegExp,Qc=g.String,fr=g.TypeError,Rs=m.prototype,Vc=Z.prototype,an=te.prototype,Ds=g["__core-js_shared__"],Ts=Vc.toString,V=an.hasOwnProperty,eu=0,ya=function(){var e=/[^.]+$/.exec(Ds&&Ds.keys&&Ds.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Is=an.toString,ru=Ts.call(te),tu=he._,nu=to("^"+Ts.call(V).replace(_n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Os=aa?g.Buffer:l,ut=g.Symbol,ks=g.Uint8Array,Ca=Os?Os.allocUnsafe:l,Ls=ja(te.getPrototypeOf,te),Sa=te.create,Ea=an.propertyIsEnumerable,Us=Rs.splice,Aa=ut?ut.isConcatSpreadable:l,kn=ut?ut.iterator:l,Ut=ut?ut.toStringTag:l,Ps=function(){try{var e=Wt(te,"defineProperty");return e({},"",{}),e}catch{}}(),su=g.clearTimeout!==he.clearTimeout&&g.clearTimeout,iu=N&&N.now!==he.Date.now&&N.now,ou=g.setTimeout!==he.setTimeout&&g.setTimeout,Ms=pe.ceil,Bs=pe.floor,no=te.getOwnPropertySymbols,au=Os?Os.isBuffer:l,Ra=g.isFinite,lu=Rs.join,cu=ja(te.keys,te),me=pe.max,De=pe.min,uu=N.now,du=g.parseInt,Da=pe.random,fu=Rs.reverse,so=Wt(g,"DataView"),Ln=Wt(g,"Map"),io=Wt(g,"Promise"),ln=Wt(g,"Set"),Un=Wt(g,"WeakMap"),Pn=Wt(te,"create"),Fs=Un&&new Un,cn={},hu=$t(so),pu=$t(Ln),mu=$t(io),gu=$t(ln),xu=$t(Un),Ws=ut?ut.prototype:l,Mn=Ws?Ws.valueOf:l,Ta=Ws?Ws.toString:l;function o(e){if(le(e)&&!F(e)&&!(e instanceof K)){if(e instanceof hr)return e;if(V.call(e,"__wrapped__"))return Il(e)}return new hr(e)}var un=function(){function e(){}return function(r){if(!ae(r))return{};if(Sa)return Sa(r);e.prototype=r;var t=new e;return e.prototype=l,t}}();function $s(){}function hr(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=l}o.templateSettings={escape:oe,evaluate:Zt,interpolate:ns,variable:"",imports:{_:o}},o.prototype=$s.prototype,o.prototype.constructor=o,hr.prototype=un($s.prototype),hr.prototype.constructor=hr;function K(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ge,this.__views__=[]}function vu(){var e=new K(this.__wrapped__);return e.__actions__=He(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=He(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=He(this.__views__),e}function bu(){if(this.__filtered__){var e=new K(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function wu(){var e=this.__wrapped__.value(),r=this.__dir__,t=F(e),s=r<0,i=t?e.length:0,a=Id(0,i,this.__views__),u=a.start,d=a.end,p=d-u,x=s?d:u-1,v=this.__iteratees__,b=v.length,_=0,E=De(p,this.__takeCount__);if(!t||!s&&i==p&&E==p)return rl(e,this.__actions__);var D=[];e:for(;p--&&_<E;){x+=r;for(var G=-1,T=e[x];++G<b;){var z=v[G],Y=z.iteratee,nr=z.type,Ue=Y(T);if(nr==Mr)T=Ue;else if(!Ue){if(nr==Jr)continue e;break e}}D[_++]=T}return D}K.prototype=un($s.prototype),K.prototype.constructor=K;function Pt(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}function _u(){this.__data__=Pn?Pn(null):{},this.size=0}function ju(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function Nu(e){var r=this.__data__;if(Pn){var t=r[e];return t===Pr?l:t}return V.call(r,e)?r[e]:l}function yu(e){var r=this.__data__;return Pn?r[e]!==l:V.call(r,e)}function Cu(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Pn&&r===l?Pr:r,this}Pt.prototype.clear=_u,Pt.prototype.delete=ju,Pt.prototype.get=Nu,Pt.prototype.has=yu,Pt.prototype.set=Cu;function Br(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}function Su(){this.__data__=[],this.size=0}function Eu(e){var r=this.__data__,t=Gs(r,e);if(t<0)return!1;var s=r.length-1;return t==s?r.pop():Us.call(r,t,1),--this.size,!0}function Au(e){var r=this.__data__,t=Gs(r,e);return t<0?l:r[t][1]}function Ru(e){return Gs(this.__data__,e)>-1}function Du(e,r){var t=this.__data__,s=Gs(t,e);return s<0?(++this.size,t.push([e,r])):t[s][1]=r,this}Br.prototype.clear=Su,Br.prototype.delete=Eu,Br.prototype.get=Au,Br.prototype.has=Ru,Br.prototype.set=Du;function Fr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var s=e[r];this.set(s[0],s[1])}}function Tu(){this.size=0,this.__data__={hash:new Pt,map:new(Ln||Br),string:new Pt}}function Iu(e){var r=ri(this,e).delete(e);return this.size-=r?1:0,r}function Ou(e){return ri(this,e).get(e)}function ku(e){return ri(this,e).has(e)}function Lu(e,r){var t=ri(this,e),s=t.size;return t.set(e,r),this.size+=t.size==s?0:1,this}Fr.prototype.clear=Tu,Fr.prototype.delete=Iu,Fr.prototype.get=Ou,Fr.prototype.has=ku,Fr.prototype.set=Lu;function Mt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Fr;++r<t;)this.add(e[r])}function Uu(e){return this.__data__.set(e,Pr),this}function Pu(e){return this.__data__.has(e)}Mt.prototype.add=Mt.prototype.push=Uu,Mt.prototype.has=Pu;function yr(e){var r=this.__data__=new Br(e);this.size=r.size}function Mu(){this.__data__=new Br,this.size=0}function Bu(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function Fu(e){return this.__data__.get(e)}function Wu(e){return this.__data__.has(e)}function $u(e,r){var t=this.__data__;if(t instanceof Br){var s=t.__data__;if(!Ln||s.length<ve-1)return s.push([e,r]),this.size=++t.size,this;t=this.__data__=new Fr(s)}return t.set(e,r),this.size=t.size,this}yr.prototype.clear=Mu,yr.prototype.delete=Bu,yr.prototype.get=Fu,yr.prototype.has=Wu,yr.prototype.set=$u;function Ia(e,r){var t=F(e),s=!t&&Gt(e),i=!t&&!s&&mt(e),a=!t&&!s&&!i&&pn(e),u=t||s||i||a,d=u?Vi(e.length,Qc):[],p=d.length;for(var x in e)(r||V.call(e,x))&&!(u&&(x=="length"||i&&(x=="offset"||x=="parent")||a&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||Hr(x,p)))&&d.push(x);return d}function Oa(e){var r=e.length;return r?e[xo(0,r-1)]:l}function Gu(e,r){return ti(He(e),Bt(r,0,e.length))}function Hu(e){return ti(He(e))}function oo(e,r,t){(t!==l&&!Cr(e[r],t)||t===l&&!(r in e))&&Wr(e,r,t)}function Bn(e,r,t){var s=e[r];(!(V.call(e,r)&&Cr(s,t))||t===l&&!(r in e))&&Wr(e,r,t)}function Gs(e,r){for(var t=e.length;t--;)if(Cr(e[t][0],r))return t;return-1}function qu(e,r,t,s){return dt(e,function(i,a,u){r(s,i,t(i),u)}),s}function ka(e,r){return e&&kr(r,we(r),e)}function zu(e,r){return e&&kr(r,ze(r),e)}function Wr(e,r,t){r=="__proto__"&&Ps?Ps(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function ao(e,r){for(var t=-1,s=r.length,i=m(s),a=e==null;++t<s;)i[t]=a?l:$o(e,r[t]);return i}function Bt(e,r,t){return e===e&&(t!==l&&(e=e<=t?e:t),r!==l&&(e=e>=r?e:r)),e}function pr(e,r,t,s,i,a){var u,d=r&Ie,p=r&ir,x=r&be;if(t&&(u=i?t(e,s,i,a):t(e)),u!==l)return u;if(!ae(e))return e;var v=F(e);if(v){if(u=kd(e),!d)return He(e,u)}else{var b=Te(e),_=b==jt||b==rs;if(mt(e))return sl(e,d);if(b==wr||b==Qr||_&&!i){if(u=p||_?{}:Nl(e),!d)return p?Nd(e,zu(u,e)):jd(e,ka(u,e))}else{if(!y[b])return i?e:{};u=Ld(e,b,d)}}a||(a=new yr);var E=a.get(e);if(E)return E;a.set(e,u),Ql(e)?e.forEach(function(T){u.add(pr(T,r,t,T,e,a))}):Zl(e)&&e.forEach(function(T,z){u.set(z,pr(T,r,t,z,e,a))});var D=x?p?Ao:Eo:p?ze:we,G=v?l:D(e);return dr(G||e,function(T,z){G&&(z=T,T=e[z]),Bn(u,z,pr(T,r,t,z,e,a))}),u}function Ku(e){var r=we(e);return function(t){return La(t,e,r)}}function La(e,r,t){var s=t.length;if(e==null)return!s;for(e=te(e);s--;){var i=t[s],a=r[i],u=e[i];if(u===l&&!(i in e)||!a(u))return!1}return!0}function Ua(e,r,t){if(typeof e!="function")throw new fr(X);return zn(function(){e.apply(l,t)},r)}function Fn(e,r,t,s){var i=-1,a=Ss,u=!0,d=e.length,p=[],x=r.length;if(!d)return p;t&&(r=ie(r,er(t))),s?(a=Ki,u=!1):r.length>=ve&&(a=On,u=!1,r=new Mt(r));e:for(;++i<d;){var v=e[i],b=t==null?v:t(v);if(v=s||v!==0?v:0,u&&b===b){for(var _=x;_--;)if(r[_]===b)continue e;p.push(v)}else a(r,b,s)||p.push(v)}return p}var dt=cl(Or),Pa=cl(co,!0);function Yu(e,r){var t=!0;return dt(e,function(s,i,a){return t=!!r(s,i,a),t}),t}function Hs(e,r,t){for(var s=-1,i=e.length;++s<i;){var a=e[s],u=r(a);if(u!=null&&(d===l?u===u&&!tr(u):t(u,d)))var d=u,p=a}return p}function Xu(e,r,t,s){var i=e.length;for(t=W(t),t<0&&(t=-t>i?0:i+t),s=s===l||s>i?i:W(s),s<0&&(s+=i),s=t>s?0:ec(s);t<s;)e[t++]=r;return e}function Ma(e,r){var t=[];return dt(e,function(s,i,a){r(s,i,a)&&t.push(s)}),t}function Se(e,r,t,s,i){var a=-1,u=e.length;for(t||(t=Pd),i||(i=[]);++a<u;){var d=e[a];r>0&&t(d)?r>1?Se(d,r-1,t,s,i):lt(i,d):s||(i[i.length]=d)}return i}var lo=ul(),Ba=ul(!0);function Or(e,r){return e&&lo(e,r,we)}function co(e,r){return e&&Ba(e,r,we)}function qs(e,r){return at(r,function(t){return qr(e[t])})}function Ft(e,r){r=ht(r,e);for(var t=0,s=r.length;e!=null&&t<s;)e=e[Lr(r[t++])];return t&&t==s?e:l}function Fa(e,r,t){var s=r(e);return F(e)?s:lt(s,t(e))}function ke(e){return e==null?e===l?Ni:zt:Ut&&Ut in te(e)?Td(e):Hd(e)}function uo(e,r){return e>r}function Zu(e,r){return e!=null&&V.call(e,r)}function Ju(e,r){return e!=null&&r in te(e)}function Qu(e,r,t){return e>=De(r,t)&&e<me(r,t)}function fo(e,r,t){for(var s=t?Ki:Ss,i=e[0].length,a=e.length,u=a,d=m(a),p=1/0,x=[];u--;){var v=e[u];u&&r&&(v=ie(v,er(r))),p=De(v.length,p),d[u]=!t&&(r||i>=120&&v.length>=120)?new Mt(u&&v):l}v=e[0];var b=-1,_=d[0];e:for(;++b<i&&x.length<p;){var E=v[b],D=r?r(E):E;if(E=t||E!==0?E:0,!(_?On(_,D):s(x,D,t))){for(u=a;--u;){var G=d[u];if(!(G?On(G,D):s(e[u],D,t)))continue e}_&&_.push(D),x.push(E)}}return x}function Vu(e,r,t,s){return Or(e,function(i,a,u){r(s,t(i),a,u)}),s}function Wn(e,r,t){r=ht(r,e),e=El(e,r);var s=e==null?e:e[Lr(gr(r))];return s==null?l:Ve(s,e,t)}function Wa(e){return le(e)&&ke(e)==Qr}function ed(e){return le(e)&&ke(e)==Et}function rd(e){return le(e)&&ke(e)==Qe}function $n(e,r,t,s,i){return e===r?!0:e==null||r==null||!le(e)&&!le(r)?e!==e&&r!==r:td(e,r,t,s,$n,i)}function td(e,r,t,s,i,a){var u=F(e),d=F(r),p=u?Vr:Te(e),x=d?Vr:Te(r);p=p==Qr?wr:p,x=x==Qr?wr:x;var v=p==wr,b=x==wr,_=p==x;if(_&&mt(e)){if(!mt(r))return!1;u=!0,v=!1}if(_&&!v)return a||(a=new yr),u||pn(e)?wl(e,r,t,s,i,a):Rd(e,r,p,t,s,i,a);if(!(t&se)){var E=v&&V.call(e,"__wrapped__"),D=b&&V.call(r,"__wrapped__");if(E||D){var G=E?e.value():e,T=D?r.value():r;return a||(a=new yr),i(G,T,t,s,a)}}return _?(a||(a=new yr),Dd(e,r,t,s,i,a)):!1}function nd(e){return le(e)&&Te(e)==ye}function ho(e,r,t,s){var i=t.length,a=i,u=!s;if(e==null)return!a;for(e=te(e);i--;){var d=t[i];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++i<a;){d=t[i];var p=d[0],x=e[p],v=d[1];if(u&&d[2]){if(x===l&&!(p in e))return!1}else{var b=new yr;if(s)var _=s(x,v,p,e,r,b);if(!(_===l?$n(v,x,se|$,s,b):_))return!1}}return!0}function $a(e){if(!ae(e)||Bd(e))return!1;var r=qr(e)?nu:ls;return r.test($t(e))}function sd(e){return le(e)&&ke(e)==rt}function id(e){return le(e)&&Te(e)==Oe}function od(e){return le(e)&&li(e.length)&&!!w[ke(e)]}function Ga(e){return typeof e=="function"?e:e==null?Ke:typeof e=="object"?F(e)?za(e[0],e[1]):qa(e):dc(e)}function po(e){if(!qn(e))return cu(e);var r=[];for(var t in te(e))V.call(e,t)&&t!="constructor"&&r.push(t);return r}function ad(e){if(!ae(e))return Gd(e);var r=qn(e),t=[];for(var s in e)s=="constructor"&&(r||!V.call(e,s))||t.push(s);return t}function mo(e,r){return e<r}function Ha(e,r){var t=-1,s=qe(e)?m(e.length):[];return dt(e,function(i,a,u){s[++t]=r(i,a,u)}),s}function qa(e){var r=Do(e);return r.length==1&&r[0][2]?Cl(r[0][0],r[0][1]):function(t){return t===e||ho(t,e,r)}}function za(e,r){return Io(e)&&yl(r)?Cl(Lr(e),r):function(t){var s=$o(t,e);return s===l&&s===r?Go(t,e):$n(r,s,se|$)}}function zs(e,r,t,s,i){e!==r&&lo(r,function(a,u){if(i||(i=new yr),ae(a))ld(e,r,u,t,zs,s,i);else{var d=s?s(ko(e,u),a,u+"",e,r,i):l;d===l&&(d=a),oo(e,u,d)}},ze)}function ld(e,r,t,s,i,a,u){var d=ko(e,t),p=ko(r,t),x=u.get(p);if(x){oo(e,t,x);return}var v=a?a(d,p,t+"",e,r,u):l,b=v===l;if(b){var _=F(p),E=!_&&mt(p),D=!_&&!E&&pn(p);v=p,_||E||D?F(d)?v=d:ce(d)?v=He(d):E?(b=!1,v=sl(p,!0)):D?(b=!1,v=il(p,!0)):v=[]:Kn(p)||Gt(p)?(v=d,Gt(d)?v=rc(d):(!ae(d)||qr(d))&&(v=Nl(p))):b=!1}b&&(u.set(p,v),i(v,p,s,a,u),u.delete(p)),oo(e,t,v)}function Ka(e,r){var t=e.length;if(t)return r+=r<0?t:0,Hr(r,t)?e[r]:l}function Ya(e,r,t){r.length?r=ie(r,function(a){return F(a)?function(u){return Ft(u,a.length===1?a[0]:a)}:a}):r=[Ke];var s=-1;r=ie(r,er(R()));var i=Ha(e,function(a,u,d){var p=ie(r,function(x){return x(a)});return{criteria:p,index:++s,value:a}});return Lc(i,function(a,u){return _d(a,u,t)})}function cd(e,r){return Xa(e,r,function(t,s){return Go(e,s)})}function Xa(e,r,t){for(var s=-1,i=r.length,a={};++s<i;){var u=r[s],d=Ft(e,u);t(d,u)&&Gn(a,ht(u,e),d)}return a}function ud(e){return function(r){return Ft(r,e)}}function go(e,r,t,s){var i=s?kc:tn,a=-1,u=r.length,d=e;for(e===r&&(r=He(r)),t&&(d=ie(e,er(t)));++a<u;)for(var p=0,x=r[a],v=t?t(x):x;(p=i(d,v,p,s))>-1;)d!==e&&Us.call(d,p,1),Us.call(e,p,1);return e}function Za(e,r){for(var t=e?r.length:0,s=t-1;t--;){var i=r[t];if(t==s||i!==a){var a=i;Hr(i)?Us.call(e,i,1):wo(e,i)}}return e}function xo(e,r){return e+Bs(Da()*(r-e+1))}function dd(e,r,t,s){for(var i=-1,a=me(Ms((r-e)/(t||1)),0),u=m(a);a--;)u[s?a:++i]=e,e+=t;return u}function vo(e,r){var t="";if(!e||r<1||r>br)return t;do r%2&&(t+=e),r=Bs(r/2),r&&(e+=e);while(r);return t}function H(e,r){return Lo(Sl(e,r,Ke),e+"")}function fd(e){return Oa(mn(e))}function hd(e,r){var t=mn(e);return ti(t,Bt(r,0,t.length))}function Gn(e,r,t,s){if(!ae(e))return e;r=ht(r,e);for(var i=-1,a=r.length,u=a-1,d=e;d!=null&&++i<a;){var p=Lr(r[i]),x=t;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(i!=u){var v=d[p];x=s?s(v,p,d):l,x===l&&(x=ae(v)?v:Hr(r[i+1])?[]:{})}Bn(d,p,x),d=d[p]}return e}var Ja=Fs?function(e,r){return Fs.set(e,r),e}:Ke,pd=Ps?function(e,r){return Ps(e,"toString",{configurable:!0,enumerable:!1,value:qo(r),writable:!0})}:Ke;function md(e){return ti(mn(e))}function mr(e,r,t){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),t=t>i?i:t,t<0&&(t+=i),i=r>t?0:t-r>>>0,r>>>=0;for(var a=m(i);++s<i;)a[s]=e[s+r];return a}function gd(e,r){var t;return dt(e,function(s,i,a){return t=r(s,i,a),!t}),!!t}function Ks(e,r,t){var s=0,i=e==null?s:e.length;if(typeof r=="number"&&r===r&&i<=qt){for(;s<i;){var a=s+i>>>1,u=e[a];u!==null&&!tr(u)&&(t?u<=r:u<r)?s=a+1:i=a}return i}return bo(e,r,Ke,t)}function bo(e,r,t,s){var i=0,a=e==null?0:e.length;if(a===0)return 0;r=t(r);for(var u=r!==r,d=r===null,p=tr(r),x=r===l;i<a;){var v=Bs((i+a)/2),b=t(e[v]),_=b!==l,E=b===null,D=b===b,G=tr(b);if(u)var T=s||D;else x?T=D&&(s||_):d?T=D&&_&&(s||!E):p?T=D&&_&&!E&&(s||!G):E||G?T=!1:T=s?b<=r:b<r;T?i=v+1:a=v}return De(a,_t)}function Qa(e,r){for(var t=-1,s=e.length,i=0,a=[];++t<s;){var u=e[t],d=r?r(u):u;if(!t||!Cr(d,p)){var p=d;a[i++]=u===0?0:u}}return a}function Va(e){return typeof e=="number"?e:tr(e)?Rr:+e}function rr(e){if(typeof e=="string")return e;if(F(e))return ie(e,rr)+"";if(tr(e))return Ta?Ta.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function ft(e,r,t){var s=-1,i=Ss,a=e.length,u=!0,d=[],p=d;if(t)u=!1,i=Ki;else if(a>=ve){var x=r?null:Ed(e);if(x)return As(x);u=!1,i=On,p=new Mt}else p=r?[]:d;e:for(;++s<a;){var v=e[s],b=r?r(v):v;if(v=t||v!==0?v:0,u&&b===b){for(var _=p.length;_--;)if(p[_]===b)continue e;r&&p.push(b),d.push(v)}else i(p,b,t)||(p!==d&&p.push(b),d.push(v))}return d}function wo(e,r){return r=ht(r,e),e=El(e,r),e==null||delete e[Lr(gr(r))]}function el(e,r,t,s){return Gn(e,r,t(Ft(e,r)),s)}function Ys(e,r,t,s){for(var i=e.length,a=s?i:-1;(s?a--:++a<i)&&r(e[a],a,e););return t?mr(e,s?0:a,s?a+1:i):mr(e,s?a+1:0,s?i:a)}function rl(e,r){var t=e;return t instanceof K&&(t=t.value()),Yi(r,function(s,i){return i.func.apply(i.thisArg,lt([s],i.args))},t)}function _o(e,r,t){var s=e.length;if(s<2)return s?ft(e[0]):[];for(var i=-1,a=m(s);++i<s;)for(var u=e[i],d=-1;++d<s;)d!=i&&(a[i]=Fn(a[i]||u,e[d],r,t));return ft(Se(a,1),r,t)}function tl(e,r,t){for(var s=-1,i=e.length,a=r.length,u={};++s<i;){var d=s<a?r[s]:l;t(u,e[s],d)}return u}function jo(e){return ce(e)?e:[]}function No(e){return typeof e=="function"?e:Ke}function ht(e,r){return F(e)?e:Io(e,r)?[e]:Tl(Q(e))}var xd=H;function pt(e,r,t){var s=e.length;return t=t===l?s:t,!r&&t>=s?e:mr(e,r,t)}var nl=su||function(e){return he.clearTimeout(e)};function sl(e,r){if(r)return e.slice();var t=e.length,s=Ca?Ca(t):new e.constructor(t);return e.copy(s),s}function yo(e){var r=new e.constructor(e.byteLength);return new ks(r).set(new ks(e)),r}function vd(e,r){var t=r?yo(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function bd(e){var r=new e.constructor(e.source,as.exec(e));return r.lastIndex=e.lastIndex,r}function wd(e){return Mn?te(Mn.call(e)):{}}function il(e,r){var t=r?yo(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function ol(e,r){if(e!==r){var t=e!==l,s=e===null,i=e===e,a=tr(e),u=r!==l,d=r===null,p=r===r,x=tr(r);if(!d&&!x&&!a&&e>r||a&&u&&p&&!d&&!x||s&&u&&p||!t&&p||!i)return 1;if(!s&&!a&&!x&&e<r||x&&t&&i&&!s&&!a||d&&t&&i||!u&&i||!p)return-1}return 0}function _d(e,r,t){for(var s=-1,i=e.criteria,a=r.criteria,u=i.length,d=t.length;++s<u;){var p=ol(i[s],a[s]);if(p){if(s>=d)return p;var x=t[s];return p*(x=="desc"?-1:1)}}return e.index-r.index}function al(e,r,t,s){for(var i=-1,a=e.length,u=t.length,d=-1,p=r.length,x=me(a-u,0),v=m(p+x),b=!s;++d<p;)v[d]=r[d];for(;++i<u;)(b||i<a)&&(v[t[i]]=e[i]);for(;x--;)v[d++]=e[i++];return v}function ll(e,r,t,s){for(var i=-1,a=e.length,u=-1,d=t.length,p=-1,x=r.length,v=me(a-d,0),b=m(v+x),_=!s;++i<v;)b[i]=e[i];for(var E=i;++p<x;)b[E+p]=r[p];for(;++u<d;)(_||i<a)&&(b[E+t[u]]=e[i++]);return b}function He(e,r){var t=-1,s=e.length;for(r||(r=m(s));++t<s;)r[t]=e[t];return r}function kr(e,r,t,s){var i=!t;t||(t={});for(var a=-1,u=r.length;++a<u;){var d=r[a],p=s?s(t[d],e[d],d,t,e):l;p===l&&(p=e[d]),i?Wr(t,d,p):Bn(t,d,p)}return t}function jd(e,r){return kr(e,To(e),r)}function Nd(e,r){return kr(e,_l(e),r)}function Xs(e,r){return function(t,s){var i=F(t)?Ac:qu,a=r?r():{};return i(t,e,R(s,2),a)}}function dn(e){return H(function(r,t){var s=-1,i=t.length,a=i>1?t[i-1]:l,u=i>2?t[2]:l;for(a=e.length>3&&typeof a=="function"?(i--,a):l,u&&Le(t[0],t[1],u)&&(a=i<3?l:a,i=1),r=te(r);++s<i;){var d=t[s];d&&e(r,d,s,a)}return r})}function cl(e,r){return function(t,s){if(t==null)return t;if(!qe(t))return e(t,s);for(var i=t.length,a=r?i:-1,u=te(t);(r?a--:++a<i)&&s(u[a],a,u)!==!1;);return t}}function ul(e){return function(r,t,s){for(var i=-1,a=te(r),u=s(r),d=u.length;d--;){var p=u[e?d:++i];if(t(a[p],p,a)===!1)break}return r}}function yd(e,r,t){var s=r&J,i=Hn(e);function a(){var u=this&&this!==he&&this instanceof a?i:e;return u.apply(s?t:this,arguments)}return a}function dl(e){return function(r){r=Q(r);var t=nn(r)?Nr(r):l,s=t?t[0]:r.charAt(0),i=t?pt(t,1).join(""):r.slice(1);return s[e]()+i}}function fn(e){return function(r){return Yi(cc(lc(r).replace(_s,"")),e,"")}}function Hn(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=un(e.prototype),s=e.apply(t,r);return ae(s)?s:t}}function Cd(e,r,t){var s=Hn(e);function i(){for(var a=arguments.length,u=m(a),d=a,p=hn(i);d--;)u[d]=arguments[d];var x=a<3&&u[0]!==p&&u[a-1]!==p?[]:ct(u,p);if(a-=x.length,a<t)return gl(e,r,Zs,i.placeholder,l,u,x,l,l,t-a);var v=this&&this!==he&&this instanceof i?s:e;return Ve(v,this,u)}return i}function fl(e){return function(r,t,s){var i=te(r);if(!qe(r)){var a=R(t,3);r=we(r),t=function(d){return a(i[d],d,i)}}var u=e(r,t,s);return u>-1?i[a?r[u]:u]:l}}function hl(e){return Gr(function(r){var t=r.length,s=t,i=hr.prototype.thru;for(e&&r.reverse();s--;){var a=r[s];if(typeof a!="function")throw new fr(X);if(i&&!u&&ei(a)=="wrapper")var u=new hr([],!0)}for(s=u?s:t;++s<t;){a=r[s];var d=ei(a),p=d=="wrapper"?Ro(a):l;p&&Oo(p[0])&&p[1]==(ee|re|We|$e)&&!p[4].length&&p[9]==1?u=u[ei(p[0])].apply(u,p[3]):u=a.length==1&&Oo(a)?u[d]():u.thru(a)}return function(){var x=arguments,v=x[0];if(u&&x.length==1&&F(v))return u.plant(v).value();for(var b=0,_=t?r[b].apply(this,x):v;++b<t;)_=r[b].call(this,_);return _}})}function Zs(e,r,t,s,i,a,u,d,p,x){var v=r&ee,b=r&J,_=r&O,E=r&(re|Ee),D=r&Xr,G=_?l:Hn(e);function T(){for(var z=arguments.length,Y=m(z),nr=z;nr--;)Y[nr]=arguments[nr];if(E)var Ue=hn(T),sr=Pc(Y,Ue);if(s&&(Y=al(Y,s,i,E)),a&&(Y=ll(Y,a,u,E)),z-=sr,E&&z<x){var ue=ct(Y,Ue);return gl(e,r,Zs,T.placeholder,t,Y,ue,d,p,x-z)}var Sr=b?t:this,Kr=_?Sr[e]:e;return z=Y.length,d?Y=qd(Y,d):D&&z>1&&Y.reverse(),v&&p<z&&(Y.length=p),this&&this!==he&&this instanceof T&&(Kr=G||Hn(Kr)),Kr.apply(Sr,Y)}return T}function pl(e,r){return function(t,s){return Vu(t,e,r(s),{})}}function Js(e,r){return function(t,s){var i;if(t===l&&s===l)return r;if(t!==l&&(i=t),s!==l){if(i===l)return s;typeof t=="string"||typeof s=="string"?(t=rr(t),s=rr(s)):(t=Va(t),s=Va(s)),i=e(t,s)}return i}}function Co(e){return Gr(function(r){return r=ie(r,er(R())),H(function(t){var s=this;return e(r,function(i){return Ve(i,s,t)})})})}function Qs(e,r){r=r===l?" ":rr(r);var t=r.length;if(t<2)return t?vo(r,e):r;var s=vo(r,Ms(e/sn(r)));return nn(r)?pt(Nr(s),0,e).join(""):s.slice(0,e)}function Sd(e,r,t,s){var i=r&J,a=Hn(e);function u(){for(var d=-1,p=arguments.length,x=-1,v=s.length,b=m(v+p),_=this&&this!==he&&this instanceof u?a:e;++x<v;)b[x]=s[x];for(;p--;)b[x++]=arguments[++d];return Ve(_,i?t:this,b)}return u}function ml(e){return function(r,t,s){return s&&typeof s!="number"&&Le(r,t,s)&&(t=s=l),r=zr(r),t===l?(t=r,r=0):t=zr(t),s=s===l?r<t?1:-1:zr(s),dd(r,t,s,e)}}function Vs(e){return function(r,t){return typeof r=="string"&&typeof t=="string"||(r=xr(r),t=xr(t)),e(r,t)}}function gl(e,r,t,s,i,a,u,d,p,x){var v=r&re,b=v?u:l,_=v?l:u,E=v?a:l,D=v?l:a;r|=v?We:Je,r&=~(v?Je:We),r&or||(r&=-4);var G=[e,r,i,E,b,D,_,d,p,x],T=t.apply(l,G);return Oo(e)&&Al(T,G),T.placeholder=s,Rl(T,e,r)}function So(e){var r=pe[e];return function(t,s){if(t=xr(t),s=s==null?0:De(W(s),292),s&&Ra(t)){var i=(Q(t)+"e").split("e"),a=r(i[0]+"e"+(+i[1]+s));return i=(Q(a)+"e").split("e"),+(i[0]+"e"+(+i[1]-s))}return r(t)}}var Ed=ln&&1/As(new ln([,-0]))[1]==Ne?function(e){return new ln(e)}:Yo;function xl(e){return function(r){var t=Te(r);return t==ye?ro(r):t==Oe?Hc(r):Uc(r,e(r))}}function $r(e,r,t,s,i,a,u,d){var p=r&O;if(!p&&typeof e!="function")throw new fr(X);var x=s?s.length:0;if(x||(r&=-97,s=i=l),u=u===l?u:me(W(u),0),d=d===l?d:W(d),x-=i?i.length:0,r&Je){var v=s,b=i;s=i=l}var _=p?l:Ro(e),E=[e,r,t,s,i,v,b,a,u,d];if(_&&$d(E,_),e=E[0],r=E[1],t=E[2],s=E[3],i=E[4],d=E[9]=E[9]===l?p?0:e.length:me(E[9]-x,0),!d&&r&(re|Ee)&&(r&=-25),!r||r==J)var D=yd(e,r,t);else r==re||r==Ee?D=Cd(e,r,d):(r==We||r==(J|We))&&!i.length?D=Sd(e,r,t,s):D=Zs.apply(l,E);var G=_?Ja:Al;return Rl(G(D,E),e,r)}function vl(e,r,t,s){return e===l||Cr(e,an[t])&&!V.call(s,t)?r:e}function bl(e,r,t,s,i,a){return ae(e)&&ae(r)&&(a.set(r,e),zs(e,r,l,bl,a),a.delete(r)),e}function Ad(e){return Kn(e)?l:e}function wl(e,r,t,s,i,a){var u=t&se,d=e.length,p=r.length;if(d!=p&&!(u&&p>d))return!1;var x=a.get(e),v=a.get(r);if(x&&v)return x==r&&v==e;var b=-1,_=!0,E=t&$?new Mt:l;for(a.set(e,r),a.set(r,e);++b<d;){var D=e[b],G=r[b];if(s)var T=u?s(G,D,b,r,e,a):s(D,G,b,e,r,a);if(T!==l){if(T)continue;_=!1;break}if(E){if(!Xi(r,function(z,Y){if(!On(E,Y)&&(D===z||i(D,z,t,s,a)))return E.push(Y)})){_=!1;break}}else if(!(D===G||i(D,G,t,s,a))){_=!1;break}}return a.delete(e),a.delete(r),_}function Rd(e,r,t,s,i,a,u){switch(t){case Tr:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Et:return!(e.byteLength!=r.byteLength||!a(new ks(e),new ks(r)));case Dr:case Qe:case Nt:return Cr(+e,+r);case et:return e.name==r.name&&e.message==r.message;case rt:case tt:return e==r+"";case ye:var d=ro;case Oe:var p=s&se;if(d||(d=As),e.size!=r.size&&!p)return!1;var x=u.get(e);if(x)return x==r;s|=$,u.set(e,r);var v=wl(d(e),d(r),s,i,a,u);return u.delete(e),v;case Ct:if(Mn)return Mn.call(e)==Mn.call(r)}return!1}function Dd(e,r,t,s,i,a){var u=t&se,d=Eo(e),p=d.length,x=Eo(r),v=x.length;if(p!=v&&!u)return!1;for(var b=p;b--;){var _=d[b];if(!(u?_ in r:V.call(r,_)))return!1}var E=a.get(e),D=a.get(r);if(E&&D)return E==r&&D==e;var G=!0;a.set(e,r),a.set(r,e);for(var T=u;++b<p;){_=d[b];var z=e[_],Y=r[_];if(s)var nr=u?s(Y,z,_,r,e,a):s(z,Y,_,e,r,a);if(!(nr===l?z===Y||i(z,Y,t,s,a):nr)){G=!1;break}T||(T=_=="constructor")}if(G&&!T){var Ue=e.constructor,sr=r.constructor;Ue!=sr&&"constructor"in e&&"constructor"in r&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof sr=="function"&&sr instanceof sr)&&(G=!1)}return a.delete(e),a.delete(r),G}function Gr(e){return Lo(Sl(e,l,Ll),e+"")}function Eo(e){return Fa(e,we,To)}function Ao(e){return Fa(e,ze,_l)}var Ro=Fs?function(e){return Fs.get(e)}:Yo;function ei(e){for(var r=e.name+"",t=cn[r],s=V.call(cn,r)?t.length:0;s--;){var i=t[s],a=i.func;if(a==null||a==e)return i.name}return r}function hn(e){var r=V.call(o,"placeholder")?o:e;return r.placeholder}function R(){var e=o.iteratee||zo;return e=e===zo?Ga:e,arguments.length?e(arguments[0],arguments[1]):e}function ri(e,r){var t=e.__data__;return Md(r)?t[typeof r=="string"?"string":"hash"]:t.map}function Do(e){for(var r=we(e),t=r.length;t--;){var s=r[t],i=e[s];r[t]=[s,i,yl(i)]}return r}function Wt(e,r){var t=Wc(e,r);return $a(t)?t:l}function Td(e){var r=V.call(e,Ut),t=e[Ut];try{e[Ut]=l;var s=!0}catch{}var i=Is.call(e);return s&&(r?e[Ut]=t:delete e[Ut]),i}var To=no?function(e){return e==null?[]:(e=te(e),at(no(e),function(r){return Ea.call(e,r)}))}:Xo,_l=no?function(e){for(var r=[];e;)lt(r,To(e)),e=Ls(e);return r}:Xo,Te=ke;(so&&Te(new so(new ArrayBuffer(1)))!=Tr||Ln&&Te(new Ln)!=ye||io&&Te(io.resolve())!=yt||ln&&Te(new ln)!=Oe||Un&&Te(new Un)!=St)&&(Te=function(e){var r=ke(e),t=r==wr?e.constructor:l,s=t?$t(t):"";if(s)switch(s){case hu:return Tr;case pu:return ye;case mu:return yt;case gu:return Oe;case xu:return St}return r});function Id(e,r,t){for(var s=-1,i=t.length;++s<i;){var a=t[s],u=a.size;switch(a.type){case"drop":e+=u;break;case"dropRight":r-=u;break;case"take":r=De(r,e+u);break;case"takeRight":e=me(e,r-u);break}}return{start:e,end:r}}function Od(e){var r=e.match(Di);return r?r[1].split(Ti):[]}function jl(e,r,t){r=ht(r,e);for(var s=-1,i=r.length,a=!1;++s<i;){var u=Lr(r[s]);if(!(a=e!=null&&t(e,u)))break;e=e[u]}return a||++s!=i?a:(i=e==null?0:e.length,!!i&&li(i)&&Hr(u,i)&&(F(e)||Gt(e)))}function kd(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&V.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function Nl(e){return typeof e.constructor=="function"&&!qn(e)?un(Ls(e)):{}}function Ld(e,r,t){var s=e.constructor;switch(r){case Et:return yo(e);case Dr:case Qe:return new s(+e);case Tr:return vd(e,t);case ar:case Yt:case At:case vn:case lr:case Ir:case S:case bn:case _r:return il(e,t);case ye:return new s;case Nt:case tt:return new s(e);case rt:return bd(e);case Oe:return new s;case Ct:return wd(e)}}function Ud(e,r){var t=r.length;if(!t)return e;var s=t-1;return r[s]=(t>1?"& ":"")+r[s],r=r.join(t>2?", ":" "),e.replace(Ri,`{
/* [wrapped with `+r+`] */
`)}function Pd(e){return F(e)||Gt(e)||!!(Aa&&e&&e[Aa])}function Hr(e,r){var t=typeof e;return r=r??br,!!r&&(t=="number"||t!="symbol"&&Ui.test(e))&&e>-1&&e%1==0&&e<r}function Le(e,r,t){if(!ae(t))return!1;var s=typeof r;return(s=="number"?qe(t)&&Hr(r,t.length):s=="string"&&r in t)?Cr(t[r],e):!1}function Io(e,r){if(F(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||tr(e)?!0:Ci.test(e)||!ss.test(e)||r!=null&&e in te(r)}function Md(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Oo(e){var r=ei(e),t=o[r];if(typeof t!="function"||!(r in K.prototype))return!1;if(e===t)return!0;var s=Ro(t);return!!s&&e===s[0]}function Bd(e){return!!ya&&ya in e}var Fd=Ds?qr:Zo;function qn(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||an;return e===t}function yl(e){return e===e&&!ae(e)}function Cl(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==l||e in te(t))}}function Wd(e){var r=oi(e,function(s){return t.size===ne&&t.clear(),s}),t=r.cache;return r}function $d(e,r){var t=e[1],s=r[1],i=t|s,a=i<(J|O|ee),u=s==ee&&t==re||s==ee&&t==$e&&e[7].length<=r[8]||s==(ee|$e)&&r[7].length<=r[8]&&t==re;if(!(a||u))return e;s&J&&(e[2]=r[2],i|=t&J?0:or);var d=r[3];if(d){var p=e[3];e[3]=p?al(p,d,r[4]):d,e[4]=p?ct(e[3],Ar):r[4]}return d=r[5],d&&(p=e[5],e[5]=p?ll(p,d,r[6]):d,e[6]=p?ct(e[5],Ar):r[6]),d=r[7],d&&(e[7]=d),s&ee&&(e[8]=e[8]==null?r[8]:De(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=i,e}function Gd(e){var r=[];if(e!=null)for(var t in te(e))r.push(t);return r}function Hd(e){return Is.call(e)}function Sl(e,r,t){return r=me(r===l?e.length-1:r,0),function(){for(var s=arguments,i=-1,a=me(s.length-r,0),u=m(a);++i<a;)u[i]=s[r+i];i=-1;for(var d=m(r+1);++i<r;)d[i]=s[i];return d[r]=t(u),Ve(e,this,d)}}function El(e,r){return r.length<2?e:Ft(e,mr(r,0,-1))}function qd(e,r){for(var t=e.length,s=De(r.length,t),i=He(e);s--;){var a=r[s];e[s]=Hr(a,t)?i[a]:l}return e}function ko(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var Al=Dl(Ja),zn=ou||function(e,r){return he.setTimeout(e,r)},Lo=Dl(pd);function Rl(e,r,t){var s=r+"";return Lo(e,Ud(s,zd(Od(s),t)))}function Dl(e){var r=0,t=0;return function(){var s=uu(),i=fe-(s-t);if(t=s,i>0){if(++r>=bt)return arguments[0]}else r=0;return e.apply(l,arguments)}}function ti(e,r){var t=-1,s=e.length,i=s-1;for(r=r===l?s:r;++t<r;){var a=xo(t,i),u=e[a];e[a]=e[t],e[t]=u}return e.length=r,e}var Tl=Wd(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Si,function(t,s,i,a){r.push(i?a.replace(os,"$1"):s||t)}),r});function Lr(e){if(typeof e=="string"||tr(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function $t(e){if(e!=null){try{return Ts.call(e)}catch{}try{return e+""}catch{}}return""}function zd(e,r){return dr(Vn,function(t){var s="_."+t[0];r&t[1]&&!Ss(e,s)&&e.push(s)}),e.sort()}function Il(e){if(e instanceof K)return e.clone();var r=new hr(e.__wrapped__,e.__chain__);return r.__actions__=He(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function Kd(e,r,t){(t?Le(e,r,t):r===l)?r=1:r=me(W(r),0);var s=e==null?0:e.length;if(!s||r<1)return[];for(var i=0,a=0,u=m(Ms(s/r));i<s;)u[a++]=mr(e,i,i+=r);return u}function Yd(e){for(var r=-1,t=e==null?0:e.length,s=0,i=[];++r<t;){var a=e[r];a&&(i[s++]=a)}return i}function Xd(){var e=arguments.length;if(!e)return[];for(var r=m(e-1),t=arguments[0],s=e;s--;)r[s-1]=arguments[s];return lt(F(t)?He(t):[t],Se(r,1))}var Zd=H(function(e,r){return ce(e)?Fn(e,Se(r,1,ce,!0)):[]}),Jd=H(function(e,r){var t=gr(r);return ce(t)&&(t=l),ce(e)?Fn(e,Se(r,1,ce,!0),R(t,2)):[]}),Qd=H(function(e,r){var t=gr(r);return ce(t)&&(t=l),ce(e)?Fn(e,Se(r,1,ce,!0),l,t):[]});function Vd(e,r,t){var s=e==null?0:e.length;return s?(r=t||r===l?1:W(r),mr(e,r<0?0:r,s)):[]}function ef(e,r,t){var s=e==null?0:e.length;return s?(r=t||r===l?1:W(r),r=s-r,mr(e,0,r<0?0:r)):[]}function rf(e,r){return e&&e.length?Ys(e,R(r,3),!0,!0):[]}function tf(e,r){return e&&e.length?Ys(e,R(r,3),!0):[]}function nf(e,r,t,s){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&Le(e,r,t)&&(t=0,s=i),Xu(e,r,t,s)):[]}function Ol(e,r,t){var s=e==null?0:e.length;if(!s)return-1;var i=t==null?0:W(t);return i<0&&(i=me(s+i,0)),Es(e,R(r,3),i)}function kl(e,r,t){var s=e==null?0:e.length;if(!s)return-1;var i=s-1;return t!==l&&(i=W(t),i=t<0?me(s+i,0):De(i,s-1)),Es(e,R(r,3),i,!0)}function Ll(e){var r=e==null?0:e.length;return r?Se(e,1):[]}function sf(e){var r=e==null?0:e.length;return r?Se(e,Ne):[]}function of(e,r){var t=e==null?0:e.length;return t?(r=r===l?1:W(r),Se(e,r)):[]}function af(e){for(var r=-1,t=e==null?0:e.length,s={};++r<t;){var i=e[r];s[i[0]]=i[1]}return s}function Ul(e){return e&&e.length?e[0]:l}function lf(e,r,t){var s=e==null?0:e.length;if(!s)return-1;var i=t==null?0:W(t);return i<0&&(i=me(s+i,0)),tn(e,r,i)}function cf(e){var r=e==null?0:e.length;return r?mr(e,0,-1):[]}var uf=H(function(e){var r=ie(e,jo);return r.length&&r[0]===e[0]?fo(r):[]}),df=H(function(e){var r=gr(e),t=ie(e,jo);return r===gr(t)?r=l:t.pop(),t.length&&t[0]===e[0]?fo(t,R(r,2)):[]}),ff=H(function(e){var r=gr(e),t=ie(e,jo);return r=typeof r=="function"?r:l,r&&t.pop(),t.length&&t[0]===e[0]?fo(t,l,r):[]});function hf(e,r){return e==null?"":lu.call(e,r)}function gr(e){var r=e==null?0:e.length;return r?e[r-1]:l}function pf(e,r,t){var s=e==null?0:e.length;if(!s)return-1;var i=s;return t!==l&&(i=W(t),i=i<0?me(s+i,0):De(i,s-1)),r===r?zc(e,r,i):Es(e,ga,i,!0)}function mf(e,r){return e&&e.length?Ka(e,W(r)):l}var gf=H(Pl);function Pl(e,r){return e&&e.length&&r&&r.length?go(e,r):e}function xf(e,r,t){return e&&e.length&&r&&r.length?go(e,r,R(t,2)):e}function vf(e,r,t){return e&&e.length&&r&&r.length?go(e,r,l,t):e}var bf=Gr(function(e,r){var t=e==null?0:e.length,s=ao(e,r);return Za(e,ie(r,function(i){return Hr(i,t)?+i:i}).sort(ol)),s});function wf(e,r){var t=[];if(!(e&&e.length))return t;var s=-1,i=[],a=e.length;for(r=R(r,3);++s<a;){var u=e[s];r(u,s,e)&&(t.push(u),i.push(s))}return Za(e,i),t}function Uo(e){return e==null?e:fu.call(e)}function _f(e,r,t){var s=e==null?0:e.length;return s?(t&&typeof t!="number"&&Le(e,r,t)?(r=0,t=s):(r=r==null?0:W(r),t=t===l?s:W(t)),mr(e,r,t)):[]}function jf(e,r){return Ks(e,r)}function Nf(e,r,t){return bo(e,r,R(t,2))}function yf(e,r){var t=e==null?0:e.length;if(t){var s=Ks(e,r);if(s<t&&Cr(e[s],r))return s}return-1}function Cf(e,r){return Ks(e,r,!0)}function Sf(e,r,t){return bo(e,r,R(t,2),!0)}function Ef(e,r){var t=e==null?0:e.length;if(t){var s=Ks(e,r,!0)-1;if(Cr(e[s],r))return s}return-1}function Af(e){return e&&e.length?Qa(e):[]}function Rf(e,r){return e&&e.length?Qa(e,R(r,2)):[]}function Df(e){var r=e==null?0:e.length;return r?mr(e,1,r):[]}function Tf(e,r,t){return e&&e.length?(r=t||r===l?1:W(r),mr(e,0,r<0?0:r)):[]}function If(e,r,t){var s=e==null?0:e.length;return s?(r=t||r===l?1:W(r),r=s-r,mr(e,r<0?0:r,s)):[]}function Of(e,r){return e&&e.length?Ys(e,R(r,3),!1,!0):[]}function kf(e,r){return e&&e.length?Ys(e,R(r,3)):[]}var Lf=H(function(e){return ft(Se(e,1,ce,!0))}),Uf=H(function(e){var r=gr(e);return ce(r)&&(r=l),ft(Se(e,1,ce,!0),R(r,2))}),Pf=H(function(e){var r=gr(e);return r=typeof r=="function"?r:l,ft(Se(e,1,ce,!0),l,r)});function Mf(e){return e&&e.length?ft(e):[]}function Bf(e,r){return e&&e.length?ft(e,R(r,2)):[]}function Ff(e,r){return r=typeof r=="function"?r:l,e&&e.length?ft(e,l,r):[]}function Po(e){if(!(e&&e.length))return[];var r=0;return e=at(e,function(t){if(ce(t))return r=me(t.length,r),!0}),Vi(r,function(t){return ie(e,Zi(t))})}function Ml(e,r){if(!(e&&e.length))return[];var t=Po(e);return r==null?t:ie(t,function(s){return Ve(r,l,s)})}var Wf=H(function(e,r){return ce(e)?Fn(e,r):[]}),$f=H(function(e){return _o(at(e,ce))}),Gf=H(function(e){var r=gr(e);return ce(r)&&(r=l),_o(at(e,ce),R(r,2))}),Hf=H(function(e){var r=gr(e);return r=typeof r=="function"?r:l,_o(at(e,ce),l,r)}),qf=H(Po);function zf(e,r){return tl(e||[],r||[],Bn)}function Kf(e,r){return tl(e||[],r||[],Gn)}var Yf=H(function(e){var r=e.length,t=r>1?e[r-1]:l;return t=typeof t=="function"?(e.pop(),t):l,Ml(e,t)});function Bl(e){var r=o(e);return r.__chain__=!0,r}function Xf(e,r){return r(e),e}function ni(e,r){return r(e)}var Zf=Gr(function(e){var r=e.length,t=r?e[0]:0,s=this.__wrapped__,i=function(a){return ao(a,e)};return r>1||this.__actions__.length||!(s instanceof K)||!Hr(t)?this.thru(i):(s=s.slice(t,+t+(r?1:0)),s.__actions__.push({func:ni,args:[i],thisArg:l}),new hr(s,this.__chain__).thru(function(a){return r&&!a.length&&a.push(l),a}))});function Jf(){return Bl(this)}function Qf(){return new hr(this.value(),this.__chain__)}function Vf(){this.__values__===l&&(this.__values__=Vl(this.value()));var e=this.__index__>=this.__values__.length,r=e?l:this.__values__[this.__index__++];return{done:e,value:r}}function eh(){return this}function rh(e){for(var r,t=this;t instanceof $s;){var s=Il(t);s.__index__=0,s.__values__=l,r?i.__wrapped__=s:r=s;var i=s;t=t.__wrapped__}return i.__wrapped__=e,r}function th(){var e=this.__wrapped__;if(e instanceof K){var r=e;return this.__actions__.length&&(r=new K(this)),r=r.reverse(),r.__actions__.push({func:ni,args:[Uo],thisArg:l}),new hr(r,this.__chain__)}return this.thru(Uo)}function nh(){return rl(this.__wrapped__,this.__actions__)}var sh=Xs(function(e,r,t){V.call(e,t)?++e[t]:Wr(e,t,1)});function ih(e,r,t){var s=F(e)?pa:Yu;return t&&Le(e,r,t)&&(r=l),s(e,R(r,3))}function oh(e,r){var t=F(e)?at:Ma;return t(e,R(r,3))}var ah=fl(Ol),lh=fl(kl);function ch(e,r){return Se(si(e,r),1)}function uh(e,r){return Se(si(e,r),Ne)}function dh(e,r,t){return t=t===l?1:W(t),Se(si(e,r),t)}function Fl(e,r){var t=F(e)?dr:dt;return t(e,R(r,3))}function Wl(e,r){var t=F(e)?Rc:Pa;return t(e,R(r,3))}var fh=Xs(function(e,r,t){V.call(e,t)?e[t].push(r):Wr(e,t,[r])});function hh(e,r,t,s){e=qe(e)?e:mn(e),t=t&&!s?W(t):0;var i=e.length;return t<0&&(t=me(i+t,0)),ci(e)?t<=i&&e.indexOf(r,t)>-1:!!i&&tn(e,r,t)>-1}var ph=H(function(e,r,t){var s=-1,i=typeof r=="function",a=qe(e)?m(e.length):[];return dt(e,function(u){a[++s]=i?Ve(r,u,t):Wn(u,r,t)}),a}),mh=Xs(function(e,r,t){Wr(e,t,r)});function si(e,r){var t=F(e)?ie:Ha;return t(e,R(r,3))}function gh(e,r,t,s){return e==null?[]:(F(r)||(r=r==null?[]:[r]),t=s?l:t,F(t)||(t=t==null?[]:[t]),Ya(e,r,t))}var xh=Xs(function(e,r,t){e[t?0:1].push(r)},function(){return[[],[]]});function vh(e,r,t){var s=F(e)?Yi:va,i=arguments.length<3;return s(e,R(r,4),t,i,dt)}function bh(e,r,t){var s=F(e)?Dc:va,i=arguments.length<3;return s(e,R(r,4),t,i,Pa)}function wh(e,r){var t=F(e)?at:Ma;return t(e,ai(R(r,3)))}function _h(e){var r=F(e)?Oa:fd;return r(e)}function jh(e,r,t){(t?Le(e,r,t):r===l)?r=1:r=W(r);var s=F(e)?Gu:hd;return s(e,r)}function Nh(e){var r=F(e)?Hu:md;return r(e)}function yh(e){if(e==null)return 0;if(qe(e))return ci(e)?sn(e):e.length;var r=Te(e);return r==ye||r==Oe?e.size:po(e).length}function Ch(e,r,t){var s=F(e)?Xi:gd;return t&&Le(e,r,t)&&(r=l),s(e,R(r,3))}var Sh=H(function(e,r){if(e==null)return[];var t=r.length;return t>1&&Le(e,r[0],r[1])?r=[]:t>2&&Le(r[0],r[1],r[2])&&(r=[r[0]]),Ya(e,Se(r,1),[])}),ii=iu||function(){return he.Date.now()};function Eh(e,r){if(typeof r!="function")throw new fr(X);return e=W(e),function(){if(--e<1)return r.apply(this,arguments)}}function $l(e,r,t){return r=t?l:r,r=e&&r==null?e.length:r,$r(e,ee,l,l,l,l,r)}function Gl(e,r){var t;if(typeof r!="function")throw new fr(X);return e=W(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=l),t}}var Mo=H(function(e,r,t){var s=J;if(t.length){var i=ct(t,hn(Mo));s|=We}return $r(e,s,r,t,i)}),Hl=H(function(e,r,t){var s=J|O;if(t.length){var i=ct(t,hn(Hl));s|=We}return $r(r,s,e,t,i)});function ql(e,r,t){r=t?l:r;var s=$r(e,re,l,l,l,l,l,r);return s.placeholder=ql.placeholder,s}function zl(e,r,t){r=t?l:r;var s=$r(e,Ee,l,l,l,l,l,r);return s.placeholder=zl.placeholder,s}function Kl(e,r,t){var s,i,a,u,d,p,x=0,v=!1,b=!1,_=!0;if(typeof e!="function")throw new fr(X);r=xr(r)||0,ae(t)&&(v=!!t.leading,b="maxWait"in t,a=b?me(xr(t.maxWait)||0,r):a,_="trailing"in t?!!t.trailing:_);function E(ue){var Sr=s,Kr=i;return s=i=l,x=ue,u=e.apply(Kr,Sr),u}function D(ue){return x=ue,d=zn(z,r),v?E(ue):u}function G(ue){var Sr=ue-p,Kr=ue-x,fc=r-Sr;return b?De(fc,a-Kr):fc}function T(ue){var Sr=ue-p,Kr=ue-x;return p===l||Sr>=r||Sr<0||b&&Kr>=a}function z(){var ue=ii();if(T(ue))return Y(ue);d=zn(z,G(ue))}function Y(ue){return d=l,_&&s?E(ue):(s=i=l,u)}function nr(){d!==l&&nl(d),x=0,s=p=i=d=l}function Ue(){return d===l?u:Y(ii())}function sr(){var ue=ii(),Sr=T(ue);if(s=arguments,i=this,p=ue,Sr){if(d===l)return D(p);if(b)return nl(d),d=zn(z,r),E(p)}return d===l&&(d=zn(z,r)),u}return sr.cancel=nr,sr.flush=Ue,sr}var Ah=H(function(e,r){return Ua(e,1,r)}),Rh=H(function(e,r,t){return Ua(e,xr(r)||0,t)});function Dh(e){return $r(e,Xr)}function oi(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new fr(X);var t=function(){var s=arguments,i=r?r.apply(this,s):s[0],a=t.cache;if(a.has(i))return a.get(i);var u=e.apply(this,s);return t.cache=a.set(i,u)||a,u};return t.cache=new(oi.Cache||Fr),t}oi.Cache=Fr;function ai(e){if(typeof e!="function")throw new fr(X);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function Th(e){return Gl(2,e)}var Ih=xd(function(e,r){r=r.length==1&&F(r[0])?ie(r[0],er(R())):ie(Se(r,1),er(R()));var t=r.length;return H(function(s){for(var i=-1,a=De(s.length,t);++i<a;)s[i]=r[i].call(this,s[i]);return Ve(e,this,s)})}),Bo=H(function(e,r){var t=ct(r,hn(Bo));return $r(e,We,l,r,t)}),Yl=H(function(e,r){var t=ct(r,hn(Yl));return $r(e,Je,l,r,t)}),Oh=Gr(function(e,r){return $r(e,$e,l,l,l,r)});function kh(e,r){if(typeof e!="function")throw new fr(X);return r=r===l?r:W(r),H(e,r)}function Lh(e,r){if(typeof e!="function")throw new fr(X);return r=r==null?0:me(W(r),0),H(function(t){var s=t[r],i=pt(t,0,r);return s&&lt(i,s),Ve(e,this,i)})}function Uh(e,r,t){var s=!0,i=!0;if(typeof e!="function")throw new fr(X);return ae(t)&&(s="leading"in t?!!t.leading:s,i="trailing"in t?!!t.trailing:i),Kl(e,r,{leading:s,maxWait:r,trailing:i})}function Ph(e){return $l(e,1)}function Mh(e,r){return Bo(No(r),e)}function Bh(){if(!arguments.length)return[];var e=arguments[0];return F(e)?e:[e]}function Fh(e){return pr(e,be)}function Wh(e,r){return r=typeof r=="function"?r:l,pr(e,be,r)}function $h(e){return pr(e,Ie|be)}function Gh(e,r){return r=typeof r=="function"?r:l,pr(e,Ie|be,r)}function Hh(e,r){return r==null||La(e,r,we(r))}function Cr(e,r){return e===r||e!==e&&r!==r}var qh=Vs(uo),zh=Vs(function(e,r){return e>=r}),Gt=Wa(function(){return arguments}())?Wa:function(e){return le(e)&&V.call(e,"callee")&&!Ea.call(e,"callee")},F=m.isArray,Kh=la?er(la):ed;function qe(e){return e!=null&&li(e.length)&&!qr(e)}function ce(e){return le(e)&&qe(e)}function Yh(e){return e===!0||e===!1||le(e)&&ke(e)==Dr}var mt=au||Zo,Xh=ca?er(ca):rd;function Zh(e){return le(e)&&e.nodeType===1&&!Kn(e)}function Jh(e){if(e==null)return!0;if(qe(e)&&(F(e)||typeof e=="string"||typeof e.splice=="function"||mt(e)||pn(e)||Gt(e)))return!e.length;var r=Te(e);if(r==ye||r==Oe)return!e.size;if(qn(e))return!po(e).length;for(var t in e)if(V.call(e,t))return!1;return!0}function Qh(e,r){return $n(e,r)}function Vh(e,r,t){t=typeof t=="function"?t:l;var s=t?t(e,r):l;return s===l?$n(e,r,l,t):!!s}function Fo(e){if(!le(e))return!1;var r=ke(e);return r==et||r==es||typeof e.message=="string"&&typeof e.name=="string"&&!Kn(e)}function ep(e){return typeof e=="number"&&Ra(e)}function qr(e){if(!ae(e))return!1;var r=ke(e);return r==jt||r==rs||r==ji||r==xn}function Xl(e){return typeof e=="number"&&e==W(e)}function li(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=br}function ae(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function le(e){return e!=null&&typeof e=="object"}var Zl=ua?er(ua):nd;function rp(e,r){return e===r||ho(e,r,Do(r))}function tp(e,r,t){return t=typeof t=="function"?t:l,ho(e,r,Do(r),t)}function np(e){return Jl(e)&&e!=+e}function sp(e){if(Fd(e))throw new B(je);return $a(e)}function ip(e){return e===null}function op(e){return e==null}function Jl(e){return typeof e=="number"||le(e)&&ke(e)==Nt}function Kn(e){if(!le(e)||ke(e)!=wr)return!1;var r=Ls(e);if(r===null)return!0;var t=V.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Ts.call(t)==ru}var Wo=da?er(da):sd;function ap(e){return Xl(e)&&e>=-9007199254740991&&e<=br}var Ql=fa?er(fa):id;function ci(e){return typeof e=="string"||!F(e)&&le(e)&&ke(e)==tt}function tr(e){return typeof e=="symbol"||le(e)&&ke(e)==Ct}var pn=ha?er(ha):od;function lp(e){return e===l}function cp(e){return le(e)&&Te(e)==St}function up(e){return le(e)&&ke(e)==Kt}var dp=Vs(mo),fp=Vs(function(e,r){return e<=r});function Vl(e){if(!e)return[];if(qe(e))return ci(e)?Nr(e):He(e);if(kn&&e[kn])return Gc(e[kn]());var r=Te(e),t=r==ye?ro:r==Oe?As:mn;return t(e)}function zr(e){if(!e)return e===0?e:0;if(e=xr(e),e===Ne||e===-1/0){var r=e<0?-1:1;return r*Ht}return e===e?e:0}function W(e){var r=zr(e),t=r%1;return r===r?t?r-t:r:0}function ec(e){return e?Bt(W(e),0,Ge):0}function xr(e){if(typeof e=="number")return e;if(tr(e))return Rr;if(ae(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=ae(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ba(e);var t=Li.test(e);return t||Dt.test(e)?Cs(e.slice(2),t?2:8):ki.test(e)?Rr:+e}function rc(e){return kr(e,ze(e))}function hp(e){return e?Bt(W(e),-9007199254740991,br):e===0?e:0}function Q(e){return e==null?"":rr(e)}var pp=dn(function(e,r){if(qn(r)||qe(r)){kr(r,we(r),e);return}for(var t in r)V.call(r,t)&&Bn(e,t,r[t])}),tc=dn(function(e,r){kr(r,ze(r),e)}),ui=dn(function(e,r,t,s){kr(r,ze(r),e,s)}),mp=dn(function(e,r,t,s){kr(r,we(r),e,s)}),gp=Gr(ao);function xp(e,r){var t=un(e);return r==null?t:ka(t,r)}var vp=H(function(e,r){e=te(e);var t=-1,s=r.length,i=s>2?r[2]:l;for(i&&Le(r[0],r[1],i)&&(s=1);++t<s;)for(var a=r[t],u=ze(a),d=-1,p=u.length;++d<p;){var x=u[d],v=e[x];(v===l||Cr(v,an[x])&&!V.call(e,x))&&(e[x]=a[x])}return e}),bp=H(function(e){return e.push(l,bl),Ve(nc,l,e)});function wp(e,r){return ma(e,R(r,3),Or)}function _p(e,r){return ma(e,R(r,3),co)}function jp(e,r){return e==null?e:lo(e,R(r,3),ze)}function Np(e,r){return e==null?e:Ba(e,R(r,3),ze)}function yp(e,r){return e&&Or(e,R(r,3))}function Cp(e,r){return e&&co(e,R(r,3))}function Sp(e){return e==null?[]:qs(e,we(e))}function Ep(e){return e==null?[]:qs(e,ze(e))}function $o(e,r,t){var s=e==null?l:Ft(e,r);return s===l?t:s}function Ap(e,r){return e!=null&&jl(e,r,Zu)}function Go(e,r){return e!=null&&jl(e,r,Ju)}var Rp=pl(function(e,r,t){r!=null&&typeof r.toString!="function"&&(r=Is.call(r)),e[r]=t},qo(Ke)),Dp=pl(function(e,r,t){r!=null&&typeof r.toString!="function"&&(r=Is.call(r)),V.call(e,r)?e[r].push(t):e[r]=[t]},R),Tp=H(Wn);function we(e){return qe(e)?Ia(e):po(e)}function ze(e){return qe(e)?Ia(e,!0):ad(e)}function Ip(e,r){var t={};return r=R(r,3),Or(e,function(s,i,a){Wr(t,r(s,i,a),s)}),t}function Op(e,r){var t={};return r=R(r,3),Or(e,function(s,i,a){Wr(t,i,r(s,i,a))}),t}var kp=dn(function(e,r,t){zs(e,r,t)}),nc=dn(function(e,r,t,s){zs(e,r,t,s)}),Lp=Gr(function(e,r){var t={};if(e==null)return t;var s=!1;r=ie(r,function(a){return a=ht(a,e),s||(s=a.length>1),a}),kr(e,Ao(e),t),s&&(t=pr(t,Ie|ir|be,Ad));for(var i=r.length;i--;)wo(t,r[i]);return t});function Up(e,r){return sc(e,ai(R(r)))}var Pp=Gr(function(e,r){return e==null?{}:cd(e,r)});function sc(e,r){if(e==null)return{};var t=ie(Ao(e),function(s){return[s]});return r=R(r),Xa(e,t,function(s,i){return r(s,i[0])})}function Mp(e,r,t){r=ht(r,e);var s=-1,i=r.length;for(i||(i=1,e=l);++s<i;){var a=e==null?l:e[Lr(r[s])];a===l&&(s=i,a=t),e=qr(a)?a.call(e):a}return e}function Bp(e,r,t){return e==null?e:Gn(e,r,t)}function Fp(e,r,t,s){return s=typeof s=="function"?s:l,e==null?e:Gn(e,r,t,s)}var ic=xl(we),oc=xl(ze);function Wp(e,r,t){var s=F(e),i=s||mt(e)||pn(e);if(r=R(r,4),t==null){var a=e&&e.constructor;i?t=s?new a:[]:ae(e)?t=qr(a)?un(Ls(e)):{}:t={}}return(i?dr:Or)(e,function(u,d,p){return r(t,u,d,p)}),t}function $p(e,r){return e==null?!0:wo(e,r)}function Gp(e,r,t){return e==null?e:el(e,r,No(t))}function Hp(e,r,t,s){return s=typeof s=="function"?s:l,e==null?e:el(e,r,No(t),s)}function mn(e){return e==null?[]:eo(e,we(e))}function qp(e){return e==null?[]:eo(e,ze(e))}function zp(e,r,t){return t===l&&(t=r,r=l),t!==l&&(t=xr(t),t=t===t?t:0),r!==l&&(r=xr(r),r=r===r?r:0),Bt(xr(e),r,t)}function Kp(e,r,t){return r=zr(r),t===l?(t=r,r=0):t=zr(t),e=xr(e),Qu(e,r,t)}function Yp(e,r,t){if(t&&typeof t!="boolean"&&Le(e,r,t)&&(r=t=l),t===l&&(typeof r=="boolean"?(t=r,r=l):typeof e=="boolean"&&(t=e,e=l)),e===l&&r===l?(e=0,r=1):(e=zr(e),r===l?(r=e,e=0):r=zr(r)),e>r){var s=e;e=r,r=s}if(t||e%1||r%1){var i=Da();return De(e+i*(r-e+ys("1e-"+((i+"").length-1))),r)}return xo(e,r)}var Xp=fn(function(e,r,t){return r=r.toLowerCase(),e+(t?ac(r):r)});function ac(e){return Ho(Q(e).toLowerCase())}function lc(e){return e=Q(e),e&&e.replace(st,Mc).replace(js,"")}function Zp(e,r,t){e=Q(e),r=rr(r);var s=e.length;t=t===l?s:Bt(W(t),0,s);var i=t;return t-=r.length,t>=0&&e.slice(t,i)==r}function Jp(e){return e=Q(e),e&&Xt.test(e)?e.replace(wn,Bc):e}function Qp(e){return e=Q(e),e&&Ei.test(e)?e.replace(_n,"\\$&"):e}var Vp=fn(function(e,r,t){return e+(t?"-":"")+r.toLowerCase()}),em=fn(function(e,r,t){return e+(t?" ":"")+r.toLowerCase()}),rm=dl("toLowerCase");function tm(e,r,t){e=Q(e),r=W(r);var s=r?sn(e):0;if(!r||s>=r)return e;var i=(r-s)/2;return Qs(Bs(i),t)+e+Qs(Ms(i),t)}function nm(e,r,t){e=Q(e),r=W(r);var s=r?sn(e):0;return r&&s<r?e+Qs(r-s,t):e}function sm(e,r,t){e=Q(e),r=W(r);var s=r?sn(e):0;return r&&s<r?Qs(r-s,t)+e:e}function im(e,r,t){return t||r==null?r=0:r&&(r=+r),du(Q(e).replace(jn,""),r||0)}function om(e,r,t){return(t?Le(e,r,t):r===l)?r=1:r=W(r),vo(Q(e),r)}function am(){var e=arguments,r=Q(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var lm=fn(function(e,r,t){return e+(t?"_":"")+r.toLowerCase()});function cm(e,r,t){return t&&typeof t!="number"&&Le(e,r,t)&&(r=t=l),t=t===l?Ge:t>>>0,t?(e=Q(e),e&&(typeof r=="string"||r!=null&&!Wo(r))&&(r=rr(r),!r&&nn(e))?pt(Nr(e),0,t):e.split(r,t)):[]}var um=fn(function(e,r,t){return e+(t?" ":"")+Ho(r)});function dm(e,r,t){return e=Q(e),t=t==null?0:Bt(W(t),0,e.length),r=rr(r),e.slice(t,t+r.length)==r}function fm(e,r,t){var s=o.templateSettings;t&&Le(e,r,t)&&(r=l),e=Q(e),r=ui({},r,s,vl);var i=ui({},r.imports,s.imports,vl),a=we(i),u=eo(i,a),d,p,x=0,v=r.interpolate||Jt,b="__p += '",_=to((r.escape||Jt).source+"|"+v.source+"|"+(v===ns?Oi:Jt).source+"|"+(r.evaluate||Jt).source+"|$","g"),E="//# sourceURL="+(V.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++k+"]")+`
`;e.replace(_,function(T,z,Y,nr,Ue,sr){return Y||(Y=nr),b+=e.slice(x,sr).replace(Pi,Fc),z&&(d=!0,b+=`' +
__e(`+z+`) +
'`),Ue&&(p=!0,b+=`';
`+Ue+`;
__p += '`),Y&&(b+=`' +
((__t = (`+Y+`)) == null ? '' : __t) +
'`),x=sr+T.length,T}),b+=`';
`;var D=V.call(r,"variable")&&r.variable;if(!D)b=`with (obj) {
`+b+`
}
`;else if(Ii.test(D))throw new B(Ur);b=(p?b.replace(Ce,""):b).replace(Rt,"$1").replace(yi,"$1;"),b="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+b+`return __p
}`;var G=uc(function(){return Z(a,E+"return "+b).apply(l,u)});if(G.source=b,Fo(G))throw G;return G}function hm(e){return Q(e).toLowerCase()}function pm(e){return Q(e).toUpperCase()}function mm(e,r,t){if(e=Q(e),e&&(t||r===l))return ba(e);if(!e||!(r=rr(r)))return e;var s=Nr(e),i=Nr(r),a=wa(s,i),u=_a(s,i)+1;return pt(s,a,u).join("")}function gm(e,r,t){if(e=Q(e),e&&(t||r===l))return e.slice(0,Na(e)+1);if(!e||!(r=rr(r)))return e;var s=Nr(e),i=_a(s,Nr(r))+1;return pt(s,0,i).join("")}function xm(e,r,t){if(e=Q(e),e&&(t||r===l))return e.replace(jn,"");if(!e||!(r=rr(r)))return e;var s=Nr(e),i=wa(s,Nr(r));return pt(s,i).join("")}function vm(e,r){var t=Zr,s=vr;if(ae(r)){var i="separator"in r?r.separator:i;t="length"in r?W(r.length):t,s="omission"in r?rr(r.omission):s}e=Q(e);var a=e.length;if(nn(e)){var u=Nr(e);a=u.length}if(t>=a)return e;var d=t-sn(s);if(d<1)return s;var p=u?pt(u,0,d).join(""):e.slice(0,d);if(i===l)return p+s;if(u&&(d+=p.length-d),Wo(i)){if(e.slice(d).search(i)){var x,v=p;for(i.global||(i=to(i.source,Q(as.exec(i))+"g")),i.lastIndex=0;x=i.exec(v);)var b=x.index;p=p.slice(0,b===l?d:b)}}else if(e.indexOf(rr(i),d)!=d){var _=p.lastIndexOf(i);_>-1&&(p=p.slice(0,_))}return p+s}function bm(e){return e=Q(e),e&&nt.test(e)?e.replace(ts,Kc):e}var wm=fn(function(e,r,t){return e+(t?" ":"")+r.toUpperCase()}),Ho=dl("toUpperCase");function cc(e,r,t){return e=Q(e),r=t?l:r,r===l?$c(e)?Zc(e):Oc(e):e.match(r)||[]}var uc=H(function(e,r){try{return Ve(e,l,r)}catch(t){return Fo(t)?t:new B(t)}}),_m=Gr(function(e,r){return dr(r,function(t){t=Lr(t),Wr(e,t,Mo(e[t],e))}),e});function jm(e){var r=e==null?0:e.length,t=R();return e=r?ie(e,function(s){if(typeof s[1]!="function")throw new fr(X);return[t(s[0]),s[1]]}):[],H(function(s){for(var i=-1;++i<r;){var a=e[i];if(Ve(a[0],this,s))return Ve(a[1],this,s)}})}function Nm(e){return Ku(pr(e,Ie))}function qo(e){return function(){return e}}function ym(e,r){return e==null||e!==e?r:e}var Cm=hl(),Sm=hl(!0);function Ke(e){return e}function zo(e){return Ga(typeof e=="function"?e:pr(e,Ie))}function Em(e){return qa(pr(e,Ie))}function Am(e,r){return za(e,pr(r,Ie))}var Rm=H(function(e,r){return function(t){return Wn(t,e,r)}}),Dm=H(function(e,r){return function(t){return Wn(e,t,r)}});function Ko(e,r,t){var s=we(r),i=qs(r,s);t==null&&!(ae(r)&&(i.length||!s.length))&&(t=r,r=e,e=this,i=qs(r,we(r)));var a=!(ae(t)&&"chain"in t)||!!t.chain,u=qr(e);return dr(i,function(d){var p=r[d];e[d]=p,u&&(e.prototype[d]=function(){var x=this.__chain__;if(a||x){var v=e(this.__wrapped__),b=v.__actions__=He(this.__actions__);return b.push({func:p,args:arguments,thisArg:e}),v.__chain__=x,v}return p.apply(e,lt([this.value()],arguments))})}),e}function Tm(){return he._===this&&(he._=tu),this}function Yo(){}function Im(e){return e=W(e),H(function(r){return Ka(r,e)})}var Om=Co(ie),km=Co(pa),Lm=Co(Xi);function dc(e){return Io(e)?Zi(Lr(e)):ud(e)}function Um(e){return function(r){return e==null?l:Ft(e,r)}}var Pm=ml(),Mm=ml(!0);function Xo(){return[]}function Zo(){return!1}function Bm(){return{}}function Fm(){return""}function Wm(){return!0}function $m(e,r){if(e=W(e),e<1||e>br)return[];var t=Ge,s=De(e,Ge);r=R(r),e-=Ge;for(var i=Vi(s,r);++t<e;)r(t);return i}function Gm(e){return F(e)?ie(e,Lr):tr(e)?[e]:He(Tl(Q(e)))}function Hm(e){var r=++eu;return Q(e)+r}var qm=Js(function(e,r){return e+r},0),zm=So("ceil"),Km=Js(function(e,r){return e/r},1),Ym=So("floor");function Xm(e){return e&&e.length?Hs(e,Ke,uo):l}function Zm(e,r){return e&&e.length?Hs(e,R(r,2),uo):l}function Jm(e){return xa(e,Ke)}function Qm(e,r){return xa(e,R(r,2))}function Vm(e){return e&&e.length?Hs(e,Ke,mo):l}function eg(e,r){return e&&e.length?Hs(e,R(r,2),mo):l}var rg=Js(function(e,r){return e*r},1),tg=So("round"),ng=Js(function(e,r){return e-r},0);function sg(e){return e&&e.length?Qi(e,Ke):0}function ig(e,r){return e&&e.length?Qi(e,R(r,2)):0}return o.after=Eh,o.ary=$l,o.assign=pp,o.assignIn=tc,o.assignInWith=ui,o.assignWith=mp,o.at=gp,o.before=Gl,o.bind=Mo,o.bindAll=_m,o.bindKey=Hl,o.castArray=Bh,o.chain=Bl,o.chunk=Kd,o.compact=Yd,o.concat=Xd,o.cond=jm,o.conforms=Nm,o.constant=qo,o.countBy=sh,o.create=xp,o.curry=ql,o.curryRight=zl,o.debounce=Kl,o.defaults=vp,o.defaultsDeep=bp,o.defer=Ah,o.delay=Rh,o.difference=Zd,o.differenceBy=Jd,o.differenceWith=Qd,o.drop=Vd,o.dropRight=ef,o.dropRightWhile=rf,o.dropWhile=tf,o.fill=nf,o.filter=oh,o.flatMap=ch,o.flatMapDeep=uh,o.flatMapDepth=dh,o.flatten=Ll,o.flattenDeep=sf,o.flattenDepth=of,o.flip=Dh,o.flow=Cm,o.flowRight=Sm,o.fromPairs=af,o.functions=Sp,o.functionsIn=Ep,o.groupBy=fh,o.initial=cf,o.intersection=uf,o.intersectionBy=df,o.intersectionWith=ff,o.invert=Rp,o.invertBy=Dp,o.invokeMap=ph,o.iteratee=zo,o.keyBy=mh,o.keys=we,o.keysIn=ze,o.map=si,o.mapKeys=Ip,o.mapValues=Op,o.matches=Em,o.matchesProperty=Am,o.memoize=oi,o.merge=kp,o.mergeWith=nc,o.method=Rm,o.methodOf=Dm,o.mixin=Ko,o.negate=ai,o.nthArg=Im,o.omit=Lp,o.omitBy=Up,o.once=Th,o.orderBy=gh,o.over=Om,o.overArgs=Ih,o.overEvery=km,o.overSome=Lm,o.partial=Bo,o.partialRight=Yl,o.partition=xh,o.pick=Pp,o.pickBy=sc,o.property=dc,o.propertyOf=Um,o.pull=gf,o.pullAll=Pl,o.pullAllBy=xf,o.pullAllWith=vf,o.pullAt=bf,o.range=Pm,o.rangeRight=Mm,o.rearg=Oh,o.reject=wh,o.remove=wf,o.rest=kh,o.reverse=Uo,o.sampleSize=jh,o.set=Bp,o.setWith=Fp,o.shuffle=Nh,o.slice=_f,o.sortBy=Sh,o.sortedUniq=Af,o.sortedUniqBy=Rf,o.split=cm,o.spread=Lh,o.tail=Df,o.take=Tf,o.takeRight=If,o.takeRightWhile=Of,o.takeWhile=kf,o.tap=Xf,o.throttle=Uh,o.thru=ni,o.toArray=Vl,o.toPairs=ic,o.toPairsIn=oc,o.toPath=Gm,o.toPlainObject=rc,o.transform=Wp,o.unary=Ph,o.union=Lf,o.unionBy=Uf,o.unionWith=Pf,o.uniq=Mf,o.uniqBy=Bf,o.uniqWith=Ff,o.unset=$p,o.unzip=Po,o.unzipWith=Ml,o.update=Gp,o.updateWith=Hp,o.values=mn,o.valuesIn=qp,o.without=Wf,o.words=cc,o.wrap=Mh,o.xor=$f,o.xorBy=Gf,o.xorWith=Hf,o.zip=qf,o.zipObject=zf,o.zipObjectDeep=Kf,o.zipWith=Yf,o.entries=ic,o.entriesIn=oc,o.extend=tc,o.extendWith=ui,Ko(o,o),o.add=qm,o.attempt=uc,o.camelCase=Xp,o.capitalize=ac,o.ceil=zm,o.clamp=zp,o.clone=Fh,o.cloneDeep=$h,o.cloneDeepWith=Gh,o.cloneWith=Wh,o.conformsTo=Hh,o.deburr=lc,o.defaultTo=ym,o.divide=Km,o.endsWith=Zp,o.eq=Cr,o.escape=Jp,o.escapeRegExp=Qp,o.every=ih,o.find=ah,o.findIndex=Ol,o.findKey=wp,o.findLast=lh,o.findLastIndex=kl,o.findLastKey=_p,o.floor=Ym,o.forEach=Fl,o.forEachRight=Wl,o.forIn=jp,o.forInRight=Np,o.forOwn=yp,o.forOwnRight=Cp,o.get=$o,o.gt=qh,o.gte=zh,o.has=Ap,o.hasIn=Go,o.head=Ul,o.identity=Ke,o.includes=hh,o.indexOf=lf,o.inRange=Kp,o.invoke=Tp,o.isArguments=Gt,o.isArray=F,o.isArrayBuffer=Kh,o.isArrayLike=qe,o.isArrayLikeObject=ce,o.isBoolean=Yh,o.isBuffer=mt,o.isDate=Xh,o.isElement=Zh,o.isEmpty=Jh,o.isEqual=Qh,o.isEqualWith=Vh,o.isError=Fo,o.isFinite=ep,o.isFunction=qr,o.isInteger=Xl,o.isLength=li,o.isMap=Zl,o.isMatch=rp,o.isMatchWith=tp,o.isNaN=np,o.isNative=sp,o.isNil=op,o.isNull=ip,o.isNumber=Jl,o.isObject=ae,o.isObjectLike=le,o.isPlainObject=Kn,o.isRegExp=Wo,o.isSafeInteger=ap,o.isSet=Ql,o.isString=ci,o.isSymbol=tr,o.isTypedArray=pn,o.isUndefined=lp,o.isWeakMap=cp,o.isWeakSet=up,o.join=hf,o.kebabCase=Vp,o.last=gr,o.lastIndexOf=pf,o.lowerCase=em,o.lowerFirst=rm,o.lt=dp,o.lte=fp,o.max=Xm,o.maxBy=Zm,o.mean=Jm,o.meanBy=Qm,o.min=Vm,o.minBy=eg,o.stubArray=Xo,o.stubFalse=Zo,o.stubObject=Bm,o.stubString=Fm,o.stubTrue=Wm,o.multiply=rg,o.nth=mf,o.noConflict=Tm,o.noop=Yo,o.now=ii,o.pad=tm,o.padEnd=nm,o.padStart=sm,o.parseInt=im,o.random=Yp,o.reduce=vh,o.reduceRight=bh,o.repeat=om,o.replace=am,o.result=Mp,o.round=tg,o.runInContext=f,o.sample=_h,o.size=yh,o.snakeCase=lm,o.some=Ch,o.sortedIndex=jf,o.sortedIndexBy=Nf,o.sortedIndexOf=yf,o.sortedLastIndex=Cf,o.sortedLastIndexBy=Sf,o.sortedLastIndexOf=Ef,o.startCase=um,o.startsWith=dm,o.subtract=ng,o.sum=sg,o.sumBy=ig,o.template=fm,o.times=$m,o.toFinite=zr,o.toInteger=W,o.toLength=ec,o.toLower=hm,o.toNumber=xr,o.toSafeInteger=hp,o.toString=Q,o.toUpper=pm,o.trim=mm,o.trimEnd=gm,o.trimStart=xm,o.truncate=vm,o.unescape=bm,o.uniqueId=Hm,o.upperCase=wm,o.upperFirst=Ho,o.each=Fl,o.eachRight=Wl,o.first=Ul,Ko(o,function(){var e={};return Or(o,function(r,t){V.call(o.prototype,t)||(e[t]=r)}),e}(),{chain:!1}),o.VERSION=xe,dr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),dr(["drop","take"],function(e,r){K.prototype[e]=function(t){t=t===l?1:me(W(t),0);var s=this.__filtered__&&!r?new K(this):this.clone();return s.__filtered__?s.__takeCount__=De(t,s.__takeCount__):s.__views__.push({size:De(t,Ge),type:e+(s.__dir__<0?"Right":"")}),s},K.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),dr(["filter","map","takeWhile"],function(e,r){var t=r+1,s=t==Jr||t==wt;K.prototype[e]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:R(i,3),type:t}),a.__filtered__=a.__filtered__||s,a}}),dr(["head","last"],function(e,r){var t="take"+(r?"Right":"");K.prototype[e]=function(){return this[t](1).value()[0]}}),dr(["initial","tail"],function(e,r){var t="drop"+(r?"":"Right");K.prototype[e]=function(){return this.__filtered__?new K(this):this[t](1)}}),K.prototype.compact=function(){return this.filter(Ke)},K.prototype.find=function(e){return this.filter(e).head()},K.prototype.findLast=function(e){return this.reverse().find(e)},K.prototype.invokeMap=H(function(e,r){return typeof e=="function"?new K(this):this.map(function(t){return Wn(t,e,r)})}),K.prototype.reject=function(e){return this.filter(ai(R(e)))},K.prototype.slice=function(e,r){e=W(e);var t=this;return t.__filtered__&&(e>0||r<0)?new K(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),r!==l&&(r=W(r),t=r<0?t.dropRight(-r):t.take(r-e)),t)},K.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},K.prototype.toArray=function(){return this.take(Ge)},Or(K.prototype,function(e,r){var t=/^(?:filter|find|map|reject)|While$/.test(r),s=/^(?:head|last)$/.test(r),i=o[s?"take"+(r=="last"?"Right":""):r],a=s||/^find/.test(r);i&&(o.prototype[r]=function(){var u=this.__wrapped__,d=s?[1]:arguments,p=u instanceof K,x=d[0],v=p||F(u),b=function(z){var Y=i.apply(o,lt([z],d));return s&&_?Y[0]:Y};v&&t&&typeof x=="function"&&x.length!=1&&(p=v=!1);var _=this.__chain__,E=!!this.__actions__.length,D=a&&!_,G=p&&!E;if(!a&&v){u=G?u:new K(this);var T=e.apply(u,d);return T.__actions__.push({func:ni,args:[b],thisArg:l}),new hr(T,_)}return D&&G?e.apply(this,d):(T=this.thru(b),D?s?T.value()[0]:T.value():T)})}),dr(["pop","push","shift","sort","splice","unshift"],function(e){var r=Rs[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var i=arguments;if(s&&!this.__chain__){var a=this.value();return r.apply(F(a)?a:[],i)}return this[t](function(u){return r.apply(F(u)?u:[],i)})}}),Or(K.prototype,function(e,r){var t=o[r];if(t){var s=t.name+"";V.call(cn,s)||(cn[s]=[]),cn[s].push({name:r,func:t})}}),cn[Zs(l,O).name]=[{name:"wrapper",func:l}],K.prototype.clone=vu,K.prototype.reverse=bu,K.prototype.value=wu,o.prototype.at=Zf,o.prototype.chain=Jf,o.prototype.commit=Qf,o.prototype.next=Vf,o.prototype.plant=rh,o.prototype.reverse=th,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=nh,o.prototype.first=o.prototype.head,kn&&(o.prototype[kn]=eh),o},on=Jc();Lt?((Lt.exports=on)._=on,qi._=on):he._=on}).call(Qg)}(Zn,Zn.exports)),Zn.exports}var ex=Vg();const _c=Pg(ex),rx=`
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideRight {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}

.border-3 {
    border-width: 3px;
}

.animate-pulse-soft {
    animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-soft {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.8;
    }
}

/* Animación de entrada suave para las cards */
@keyframes cardEntrance {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.card-entrance {
    animation: cardEntrance 0.5s ease-out forwards;
}

/* Tooltip styles */
.tooltip-trigger {
    position: relative;
}

.tooltip-trigger::before {
    content: attr(data-tooltip);
    position: absolute;
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%);
    background-color: #1f2937;
    color: white;
    padding: 6px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s, visibility 0.2s;
    z-index: 50;
    pointer-events: none;
}

.tooltip-trigger::after {
    content: '';
    position: absolute;
    bottom: calc(100% + 2px);
    left: 50%;
    transform: translateX(-50%);
    border: 4px solid transparent;
    border-top-color: #1f2937;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s, visibility 0.2s;
    z-index: 50;
    pointer-events: none;
}

.tooltip-trigger:hover::before,
.tooltip-trigger:hover::after {
    opacity: 1;
    visibility: visible;
}

/* Custom tooltip animations */
@keyframes tooltipSlideIn {
    from {
        opacity: 0;
        transform: translateY(5px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.custom-tooltip-enter {
    animation: tooltipSlideIn 0.2s ease-out forwards;
}

/* Enhanced button hover effects */
.action-button {
    transition: all 0.2s ease-in-out;
    position: relative;
    overflow: hidden;
}

.action-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.3s ease, height 0.3s ease;
}

.action-button:hover::before {
    width: 100px;
    height: 100px;
}

.action-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}
`;if(typeof document<"u"){const C=document.createElement("style");C.type="text/css",C.innerText=rx,document.head.appendChild(C)}function U0({apartments:C,brands:ge,models:l,systems:xe,name_devices:ve,filters:je}){var Sn,En,ms,An,Rn,Dn,Tn,gs,xs,vs,In,bs,ws,_s,js,en,Ns;const{auth:X}=ea().props;console.log("=== COMPONENT RENDERED ==="),console.log("Apartments data:",C),console.log("Building info:",ea().props),console.log("USER ROLE DEBUG:",(Sn=X.user)==null?void 0:Sn.role),console.log("USER ROLES ARRAY:",(En=X.user)==null?void 0:En.roles),console.log("IS OWNER OR DOORMAN (role):",((ms=X.user)==null?void 0:ms.role)==="owner"||((An=X.user)==null?void 0:An.role)==="doorman"),console.log("IS OWNER OR DOORMAN (roles array):",((Dn=(Rn=X.user)==null?void 0:Rn.roles)==null?void 0:Dn.includes("owner"))||((gs=(Tn=X.user)==null?void 0:Tn.roles)==null?void 0:gs.includes("doorman"))),console.log("=== END COMPONENT DEBUG ===");const[Ur,Pr]=U.useState([]),[ne,Ar]=U.useState({}),[Ie,ir]=U.useState({}),[be,se]=U.useState((je==null?void 0:je.search)||""),[$,J]=U.useState(!1),[O,or]=U.useState(()=>{if(typeof window<"u"){const c=new URLSearchParams(window.location.search),h=c.get("sort_by"),j=c.get("sort_dir");if(h&&j)return[{id:h,desc:j==="desc"}]}return[{id:"order",desc:!1}]}),[re,Ee]=U.useState(!1),[We,Je]=U.useState(!1),[ee,$e]=U.useState(null),[Xr,Zr]=U.useState(null),[vr,bt]=U.useState(null),[fe,Jr]=U.useState(null),[Mr,wt]=U.useState([]),[Ne,br]=U.useState([]),[Ht,Rr]=U.useState(!1),[Ge,_t]=U.useState(!1),[qt,Vn]=U.useState(null),[Qr,Vr]=U.useState(!1),[ji,Dr]=U.useState(!1),[Qe,es]=U.useState(null),[et,jt]=U.useState(null),[rs,ye]=U.useState(),[Nt,zt]=U.useState(!1),[wr,yt]=U.useState(!1),[xn,rt]=U.useState(null),[Oe,tt]=U.useState(!1),[Ct,Ni]=U.useState(0),[St,Kt]=U.useState(!1),[Et,Tr]=U.useState(!1),[ar,Yt]=U.useState(null),[At,vn]=U.useState([]),[lr,Ir]=U.useState(!1),{building:S,all_buildings:bn,googleMapsApiKey:_r}=ea().props,{data:Ce,setData:Rt,post:yi,delete:ts,processing:wn,errors:nt,reset:Xt}=hc({id:null,name:"",ubicacion:"",order:0,tenants:[]}),oe=hc({device_id:"",category:"",title:"",description:"",member_id:"",tenant_id:"",priority:"medium"}),Zt=U.useRef(null);U.useEffect(()=>{console.log("=== BUILDING CHANGED IN USEEFFECT ==="),console.log("Building ID:",S.id),console.log("Building name:",S.name),console.log("Building location_link:",S.location_link),console.log("Full building object:",S),Ni(c=>(console.log("MapKey changed from",c,"to",c+1),c+1)),console.log("=== END BUILDING CHANGE ===")},[S]);const ns=U.useCallback(_c.debounce(c=>{J(!0);const h=window.location.pathname+window.location.search,j=new URL(h,window.location.origin),k=document.activeElement===Zt.current;c.trim()?j.searchParams.set("search",c.trim()):j.searchParams.delete("search"),j.searchParams.set("page","1"),Pe.visit(j.toString(),{preserveState:!0,preserveScroll:!0,onFinish:()=>{J(!1),k&&Zt.current&&Zt.current.focus()}})},500),[]),ss=c=>{se(c),ns(c)},Ci=()=>!_c.isEqual(Ce,rs),Si=c=>{var k;c.preventDefault();const h=new FormData,j=(k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content");j&&h.append("_token",j),h.append("name",Ce.name),h.append("ubicacion",Ce.ubicacion),h.append("order",Ce.order.toString()),Ce.tenants.forEach((w,y)=>{h.append(`tenants[${y}][name]`,w.name),h.append(`tenants[${y}][email]`,w.email),h.append(`tenants[${y}][phone]`,w.phone),w.photo&&h.append(`tenants[${y}][photo]`,w.photo),w.id&&h.append(`tenants[${y}][id]`,w.id.toString())}),yi(route("buildings.apartments.store",S.id),{forceFormData:!0,preserveScroll:!0,preserveState:!1,onSuccess:()=>{Xt(),ye(void 0),Ee(!1),L.success("Apartment created successfully")},onError:w=>{Object.values(w).forEach(y=>L.error(y))}})},_n=c=>{var j;const h={id:c.id,name:c.name,ubicacion:c.ubicacion,order:c.order||0,tenants:((j=c.tenants)==null?void 0:j.map(k=>({id:k.id,name:k.name||"",email:k.email||"",phone:k.phone||"",photo:null,photoPreview:k.photo||""})))||[]};Rt(h),ye(h),$e(c),Ee(!0)},Ei=c=>{var k;if(c.preventDefault(),!Ce.id)return;const h=new FormData,j=(k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content");j&&h.append("_token",j),h.append("_method","PUT"),h.append("name",Ce.name),h.append("ubicacion",Ce.ubicacion),h.append("order",Ce.order.toString()),Ce.tenants.forEach((w,y)=>{w.id&&h.append(`tenants[${y}][id]`,w.id.toString()),h.append(`tenants[${y}][name]`,w.name),h.append(`tenants[${y}][email]`,w.email),h.append(`tenants[${y}][phone]`,w.phone),w.photo&&h.append(`tenants[${y}][photo]`,w.photo)}),Pe.post(route("apartments.update",Ce.id),h,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{Xt(),ye(void 0),Ee(!1),$e(null),L.success("Apartment updated successfully")},onError:w=>{Object.values(w).forEach(y=>L.error(y))}})},jn=()=>{const c={id:null,name:"",ubicacion:"",order:0,tenants:[]};Xt(),ye(c),$e(null),Ee(!0)},Ai=c=>{$e(c),Je(!0)},Ri=()=>{if(!ee){L.error("No apartment selected for deletion");return}console.log("=== APARTMENT DELETE DEBUG ==="),console.log("Attempting to delete apartment:",ee),console.log("Route:",route("apartments.destroy",ee.id)),console.log("=== END APARTMENT DELETE DEBUG ==="),ts(route("apartments.destroy",ee.id),{preserveScroll:!0,onSuccess:c=>{console.log("Apartment delete success:",c),Je(!1),$e(null),L.success("Apartment deleted successfully")},onError:c=>{if(console.error("=== APARTMENT DELETION ERROR DETAILS ==="),console.error("Full error object:",c),console.error("Error type:",typeof c),console.error("Error keys:",Object.keys(c||{})),c&&typeof c=="object"){const h=[];c.error&&h.push(c.error),c.message&&h.push(c.message),c.errors&&Object.values(c.errors).forEach(j=>{Array.isArray(j)?h.push(...j):h.push(j)}),h.length>0?L.error(`Error deleting apartment: ${h.join(", ")}`):L.error("Error deleting apartment. Unknown error format.")}else typeof c=="string"?L.error(`Error deleting apartment: ${c}`):L.error("Error deleting apartment. Check console for details.");console.error("=== END APARTMENT DELETION ERROR ===")},onFinish:()=>{console.log("Apartment deletion request finished")}})},Di=(c,h)=>{bt(c),Jr(h),wt(h.devices||[]),br(h.shared_devices||[]),Rr(!0)},Ti=c=>{Vn(c),_t(!0)},is=c=>{var j,k,w,y,M;console.log("=== DEVICE SELECTED ==="),console.log("Selected device:",c),console.log("Selected tenant:",fe),console.log("Selected apartment for ticket creation:",Qe),console.log("User roles:",(j=X.user)==null?void 0:j.roles),console.log("=== END DEVICE SELECTED ==="),jt(c),oe.setData("device_id",c.id.toString()),((w=(k=X.user)==null?void 0:k.roles)==null?void 0:w.includes("super-admin"))||((M=(y=X.user)==null?void 0:y.roles)==null?void 0:M.includes("technical"))?(oe.setData("tenant_id",(fe==null?void 0:fe.id.toString())||""),oe.setData("member_id","")):(oe.setData("member_id",(fe==null?void 0:fe.id.toString())||""),oe.setData("tenant_id","")),Vr(!1),Dr(!0)},Ii=c=>{c.preventDefault(),oe.post("/tickets",{preserveScroll:!0,onSuccess:()=>{Dr(!1),oe.reset(),es(null),jt(null),L.success("Ticket created successfully!")},onError:()=>{L.error("Error creating ticket. Please try again.")}})},os=c=>{if(console.log("=== GENERATING EMBED URL ==="),console.log("Input location_link:",c),console.log("Building ID:",S==null?void 0:S.id),console.log("Google Maps API Key:",_r?"Present":"Missing"),!(c!=null&&c.trim()))return console.warn("No location link provided"),"";if(!_r)return console.warn("No Google Maps API Key provided"),"";const h=c.trim();if(h.includes("/embed"))return console.log("Using existing embed URL:",h),h;const j=h.match(/^(-?\d+\.?\d*),\s*(-?\d+\.?\d*)$/);if(j){const w=parseFloat(j[1]),y=parseFloat(j[2]);if(w>=-90&&w<=90&&y>=-180&&y<=180){const M=`https://www.google.com/maps/embed/v1/place?key=${_r}&q=${w},${y}&zoom=17`;return console.log("Generated embed URL for coordinates WITH PIN:",M),M}else console.warn("Invalid coordinates:",{lat:w,lng:y})}if(/maps\.app\.goo\.gl|goo\.gl\/maps/.test(h)){const w=`https://www.google.com/maps/embed/v1/place?key=${_r}&q=${encodeURIComponent(h)}`;return console.log("Generated embed URL for short link (fallback as search):",w),w}if(h.includes("google.com/maps")){const w=h.match(/pb=([^&]+)/);if(w){const A=`https://www.google.com/maps/embed?pb=${w[1]}`;return console.log("Generated embed URL from pb parameter:",A),A}const y=h.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(y){const A=parseFloat(y[1]),q=parseFloat(y[2]);if(A>=-90&&A<=90&&q>=-180&&q<=180){const de=`https://www.google.com/maps/embed/v1/place?key=${_r}&q=${A},${q}&zoom=17`;return console.log("Generated embed URL from @ coordinates WITH PIN:",de),de}}const M=h.match(/place\/([^/?#]+)/);if(M){const A=M[1],q=`https://www.google.com/maps/embed/v1/place?key=${_r}&place_id=${A}`;return console.log("Generated embed URL for place ID:",q),q}}const k=`https://www.google.com/maps/embed/v1/place?key=${_r}&q=${encodeURIComponent(h)}`;return console.log("Fallback embed URL (address or query):",k),k},Oi=async c=>{Zr(c.id);try{Pe.put(route("apartments.update-status",c.id),{status:!c.status},{preserveScroll:!0,onSuccess:()=>{L.success("Status updated successfully")},onError:h=>{console.error("Error updating status:",h),L.error("Error updating status")},onFinish:()=>{Zr(null)}})}catch(h){console.error("Connection error:",h),L.error("Connection error"),Zr(null)}},as=c=>{var k;if(c.preventDefault(),!xn){L.error("Please select a file");return}const h=new FormData,j=(k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content");j&&h.append("_token",j),h.append("file",xn),tt(!0),Pe.post(route("buildings.apartments.bulk-upload",S.id),h,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{yt(!1),rt(null),L.success("Apartments uploaded successfully")},onError:w=>{Object.values(w).forEach(y=>L.error(y))},onFinish:()=>{tt(!1)}})},ki=c=>{var j;const h=(j=c.target.files)==null?void 0:j[0];if(h){if(!h.name.endsWith(".xlsx")&&!h.name.endsWith(".xls")){L.error("Please select an Excel file (.xlsx or .xls)");return}rt(h)}},Li=()=>{const c=document.createElement("a");c.href="/resources/apartments_template.xlsx",c.download="apartments_template.xlsx",c.target="_blank",document.body.appendChild(c),c.click(),document.body.removeChild(c)},ls=[{accessorKey:"order",header:({column:c})=>n.jsxs(I,{variant:"ghost",onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold text-left justify-start hover:bg-transparent hover:text-primary-foreground",children:["Order",c.getIsSorted()==="asc"?n.jsx(Me,{className:"ml-2 h-4 w-4 rotate-180"}):c.getIsSorted()==="desc"?n.jsx(Me,{className:"ml-2 h-4 w-4"}):n.jsx(Me,{className:"ml-2 h-4 w-4 opacity-20"})]}),cell:({row:c})=>{const h=c.getValue("order");return n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full text-primary-foreground font-medium text-xs",children:h||0})})}},{accessorKey:"name",header:({column:c})=>n.jsxs(I,{variant:"ghost",onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold text-left justify-start hover:bg-transparent hover:text-primary-foreground",children:["Apartment",c.getIsSorted()==="asc"?n.jsx(Me,{className:"ml-2 h-4 w-4 rotate-180"}):c.getIsSorted()==="desc"?n.jsx(Me,{className:"ml-2 h-4 w-4"}):n.jsx(Me,{className:"ml-2 h-4 w-4 opacity-20"})]}),cell:({row:c})=>n.jsx("div",{className:"font-medium",children:c.getValue("name")})},{id:"tenants_count",accessorFn:c=>{var h;return((h=c.tenants)==null?void 0:h.length)||0},header:({column:c})=>n.jsxs(I,{variant:"ghost",onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold text-left justify-start hover:bg-transparent  hover:text-primary-foreground",children:[n.jsx(Qn,{className:"mr-2 h-4 w-4"}),"Members",c.getIsSorted()==="asc"?n.jsx(Me,{className:"ml-2 h-4 w-4 rotate-180"}):c.getIsSorted()==="desc"?n.jsx(Me,{className:"ml-2 h-4 w-4"}):n.jsx(Me,{className:"ml-2 h-4 w-4 opacity-20"})]}),cell:({row:c})=>{var j;const h=c.original;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-corporate-gold/10 text-corporate-gold",children:n.jsx(Qn,{className:"w-4 h-4"})}),n.jsx("span",{className:"font-medium",children:((j=h.tenants)==null?void 0:j.length)||0}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"members"})]})}},{accessorKey:"status",header:({column:c})=>n.jsxs(I,{variant:"ghost",onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold text-left justify-start hover:bg-transparent  hover:text-primary-foreground",children:["Status",c.getIsSorted()==="asc"?n.jsx(Me,{className:"ml-2 h-4 w-4 rotate-180"}):c.getIsSorted()==="desc"?n.jsx(Me,{className:"ml-2 h-4 w-4"}):n.jsx(Me,{className:"ml-2 h-4 w-4 opacity-20"})]}),cell:({row:c})=>{const h=c.original;return n.jsx(xg,{checked:h.status,disabled:Xr===h.id,onCheckedChange:()=>Oi(h),className:"data-[state=checked]:bg-green-500"})}},{id:"actions",enableHiding:!1,cell:({row:c})=>{const h=c.original;return n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsx(I,{variant:"ghost",size:"icon",className:"action-button hover:bg-green-50 hover:text-green-600 transition-all duration-200 h-8 w-8",onClick:()=>Tt("apartment"),children:n.jsx(Ec,{className:"h-3.5 w-3.5"})})}),n.jsx(vt,{children:n.jsx("p",{children:"Export NinjaOne devices"})})]}),n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsx(I,{variant:"ghost",size:"icon",className:"action-button hover:bg-amber-50 hover:text-amber-600 transition-all duration-200 h-8 w-8",onClick:()=>_n(h),children:n.jsx(ta,{className:"h-3.5 w-3.5"})})}),n.jsx(vt,{children:n.jsx("p",{children:"Edit apartment"})})]}),n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsx(I,{variant:"ghost",size:"icon",className:"action-button hover:bg-red-50 hover:text-red-600 transition-all duration-200 h-8 w-8",onClick:()=>Ai(h),children:n.jsx(xc,{className:"h-3.5 w-3.5"})})}),n.jsx(vt,{children:n.jsx("p",{children:"Delete apartment"})})]})]})}}],Dt=c=>{const h=window.location.pathname+window.location.search,j=new URL(h,window.location.origin);j.searchParams.set("page",c.toString()),Pe.visit(j.toString(),{preserveState:!0,preserveScroll:!0})},Ui=c=>{const h=typeof c=="function"?c(O):c;or(h);const j=window.location.pathname+window.location.search,k=new URL(j,window.location.origin);if(h.length>0){const w=h[0];k.searchParams.set("sort_by",w.id),k.searchParams.set("sort_dir",w.desc?"desc":"asc")}else k.searchParams.set("sort_by","order"),k.searchParams.set("sort_dir","asc");k.searchParams.set("page","1"),Pe.visit(k.toString(),{preserveState:!0,preserveScroll:!0})},st=dg({data:C.data,columns:ls,onSortingChange:Ui,onColumnFiltersChange:Pr,getCoreRowModel:gg(),manualSorting:!0,onColumnVisibilityChange:Ar,onRowSelectionChange:ir,manualPagination:!0,pageCount:C.meta.last_page,state:{sorting:O,columnFilters:Ur,columnVisibility:ne,rowSelection:Ie,pagination:{pageIndex:C.meta.current_page-1,pageSize:C.meta.per_page}}}),Jt=()=>{const c=st.getAllColumns().filter(A=>A.getIsVisible()&&A.id!=="actions").map(A=>({id:A.id,header:typeof A.columnDef.header=="string"?A.columnDef.header:A.id.charAt(0).toUpperCase()+A.id.slice(1)})),h=c.map(A=>A.header).join(",")+`
`,j=C.data.map(A=>c.map(q=>{var de;return q.id==="status"?A.status?"Active":"Inactive":q.id==="tenants_count"?((de=A.tenants)==null?void 0:de.length)||0:q.id==="name"?A.name:q.id==="ubicacion"&&A.ubicacion||""}).join(",")).join(`
`),k=h+j,w=new Blob([k],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(w),M=document.createElement("a");M.href=y,M.download=`apartments_${new Date().toISOString().split("T")[0]}${je!=null&&je.search?`_${je.search}`:""}.csv`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(y),L.success("CSV exported successfully!")},Pi=async()=>{try{const c=new cg.Workbook,h=c.addWorksheet("Apartments"),j=st.getAllColumns().filter(M=>M.getIsVisible()&&M.id!=="actions").map(M=>({id:M.id,header:typeof M.columnDef.header=="string"?M.columnDef.header:M.id.charAt(0).toUpperCase()+M.id.slice(1)})),k=h.addRow(j.map(M=>M.header));k.font={bold:!0},k.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},C.data.forEach(M=>{const A=j.map(q=>{var de;return q.id==="status"?M.status?"Active":"Inactive":q.id==="tenants_count"?((de=M.tenants)==null?void 0:de.length)||0:q.id==="name"?M.name:q.id==="ubicacion"&&M.ubicacion||""});h.addRow(A)}),h.columns.forEach(M=>{M.header&&(M.width=Math.max(M.header.toString().length,...h.getColumn(M.number).values.slice(1).map(A=>(A==null?void 0:A.toString().length)||0))+2)}),h.eachRow({includeEmpty:!1},M=>{M.eachCell({includeEmpty:!1},A=>{A.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})});const w=await c.xlsx.writeBuffer(),y=new Blob([w],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});ug.saveAs(y,`apartments_${new Date().toISOString().split("T")[0]}${je!=null&&je.search?`_${je.search}`:""}.xlsx`),L.success("Excel file exported successfully!")}catch(c){console.error("Error exporting to Excel:",c),L.error("Error exporting to Excel. Please try again.")}},Tt=async c=>{var h,j,k,w,y,M;try{let A="",q={};switch(c){case"all":A=route("devices.export.ninjaone.all"),q={},L.info("Exporting all NinjaOne devices...");break;case"building":A=route("devices.export.ninjaone.building"),q={building_id:S.id},L.info(`Exporting NinjaOne devices for building: ${S.name}...`);break;case"apartment":A=route("devices.export.ninjaone.apartments"),q={building_id:S.id,apartment_ids:C.data.map(he=>he.id)},L.info(`Exporting NinjaOne devices by apartments for building: ${S.name}...`);break}console.log("=== EXPORT NINJAONE DEBUG ==="),console.log("Export type:",c),console.log("URL:",A),console.log("Data:",q),console.log("Building:",S),console.log("=== END DEBUG ===");const de=await gi.post(A,q,{responseType:"blob",headers:{"Content-Type":"application/json",Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}),ys=new Blob([de.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Cs=window.URL.createObjectURL(ys),ot=document.createElement("a");ot.href=Cs;let rn="";switch(c){case"all":rn=`ninjaone-devices-all-${new Date().toISOString().split("T")[0]}.xlsx`;break;case"building":rn=`ninjaone-devices-building-${S.name.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.xlsx`;break;case"apartment":rn=`ninjaone-devices-apartments-${S.name.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.xlsx`;break}ot.setAttribute("download",rn),document.body.appendChild(ot),ot.click(),ot.remove(),window.URL.revokeObjectURL(Cs),L.success("NinjaOne devices exported successfully!")}catch(A){console.error("=== EXPORT ERROR DEBUG ==="),console.error("Full error:",A),console.error("Error response:",A.response),console.error("Error data:",(h=A.response)==null?void 0:h.data),console.error("Error status:",(j=A.response)==null?void 0:j.status),console.error("Error message:",A.message),console.error("=== END ERROR DEBUG ===");let q="Error exporting NinjaOne devices. Please try again.";if(((k=A.response)==null?void 0:k.status)===404)q="Export route not found. Please contact support.";else if(((w=A.response)==null?void 0:w.status)===403)q="You do not have permission to export NinjaOne devices.";else if(((y=A.response)==null?void 0:y.status)===500)q="Server error occurred while exporting. Please try again later.";else if((M=A.response)!=null&&M.data)try{const de=await A.response.data.text();q=JSON.parse(de).message||q}catch(de){console.error("Could not parse error response:",de)}L.error(q)}},Mi=async(c,h)=>{try{let j="",k={},w="";h||(c?(j=route("devices.export.ninjaone.apartment.members"),k={apartment_id:c},w="Exporting NinjaOne devices for apartment members..."):(j=route("devices.export.ninjaone.building.members"),k={building_id:S.id},w=`Exporting NinjaOne devices for all members in building: ${S.name}...`)),L.info(w);const y=await gi.post(j,k,{responseType:"blob"}),M=new Blob([y.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),A=window.URL.createObjectURL(M),q=document.createElement("a");q.href=A;let de="";h||(c?de=`ninjaone-devices-apartment-${c}-members-${new Date().toISOString().split("T")[0]}.xlsx`:de=`ninjaone-devices-building-${S.name.replace(/\s+/g,"-")}-members-${new Date().toISOString().split("T")[0]}.xlsx`),q.setAttribute("download",de),document.body.appendChild(q),q.click(),q.remove(),window.URL.revokeObjectURL(A),L.success("Members NinjaOne devices exported successfully!")}catch(j){console.error("Error exporting members NinjaOne devices:",j),L.error("Error exporting members NinjaOne devices. Please try again.")}},[Bi,Qt]=U.useState(!1),[Ae,It]=U.useState(null),cs=c=>{It(c),Qt(!0)},Fi=c=>{var k;c.preventDefault();const h=new FormData,j=(k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content");j&&h.append("_token",j),h.append("_method","PUT"),h.append("owner[id]",Ae.id.toString()),h.append("owner[name]",Ae.name),h.append("owner[email]",Ae.email),h.append("owner[phone]",Ae.phone),Pe.post(route("buildings.update-owner",S.id),h,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{Qt(!1),L.success("Superintendent updated!")},onError:()=>{L.error("Error updating superintendent")}})},[Wi,Vt]=U.useState(!1),[$i,Ot]=U.useState(!1),[us,kt]=U.useState(!1),[P,Re]=U.useState(null),[cr,jr]=U.useState(!1),ds=()=>{Re({id:0,name:"",email:"",phone:"",shift:""}),Vt(!0)},Gi=c=>{Re(c),Ot(!0)},fs=c=>{Re(c),kt(!0)},hs=c=>{c.preventDefault(),jr(!0),console.log("=== DOORMAN CREATION DEBUG ==="),console.log("doormanData:",P),console.log("Building ID:",S.id);const h={_method:"PUT",action:"create_doorman",doorman:{name:P.name,email:P.email,phone:P.phone||"",shift:P.shift}};console.log("Post data:",h),console.log("=== END DEBUG ==="),Pe.post(route("buildings.update",S.id),h,{preserveScroll:!0,onSuccess:()=>{Vt(!1),Re(null),L.success("Doorman created successfully!")},onError:j=>{console.error("Doorman creation errors:",j),L.error("Error creating doorman")},onFinish:()=>{jr(!1)}})},Nn=c=>{c.preventDefault(),jr(!0),console.log("=== DOORMAN UPDATE DEBUG ==="),console.log("doormanData:",P),console.log("Building ID:",S.id);const h={_method:"PUT",action:"update_doorman",doorman:{id:P.id,name:P.name,email:P.email,phone:P.phone||"",shift:P.shift}};console.log("Update data:",h),console.log("=== END UPDATE DEBUG ==="),Pe.post(route("buildings.update",S.id),h,{preserveScroll:!0,onSuccess:()=>{Ot(!1),Re(null),L.success("Doorman updated successfully!")},onError:j=>{console.error("Doorman update errors:",j),L.error("Error updating doorman")},onFinish:()=>{jr(!1)}})},Hi=()=>{if(!P){L.error("No doorman selected for deletion");return}jr(!0),console.log("=== DOORMAN DELETE DEBUG ==="),console.log("doormanData:",P),console.log("Building ID:",S.id);const c={_method:"PUT",action:"delete_doorman",doorman:{id:P.id}};console.log("Delete data:",c),console.log("Route:",route("buildings.update",S.id)),console.log("=== END DELETE DEBUG ==="),Pe.post(route("buildings.update",S.id),c,{preserveScroll:!0,onSuccess:h=>{console.log("Delete success response:",h),kt(!1),Re(null),L.success("Doorman deleted successfully!")},onError:h=>{console.error("Doorman deletion errors:",h),h.message?L.error(`Error deleting doorman: ${h.message}`):h["doorman.id"]?L.error(`Validation error: ${h["doorman.id"]}`):typeof h=="string"?L.error(`Error deleting doorman: ${h}`):L.error("Error deleting doorman. Check console for details.")},onFinish:()=>{jr(!1)}})},ps=c=>{Yt(c),Kt(!0)},yn=()=>{ar&&(Ir(!0),Pe.post(route("tenants.reset-password",ar.id),{},{preserveScroll:!0,onSuccess:()=>{Kt(!1),Yt(null),L.success("Password reset successfully! Email notification sent.")},onError:c=>{console.error("Password reset errors:",c),L.error("Error resetting password. Please try again.")},onFinish:()=>{Ir(!1)}}))},Cn=()=>{if(At.length===0){L.error("Please select at least one tenant");return}Ir(!0),Pe.post(route("tenants.bulk-reset-passwords"),{tenant_ids:At},{preserveScroll:!0,onSuccess:()=>{Tr(!1),vn([]),L.success("Bulk password reset completed!")},onError:c=>{console.error("Bulk reset errors:",c),L.error("Error in bulk password reset. Please try again.")},onFinish:()=>{Ir(!1)}})},it=()=>{Ir(!0),Pe.post(route("buildings.reset-passwords",S.id),{},{preserveScroll:!0,onSuccess:()=>{L.success("All building passwords reset successfully!")},onError:c=>{console.error("Building reset errors:",c),L.error("Error resetting building passwords. Please try again.")},onFinish:()=>{Ir(!1)}})};return n.jsx(Ng,{children:n.jsxs(og,{breadcrumbs:nx,children:[n.jsx(lg,{title:"Apartments"}),n.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[n.jsx(Xn,{className:"w-full border-none py-0 shadow-none",children:n.jsx(pi,{className:"p-0",children:n.jsx(Cg,{buildings:bn,selectedId:S.id,onChange:c=>{console.log("=== BUILDING COMBOBOX ONCHANGE CALLED ==="),console.log("New building ID:",c),console.log("Current building ID:",S.id),console.log("Route that will be called:",route("buildings.apartments",c)),console.log("=== CALLING ROUTER.VISIT ==="),Pe.visit(route("buildings.apartments",c))}})})}),n.jsx("div",{className:"flex flex-col sm:flex-row justify-end items-start sm:items-center gap-4",children:n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[n.jsxs(I,{onClick:jn,className:"flex items-center gap-2",children:[n.jsx(gc,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:block",children:"New Apartment"})]}),n.jsxs(I,{onClick:()=>yt(!0),variant:"outline",className:"flex items-center gap-2",children:[n.jsx(Mg,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:block",children:"Bulk Upload"})]}),(((vs=(xs=X.user)==null?void 0:xs.roles)==null?void 0:vs.includes("super-admin"))||((bs=(In=X.user)==null?void 0:In.roles)==null?void 0:bs.includes("owner"))||((_s=(ws=X.user)==null?void 0:ws.roles)==null?void 0:_s.includes("doorman")))&&n.jsxs(Jo,{children:[n.jsx(Qo,{asChild:!0,children:n.jsxs(I,{variant:"outline",className:"flex items-center gap-2 border-orange-300 hover:bg-orange-500 hover:text-white",disabled:lr,children:[n.jsx(oa,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:block",children:"Reset Passwords"}),n.jsx(Me,{className:"ml-1 h-4 w-4"})]})}),n.jsx(Vo,{align:"end",children:n.jsxs(di,{onClick:it,children:[n.jsx(oa,{className:"mr-2 h-4 w-4"}),"Reset All Building Passwords"]})})]})]})}),n.jsxs(Be,{open:re,onOpenChange:c=>{!c&&Ci()?zt(!0):Ee(c)},children:[n.jsx(Fe,{className:"w-full max-w-none sm:max-w-2xl mx-0 sm:mx-4 p-0 overflow-hidden",children:n.jsxs("div",{className:"overflow-y-auto px-6 py-8",style:{maxHeight:"90vh"},children:[n.jsxs(Xe,{className:"mb-6",children:[n.jsx(Ze,{className:"text-2xl",children:ee?"Edit Apartment":"Create New Apartment"}),n.jsx(Er,{children:ee?"Update the apartment information":"Fill in the required fields to create a new apartment"})]}),n.jsxs(Nc,{defaultValue:"apartment",className:"w-full",children:[n.jsxs(yc,{className:"grid w-full grid-cols-2",children:[n.jsx(Jn,{value:"apartment",children:"Apartment"}),n.jsx(Jn,{value:"tenant",children:"Members"})]}),n.jsxs("form",{onSubmit:ee?Ei:Si,children:[n.jsxs(mc,{value:"apartment",className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(_e,{htmlFor:"name",children:["Apartment Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ye,{id:"name",value:Ce.name,onChange:c=>Rt("name",c.target.value),className:`h-11 mt-2 ${nt.name?"border-red-500":""}`,required:!0}),nt.name&&n.jsx("p",{className:"text-sm text-red-500",children:nt.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_e,{htmlFor:"ubicacion",children:"Location"}),n.jsx(pc,{id:"ubicacion",value:Ce.ubicacion,onChange:c=>Rt("ubicacion",c.target.value),rows:3,className:"mt-2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(_e,{htmlFor:"order",children:["Order ",n.jsx("span",{className:"text-muted-foreground",children:"(optional)"})]}),n.jsx(Ye,{id:"order",type:"number",min:"0",value:Ce.order,onChange:c=>Rt("order",parseInt(c.target.value)||0),className:"h-11 mt-2",placeholder:"Enter display order (0 = first)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Use this to control the order in which apartments are displayed. Lower numbers appear first."}),nt.order&&n.jsx("p",{className:"text-sm text-red-500",children:nt.order})]})]}),n.jsx(mc,{value:"tenant",className:"space-y-6",children:n.jsx("div",{className:"h-[400px] max-h-[400px] overflow-y-auto",children:n.jsx(Sg,{tenants:Ce.tenants,onTenantsChange:c=>Rt("tenants",c),errors:nt,apartmentId:ee==null?void 0:ee.id,onExportMembersNinjaOne:c=>Mi(c)})})}),n.jsxs("div",{className:" px-6 py-4 bg-card flex justify-end gap-4",children:[n.jsx(I,{type:"button",variant:"outline",className:"h-12",onClick:()=>Ee(!1),children:"Cancel"}),n.jsx(I,{type:"submit",disabled:wn,className:"h-12",children:wn?ee?"Updating...":"Creating...":ee?"Update Apartment":"Create Apartment"})]})]})]})]})}),n.jsx(Be,{open:Nt,onOpenChange:zt,children:n.jsxs(Fe,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Do you have unsaved changes?"}),n.jsx(Er,{children:"You have pending changes to the form. Are you sure you want to exit without saving?"})]}),n.jsxs(Yr,{children:[n.jsx(I,{variant:"outline",onClick:()=>zt(!1),children:"Cancel"}),n.jsx(I,{variant:"destructive",onClick:()=>{Ee(!1),zt(!1),Xt(),ye(void 0)},children:"Discard changes"})]})]})})]}),n.jsx(Be,{open:We,onOpenChange:Je,children:n.jsxs(Fe,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Confirm Deletion"}),n.jsxs(Er,{children:["Are you sure you want to delete the apartment ",n.jsx("strong",{children:ee==null?void 0:ee.name}),"? This action cannot be undone."]})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>Je(!1),children:"Cancel"}),n.jsx(I,{type:"button",variant:"destructive",onClick:Ri,children:"Delete"})]})]})}),n.jsx(Be,{open:Ht,onOpenChange:Rr,children:n.jsx(Fe,{className:"min-w-3xl",children:n.jsx(yg,{onClose:()=>{Rr(!1),Pe.reload()},visible:Ht,tenantName:fe||void 0,devices:Mr,shareDevice:Ne,brands:ge,models:l,systems:xe,name_devices:ve,apartmentId:(vr==null?void 0:vr.id)||0,tenantId:(fe==null?void 0:fe.id)||0,tenants:(vr==null?void 0:vr.tenants)||[]})})}),n.jsx(Jg,{isOpen:Ge,onClose:()=>{_t(!1),Vn(null)},tenant:qt}),n.jsx(Be,{open:wr,onOpenChange:yt,children:n.jsxs(Fe,{className:"w-full max-w-md",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Bulk Upload Apartments"}),n.jsx(Er,{children:"Upload an Excel file with apartments and their members information"})]}),n.jsxs("form",{onSubmit:as,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(_e,{htmlFor:"excel-file",children:["Excel File ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ye,{id:"excel-file",type:"file",accept:".xlsx,.xls",onChange:ki,className:"h-11 mt-2",required:!0}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Supported formats: .xlsx, .xls"})]}),n.jsxs("div",{className:"bg-corporate-gold/10 dark:bg-corporate-gold/20 border border-corporate-gold/20 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-corporate-gold dark:text-corporate-gold-light mb-2",children:"Excel Format Required:"}),n.jsxs("ul",{className:"text-sm text-corporate-dark-brown dark:text-corporate-gold-light/80 space-y-1",children:[n.jsxs("li",{children:["• ",n.jsx("strong",{children:"apartment:"})," Apartment name"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"order:"})," Apartment order (optional, default: 0)"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"name:"})," Member name"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"email:"})," Member email"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"phone:"})," Member phone"]})]}),n.jsx("div",{className:"mt-3 p-2 bg-corporate-warm/10 border border-corporate-warm/20 rounded text-sm",children:n.jsxs("p",{className:"text-corporate-dark-brown dark:text-corporate-gold-light/80",children:[n.jsx("strong",{children:"Limitations:"})," Maximum 1000 rows, 10MB file size"]})}),n.jsx(I,{type:"button",variant:"link",className:"text-corporate-gold p-0 h-auto mt-2 hover:text-corporate-warm",onClick:Li,children:"Download Template"})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>yt(!1),disabled:Oe,children:"Cancel"}),n.jsx(I,{type:"submit",disabled:Oe||!xn,children:Oe?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading..."]}):"Upload"})]})]})]})}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"w-full lg:w-4/12 space-y-6",children:[S.owner&&n.jsx(Xn,{className:"overflow-hidden !p-0 border-2 border-corporate-gold/20 hover:border-corporate-gold/40 transition-all duration-300 hover:shadow-xl group bg-gradient-to-br from-white to-corporate-gold/5 dark:from-dark-brown to-corporate-gold/10",children:n.jsxs(pi,{className:"p-0",children:[n.jsxs("div",{className:"bg-gradient-to-r from-corporate-gold/15 via-corporate-gold/10 to-corporate-gold/5 dark:from-corporate-gold/25 dark:via-corporate-gold/15 dark:to-corporate-gold/10 p-4 border-b border-corporate-gold/20 relative overflow-hidden flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-corporate-gold dark:text-corporate-gold-light relative z-10",children:[n.jsx(ra,{className:"w-4 h-4"}),n.jsx("span",{className:"font-bold text-sm",children:"Superintendent"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx(I,{size:"icon",variant:"ghost",onClick:()=>S.owner&&cs({id:1,name:S.owner.name,email:S.owner.email,phone:S.owner.phone}),children:n.jsx(ta,{className:"w-4 h-4"})})})]}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-5",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:`/storage/${S.owner.photo}`,alt:S.owner.name,className:"w-20 h-20 rounded-full object-cover border-3 border-corporate-gold/30 shadow-lg group-hover:border-corporate-gold/50 transition-all duration-300 group-hover:shadow-xl",onError:c=>{c.currentTarget.src="/images/default-user.png"}}),n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-corporate-gold/40 opacity-0 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300"})]}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-7 h-7 bg-gradient-to-br from-corporate-warm via-corporate-gold to-corporate-dark-brown rounded-full border-3 border-background shadow-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:n.jsx(Bg,{className:"w-4 h-4 text-white"})})]}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-corporate-gold transition-colors",children:S.owner.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:"w-2 h-2 bg-corporate-gold rounded-full animate-pulse"}),n.jsx("p",{className:"text-sm text-muted-foreground font-semibold",children:"Property Owner"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("a",{href:`mailto:${S.owner.email}`,className:"flex items-center gap-3 text-sm group/item hover:bg-corporate-gold/5 px-3 rounded-lg transition-all duration-300 cursor-pointer border border-transparent hover:border-corporate-gold/20",children:[n.jsx("a",{href:`mailto:${S.owner.email}`,className:"w-8 h-8 rounded-full bg-gradient-to-br from-corporate-gold/20 to-corporate-warm/20 flex items-center justify-center group-hover/item:from-corporate-gold/30 group-hover/item:to-corporate-warm/30 transition-all duration-300 group-hover/item:scale-110",children:n.jsx(sa,{className:"w-4 h-4 text-corporate-gold dark:text-corporate-gold-light"})}),n.jsx("span",{className:"text-muted-foreground group-hover/item:text-foreground font-medium flex-1",children:S.owner.email})]}),n.jsxs("a",{href:`tel:${S.owner.phone}`,className:"flex items-center gap-3 text-sm group/item hover:bg-corporate-gold/5 px-3 rounded-lg transition-all duration-300 cursor-pointer border border-transparent hover:border-corporate-gold/20",children:[n.jsx("a",{href:`tel:${S.owner.phone}`,className:"w-8 h-8 rounded-full bg-gradient-to-br from-corporate-warm/20 to-corporate-gold/20 flex items-center justify-center group-hover/item:from-corporate-warm/30 group-hover/item:to-corporate-gold/30 transition-all duration-300 group-hover/item:scale-110",children:n.jsx(ia,{className:"w-4 h-4 text-corporate-warm dark:text-corporate-gold-light"})}),n.jsx("span",{className:"text-muted-foreground group-hover/item:text-foreground font-medium flex-1",children:S.owner.phone})]})]})]})]})})]})}),n.jsx(Be,{open:Bi,onOpenChange:Qt,children:n.jsxs(Fe,{children:[n.jsx(Xe,{children:n.jsx(Ze,{children:"Edit Superintendent"})}),n.jsxs("form",{onSubmit:Fi,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(_e,{children:"Name"}),n.jsx(Ye,{value:(Ae==null?void 0:Ae.name)||"",onChange:c=>It(h=>h?{...h,name:c.target.value}:null),placeholder:"Name"})]}),n.jsxs("div",{children:[n.jsx(_e,{children:"Email"}),n.jsx(Ye,{value:(Ae==null?void 0:Ae.email)||"",onChange:c=>It(h=>h?{...h,email:c.target.value}:null),placeholder:"Email"})]}),n.jsxs("div",{children:[n.jsx(_e,{children:"Phone"}),n.jsx(Ye,{value:(Ae==null?void 0:Ae.phone)||"",onChange:c=>It(h=>h?{...h,phone:c.target.value}:null),placeholder:"Phone"})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>Qt(!1),children:"Cancel"}),n.jsx(I,{type:"submit",children:"Save"})]})]})]})}),n.jsx(Be,{open:Wi,onOpenChange:Vt,children:n.jsxs(Fe,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Add New Doorman"}),n.jsx(Er,{children:"Fill in the information for the new doorman"})]}),n.jsxs("form",{onSubmit:hs,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(_e,{htmlFor:"doorman-name",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ye,{id:"doorman-name",value:(P==null?void 0:P.name)||"",onChange:c=>Re(h=>h?{...h,name:c.target.value}:null),placeholder:"Enter doorman's name",required:!0})]}),n.jsxs("div",{children:[n.jsxs(_e,{htmlFor:"doorman-email",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ye,{id:"doorman-email",type:"email",value:(P==null?void 0:P.email)||"",onChange:c=>Re(h=>h?{...h,email:c.target.value}:null),placeholder:"Enter doorman's email",required:!0})]}),n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"doorman-phone",children:"Phone"}),n.jsx(Ye,{id:"doorman-phone",value:(P==null?void 0:P.phone)||"",onChange:c=>Re(h=>h?{...h,phone:c.target.value}:null),placeholder:"Enter doorman's phone"})]}),n.jsxs("div",{children:[n.jsxs(_e,{htmlFor:"doorman-shift",children:["Shift ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{id:"doorman-shift",value:(P==null?void 0:P.shift)||"",onChange:c=>Re(h=>h?{...h,shift:c.target.value}:null),className:"w-full h-11 px-3 rounded-md border border-input bg-background text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",required:!0,children:[n.jsx("option",{value:"",children:"Select shift"}),n.jsx("option",{value:"morning",children:"Morning"}),n.jsx("option",{value:"afternoon",children:"Afternoon"}),n.jsx("option",{value:"night",children:"Night"})]})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>Vt(!1),disabled:cr,children:"Cancel"}),n.jsx(I,{type:"submit",disabled:cr,children:cr?"Creating...":"Create Doorman"})]})]})]})}),n.jsx(Be,{open:$i,onOpenChange:Ot,children:n.jsxs(Fe,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Edit Doorman"}),n.jsx(Er,{children:"Update the doorman's information"})]}),n.jsxs("form",{onSubmit:Nn,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(_e,{htmlFor:"edit-doorman-name",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ye,{id:"edit-doorman-name",value:(P==null?void 0:P.name)||"",onChange:c=>Re(h=>h?{...h,name:c.target.value}:null),placeholder:"Enter doorman's name",required:!0})]}),n.jsxs("div",{children:[n.jsxs(_e,{htmlFor:"edit-doorman-email",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Ye,{id:"edit-doorman-email",type:"email",value:(P==null?void 0:P.email)||"",onChange:c=>Re(h=>h?{...h,email:c.target.value}:null),placeholder:"Enter doorman's email",required:!0})]}),n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"edit-doorman-phone",children:"Phone"}),n.jsx(Ye,{id:"edit-doorman-phone",value:(P==null?void 0:P.phone)||"",onChange:c=>Re(h=>h?{...h,phone:c.target.value}:null),placeholder:"Enter doorman's phone"})]}),n.jsxs("div",{children:[n.jsxs(_e,{htmlFor:"edit-doorman-shift",children:["Shift ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{id:"edit-doorman-shift",value:(P==null?void 0:P.shift)||"",onChange:c=>Re(h=>h?{...h,shift:c.target.value}:null),className:"w-full h-11 px-3 rounded-md border border-input bg-background text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",required:!0,children:[n.jsx("option",{value:"",children:"Select shift"}),n.jsx("option",{value:"morning",children:"Morning"}),n.jsx("option",{value:"afternoon",children:"Afternoon"}),n.jsx("option",{value:"night",children:"Night"})]})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>Ot(!1),disabled:cr,children:"Cancel"}),n.jsx(I,{type:"submit",disabled:cr,children:cr?"Updating...":"Update Doorman"})]})]})]})}),n.jsx(Be,{open:us,onOpenChange:kt,children:n.jsxs(Fe,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Delete Doorman"}),n.jsxs(Er,{children:["Are you sure you want to delete ",n.jsx("strong",{children:P==null?void 0:P.name}),"? This action cannot be undone."]})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>kt(!1),disabled:cr,children:"Cancel"}),n.jsx(I,{type:"button",variant:"destructive",onClick:Hi,disabled:cr,children:cr?"Deleting...":"Delete Doorman"})]})]})}),n.jsxs("div",{className:"space-y-4 w-full",children:[n.jsxs("div",{className:"flex items-center gap-3 px-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-corporate-gold dark:text-corporate-gold-light",children:[n.jsx(ra,{className:"w-5 h-5"}),n.jsx("h3",{className:"text-lg font-bold",children:"Doormen"})]}),n.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-corporate-gold/30 to-transparent"}),n.jsxs("span",{className:"text-xs text-muted-foreground bg-corporate-gold/10 border border-corporate-gold/20 px-2 py-1 rounded-full font-medium",children:[((js=S.doormen)==null?void 0:js.length)||0," ",(((en=S.doormen)==null?void 0:en.length)||0)===1?"Guard":"Guards"]}),n.jsxs(I,{size:"sm",variant:"outline",onClick:ds,className:"ml-2",children:[n.jsx(gc,{className:"w-4 h-4"})," Add Doorman"]})]}),S.doormen&&S.doormen.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.doormen.map((c,h)=>n.jsxs(Xn,{className:"group !p-0 overflow-hidden border-2 border-corporate-gold/20 hover:border-corporate-gold/40 transition-all duration-300 hover:-translate-y-1 bg-gradient-to-br from-white to-corporate-gold/5 dark:from-dark-brown dark:to-corporate-gold/10 relative",style:{animationDelay:`${h*150}ms`},children:[n.jsxs("div",{className:"absolute top-3 right-3 z-10 flex gap-1 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 bg-white/80 hover:bg-white hover:text-primary-foreground shadow-sm border border-corporate-gold/20 hover:border-corporate-gold/40",onClick:()=>Gi(c),children:n.jsx(ta,{className:"w-3.5 h-3.5 text-corporate-gold"})}),n.jsx(I,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 bg-white/80 hover:bg-red-50 shadow-sm border border-red-200 hover:border-red-300",onClick:()=>fs(c),children:n.jsx(xc,{className:"w-3.5 h-3.5 text-red-500"})})]}),n.jsxs(pi,{className:"p-4",children:[n.jsx("div",{className:"relative mb-4",children:n.jsxs("div",{className:"relative mx-auto w-20 h-20",children:[n.jsx("img",{src:`/storage/${c.photo}`,alt:c.name,className:"w-full h-full rounded-full object-cover border-3 border-corporate-gold/20 group-hover:border-corporate-gold/50 transition-all duration-300 shadow-lg group-hover:shadow-xl",onError:j=>{j.currentTarget.src="/images/default-user.png"}}),n.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-corporate-gold/30 opacity-0 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300"}),n.jsx("div",{className:"absolute -bottom-1 -right-1",children:n.jsx("div",{className:`w-5 h-5 rounded-full border-2 border-white shadow-sm ${c.shift.toLowerCase().includes("morning")?"bg-yellow-400":c.shift.toLowerCase().includes("night")?"bg-blue-900":"bg-orange-500"}`})})]})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h4",{className:"text-sm font-bold text-corporate-gold dark:text-corporate-gold-light line-clamp-1 group-hover:text-corporate-warm transition-colors",children:c.name}),n.jsx("div",{className:"flex items-center justify-center gap-2",children:n.jsxs("span",{className:"text-xs font-medium text-muted-foreground capitalize",children:[c.shift," Shift"]})}),c.email&&n.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground",children:[n.jsx(sa,{className:"w-3 h-3"}),n.jsx("span",{className:"truncate max-w-[120px]",children:c.email})]}),c.phone&&n.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-muted-foreground",children:[n.jsx(ia,{className:"w-3 h-3"}),n.jsx("span",{children:c.phone})]})]})]})]},c.id))}):n.jsxs("div",{className:"text-center py-8 px-4 bg-corporate-gold/5 border border-corporate-gold/20 rounded-lg",children:[n.jsx(ra,{className:"w-12 h-12 mx-auto text-corporate-gold/40 mb-3"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"No doormen assigned to this building"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Add Doorman" to assign security personnel'})]})]}),S.location_link&&n.jsxs(Xn,{className:"overflow-hidden !p-0 border-2 border-corporate-gold/20 hover:border-corporate-gold/40 transition-all duration-300 hover:shadow-xl group bg-gradient-to-br from-white to-corporate-gold/5 dark:from-dark-brown dark:to-corporate-gold/10",children:[n.jsxs("div",{className:"bg-gradient-to-r from-corporate-gold/10 via-corporate-gold/15 to-corporate-gold/10 dark:from-corporate-gold/20 dark:via-corporate-gold/25 dark:to-corporate-gold/20 p-4 border-b border-corporate-gold/20 relative overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-2 text-corporate-gold dark:text-corporate-gold-light relative z-10",children:[n.jsx("div",{className:"p-2 bg-corporate-gold/10 rounded-full group-hover:bg-corporate-gold/20 transition-colors duration-300",children:n.jsx(Wg,{className:"w-4 h-4"})}),n.jsx("span",{className:"font-bold text-sm",children:"Building Location"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-corporate-gold/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -translate-x-full group-hover:translate-x-full duration-1000"})]}),n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsxs("div",{className:"aspect-video relative",children:[(console.log("=== RENDERING IFRAME ==="),console.log("Building location_link:",S.location_link),console.log("Generated iframe src:",os((S==null?void 0:S.location_link)||"")),console.log("Iframe key:",`map-${S.id}-${Ct}`),console.log("=== END IFRAME RENDER ==="),null),n.jsx("iframe",{src:os((S==null?void 0:S.location_link)||""),width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"group-hover:scale-105 transition-transform duration-700 ease-out",onLoad:()=>console.log("Iframe loaded successfully"),onError:()=>console.log("Iframe failed to load")},`map-${S.id}-${Ct}`)]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),n.jsx("div",{className:"absolute top-3 right-3 w-3 h-3 bg-corporate-gold/60 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:scale-150"}),n.jsx("div",{className:"absolute bottom-3 left-3 w-2 h-2 bg-corporate-warm/60 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-500 group-hover:scale-125"})]})]})]}),n.jsxs("div",{className:"lg:w-8/12 flex flex-col",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 p-4 bg-corporate-gold/5 dark:bg-corporate-gold/10 border border-corporate-gold/20 rounded-lg",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx($g,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${$?"text-corporate-gold animate-pulse":"text-corporate-gold/60"}`}),n.jsx(Ye,{ref:Zt,placeholder:"Search apartments, members, locations...",value:be,onChange:c=>ss(c.target.value),className:"pl-10 w-80 border-corporate-gold/20 focus:border-corporate-gold focus:ring-corporate-gold/20",disabled:$}),$&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-corporate-gold"})}),be&&!$&&n.jsx("button",{onClick:()=>ss(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-corporate-gold/60 hover:text-corporate-gold transition-colors",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Jo,{children:[n.jsx(Qo,{asChild:!0,children:n.jsxs(I,{variant:"outline",size:"sm",className:"border-corporate-gold/20 hover:bg-primary hover:border-corporate-gold",children:[n.jsx(Gg,{className:"mr-2 h-4 w-4"}),"Columns ",n.jsx(Me,{className:"ml-1 h-4 w-4"})]})}),n.jsx(Vo,{align:"end",className:"w-48",children:st.getAllColumns().filter(c=>c.getCanHide()).map(c=>n.jsx(ag,{className:"capitalize",checked:c.getIsVisible(),onCheckedChange:h=>c.toggleVisibility(!!h),children:c.id.replace(/_/g," ")},c.id))})]}),n.jsxs(Jo,{children:[n.jsx(Qo,{asChild:!0,children:n.jsxs(I,{variant:"outline",size:"sm",className:"border-corporate-gold/20 hover:bg-primary hover:border-corporate-gold",children:[n.jsx(Hg,{className:"mr-2 h-4 w-4"}),"Export ",n.jsx(Me,{className:"ml-1 h-4 w-4"})]})}),n.jsxs(Vo,{align:"end",children:[n.jsxs(di,{onClick:Jt,children:[n.jsx(vc,{className:"mr-2 h-4 w-4"}),"Export to CSV"]}),n.jsxs(di,{onClick:Pi,children:[n.jsx(vc,{className:"mr-2 h-4 w-4"}),"Export to Excel"]}),n.jsxs(di,{onClick:()=>Tt("building"),children:[n.jsx(Fg,{className:"mr-2 h-4 w-4 "}),"Export NinjaOne"]})]})]})]})]}),n.jsx("div",{className:"rounded-md border mt-4",children:n.jsxs(fg,{children:[n.jsx(hg,{children:st.getHeaderGroups().map(c=>n.jsx(xi,{children:c.headers.map(h=>n.jsx(pg,{children:jc(h.column.columnDef.header,h.getContext())},h.id))},c.id))}),n.jsx(mg,{children:(Ns=st.getRowModel().rows)!=null&&Ns.length?st.getRowModel().rows.map(c=>n.jsx(tx,{row:c,handleShowDevices:Di,handleShowTicketHistory:Ti,handleResetPassword:ps,auth:X,setSelectedTenantForTicketCreation:es,setShowCreateTicketDevicesModal:Vr,setSelectedApartment:bt,setSelectedTenant:Jr,setSelectedDevices:wt,setSelectedShareDevices:br,isResettingPassword:lr},c.id)):n.jsx(xi,{children:n.jsx(hi,{colSpan:ls.length,className:"h-24 text-center",children:"No results found."})})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 border-t border-corporate-gold/20 bg-corporate-gold/5 dark:bg-corporate-gold/10",children:[n.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:n.jsxs("span",{children:["Showing ",(C.meta.current_page-1)*C.meta.per_page+1," to"," ",Math.min(C.meta.current_page*C.meta.per_page,C.meta.total)," ","of ",C.meta.total," entries"]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs(I,{variant:"outline",size:"sm",onClick:()=>Dt(1),disabled:C.meta.current_page===1,className:"h-8 w-8 p-0",children:[n.jsx(na,{className:"h-4 w-4"}),n.jsx(na,{className:"h-4 w-4 -ml-2"})]}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>Dt(C.meta.current_page-1),disabled:C.meta.current_page===1,className:"h-8 w-8 p-0",children:n.jsx(na,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Page"}),n.jsx("input",{type:"number",value:C.meta.current_page,onChange:c=>{const h=c.target.value?Number(c.target.value):1;h>=1&&h<=C.meta.last_page&&Dt(h)},className:"w-12 h-8 text-center border rounded text-sm bg-background",min:"1",max:C.meta.last_page}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["of ",C.meta.last_page]})]}),n.jsx(I,{variant:"outline",size:"sm",onClick:()=>Dt(C.meta.current_page+1),disabled:C.meta.current_page===C.meta.last_page,className:"h-8 w-8 p-0",children:n.jsx(gn,{className:"h-4 w-4"})}),n.jsxs(I,{variant:"outline",size:"sm",onClick:()=>Dt(C.meta.last_page),disabled:C.meta.current_page===C.meta.last_page,className:"h-8 w-8 p-0",children:[n.jsx(gn,{className:"h-4 w-4"}),n.jsx(gn,{className:"h-4 w-4 -ml-2"})]})]})})]})]})]})]}),n.jsx(Be,{open:Qr,onOpenChange:Vr,children:n.jsxs(Fe,{className:"sm:max-w-[600px]",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Select Device"}),n.jsxs(Er,{children:["Choose a device for apartment ",Qe==null?void 0:Qe.name," to create a ticket."]})]}),n.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[Mr.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Personal Devices"}),n.jsx("div",{className:"space-y-2",children:Mr.map(c=>{var h,j,k;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>is(c),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-corporate-gold/10 flex items-center justify-center",children:n.jsx(_i,{className:"w-5 h-5 text-corporate-gold"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:c.name||((h=c==null?void 0:c.name_device)==null?void 0:h.name)}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[(j=c.brand)==null?void 0:j.name," - ",(k=c.model)==null?void 0:k.name]})]})]}),n.jsx(gn,{className:"h-4 w-4 text-gray-400"})]},c.id)})})]}),Ne.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Shared Devices"}),n.jsx("div",{className:"space-y-2",children:Ne.map(c=>{var h,j;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>is(c),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:n.jsx(Qn,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:c.name||"Unknown Device"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[(h=c.brand)==null?void 0:h.name," - ",(j=c.model)==null?void 0:j.name," (Shared)"]})]})]}),n.jsx(gn,{className:"h-4 w-4 text-gray-400"})]},c.id)})})]}),Mr.length===0&&Ne.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(_i,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{className:"font-medium",children:"No devices available"}),n.jsx("p",{className:"text-sm",children:"This member doesn't have any devices assigned."})]})]})]})}),n.jsx(Be,{open:ji,onOpenChange:Dr,children:n.jsxs(Fe,{className:"sm:max-w-[500px]",children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Create Ticket"}),n.jsxs(Er,{children:["Creating ticket for ",fe==null?void 0:fe.name," in apartment ",Qe==null?void 0:Qe.name," - ",et==null?void 0:et.name]})]}),n.jsxs("form",{onSubmit:Ii,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"category",children:"Category *"}),n.jsxs(bg,{value:oe.data.category,onValueChange:c=>oe.setData("category",c),children:[n.jsx(wg,{children:n.jsx(_g,{placeholder:"Select category"})}),n.jsxs(jg,{children:[n.jsx(Yn,{value:"Hardware",children:"Hardware"}),n.jsx(Yn,{value:"Software",children:"Software"}),n.jsx(Yn,{value:"Red",children:"Network"}),n.jsx(Yn,{value:"Soporte",children:"Support"}),n.jsx(Yn,{value:"Otro",children:"Other"})]})]}),oe.errors.category&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:oe.errors.category})]}),n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"title",children:"Title *"}),n.jsx(Ye,{id:"title",value:oe.data.title,onChange:c=>oe.setData("title",c.target.value),placeholder:"Enter ticket title",required:!0}),oe.errors.title&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:oe.errors.title})]}),n.jsxs("div",{children:[n.jsx(_e,{htmlFor:"description",children:"Description"}),n.jsx(pc,{id:"description",value:oe.data.description,onChange:c=>oe.setData("description",c.target.value),placeholder:"Describe the issue...",rows:4}),oe.errors.description&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:oe.errors.description})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>Dr(!1),children:"Cancel"}),n.jsx(I,{type:"submit",disabled:oe.processing,children:oe.processing?"Creating...":"Create Ticket"})]})]})]})}),n.jsx(Be,{open:St,onOpenChange:Kt,children:n.jsxs(Fe,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Reset Password"}),n.jsxs(Er,{children:["Are you sure you want to reset the password for ",n.jsx("strong",{children:ar==null?void 0:ar.name}),"?",n.jsx("br",{}),n.jsx("br",{}),"The password will be changed to their email address: ",n.jsx("strong",{children:ar==null?void 0:ar.email}),n.jsx("br",{}),"An email notification will be sent to them with their new credentials."]})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>Kt(!1),disabled:lr,children:"Cancel"}),n.jsx(I,{type:"button",variant:"destructive",onClick:yn,disabled:lr,children:lr?"Resetting...":"Reset Password"})]})]})}),n.jsx(Be,{open:Et,onOpenChange:Tr,children:n.jsxs(Fe,{children:[n.jsxs(Xe,{children:[n.jsx(Ze,{children:"Bulk Password Reset"}),n.jsxs(Er,{children:["Are you sure you want to reset passwords for ",n.jsx("strong",{children:At.length})," selected members?",n.jsx("br",{}),n.jsx("br",{}),"Each member's password will be changed to their email address and they will receive email notifications with their new credentials."]})]}),n.jsxs(Yr,{children:[n.jsx(I,{type:"button",variant:"outline",onClick:()=>Tr(!1),disabled:lr,children:"Cancel"}),n.jsx(I,{type:"button",variant:"destructive",onClick:Cn,disabled:lr,children:lr?"Resetting...":"Reset All Passwords"})]})]})})]})})}const tx=({row:C,handleShowDevices:ge,handleShowTicketHistory:l,handleResetPassword:xe,auth:ve,setSelectedTenantForTicketCreation:je,setShowCreateTicketDevicesModal:X,setSelectedApartment:Ur,setSelectedTenant:Pr,setSelectedDevices:ne,setSelectedShareDevices:Ar,isResettingPassword:Ie})=>{var $,J;const[ir,be]=U.useState(!1),se=C.original;return n.jsxs(n.Fragment,{children:[n.jsx(xi,{"data-state":C.getIsSelected()&&"selected",className:"hover:bg-muted/50 transition-colors group",children:C.getVisibleCells().map(O=>{var or,re;return O.column.id==="tenants_count"?n.jsx(hi,{children:n.jsx("div",{className:"cursor-pointer hover:bg-muted/70 p-3 rounded-lg transition-all duration-200 group-hover:bg-muted/30",onClick:()=>be(!ir),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`
                                            flex items-center justify-center w-8 h-8 rounded-full 
                                            bg-gradient-to-br from-corporate-gold/10 to-corporate-gold/20 
                                            border border-corporate-gold/20 transition-all duration-300 
                                            hover:from-corporate-gold/20 hover:to-corporate-gold/30 hover:border-corporate-gold/30
                                            hover:scale-110 hover:shadow-md
                                            ${ir?"bg-gradient-to-br from-corporate-gold/20 to-corporate-gold/30 border-corporate-gold/40 shadow-sm":""}
                                        `,children:n.jsx(gn,{className:`
                                                w-4 h-4 text-corporate-gold transition-all duration-300 ease-in-out
                                                ${ir?"rotate-90 scale-110":"hover:scale-105"}
                                            `})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`
                                                flex items-center justify-center w-6 h-6 rounded-full 
                                                bg-gradient-to-br from-corporate-gold/20 to-corporate-warm/20 text-corporate-gold
                                                transition-all duration-200 hover:from-corporate-gold/30 hover:to-corporate-warm/30
                                            `,children:n.jsx(Qn,{className:"w-3 h-3"})}),n.jsx("span",{className:"font-semibold text-corporate-gold dark:text-corporate-gold-light",children:((or=se.tenants)==null?void 0:or.length)||0}),n.jsx("span",{className:"text-muted-foreground text-sm font-medium",children:((re=se.tenants)==null?void 0:re.length)===1?"member":"members"})]}),se.tenants&&se.tenants.length>0&&n.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:n.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded-full",children:ir?"Click to collapse":"Click to expand"})})]})})},O.id):n.jsx(hi,{children:O.column.columnDef.cell?jc(O.column.columnDef.cell,O.getContext()):null},O.id)})}),ir&&se.tenants&&se.tenants.length>0&&n.jsx(xi,{className:"border-b bg-gradient-to-r from-corporate-gold/5 to-corporate-gold/10 dark:from-corporate-gold/10 dark:to-corporate-gold/15",children:n.jsx(hi,{colSpan:5,className:"p-6",children:n.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-300",children:[n.jsxs("div",{className:"text-sm font-semibold text-muted-foreground mb-4 flex items-center gap-2",children:[n.jsx("div",{className:"w-1 h-4 bg-corporate-gold rounded-full"}),n.jsx(Qn,{className:"w-4 h-4 text-corporate-gold"}),n.jsxs("span",{children:["Apartment Members (",(($=se.tenants)==null?void 0:$.length)||0,")"]})]}),n.jsx("div",{className:"grid gap-4",children:(J=se.tenants)==null?void 0:J.map((O,or)=>{var re,Ee,We,Je,ee,$e,Xr,Zr,vr,bt,fe,Jr,Mr,wt;return n.jsxs("div",{className:"flex items-center justify-between gap-4 p-5 bg-background border border-corporate-gold/20 rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 hover:border-corporate-gold/40 group/member",style:{animationDelay:`${or*100}ms`,animation:"fadeInUp 0.4s ease-out forwards"},children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"relative",children:n.jsx("img",{src:`/storage/${O.photo}`,alt:O.name,className:"w-14 h-14 rounded-full object-cover border-2 border-corporate-gold/20 shadow-sm group-hover/member:border-corporate-gold/40 transition-all duration-200",onError:Ne=>{Ne.currentTarget.src="/images/default-user.png"}})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h4",{className:"font-bold text-corporate-gold dark:text-corporate-gold-light text-lg",children:O.name}),n.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-corporate-gold/10 to-corporate-gold/20 text-corporate-gold border border-corporate-gold/20 text-xs font-medium rounded-full",children:"Member"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-2 text-sm",children:[n.jsxs("a",{href:`mailto:${O.email}`,className:"flex items-center gap-2 text-muted-foreground hover:text-corporate-gold transition-colors",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-corporate-gold/20 flex items-center justify-center",children:n.jsx(sa,{className:"w-3 h-3 text-corporate-gold"})}),n.jsx("span",{className:"font-medium",children:O.email})]}),n.jsxs("a",{href:`tel:${O.phone}`,className:"flex items-center gap-2 text-muted-foreground hover:text-corporate-gold transition-colors",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-corporate-warm/20 flex items-center justify-center",children:n.jsx(ia,{className:"w-3 h-3 text-corporate-warm"})}),n.jsx("span",{className:"font-medium",children:O.phone})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsxs(I,{variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-corporate-gold hover:text-primary-foreground transition-all duration-300 border-corporate-gold/20 hover:border-corporate-gold group-hover/member:border-corporate-gold/40",onClick:()=>{var _t,qt;console.log("=== CREATE TICKET BUTTON CLICKED ==="),console.log("User roles array:",(_t=ve.user)==null?void 0:_t.roles),console.log("Tenant:",O),console.log("Tenant devices:",O.devices),console.log("Tenant shared devices:",O.shared_devices),console.log("Apartment:",se),console.log("=== END CREATE TICKET BUTTON DEBUG ===");const Ne=((qt=ve.user)==null?void 0:qt.roles)||[],br=Ne.includes("superadmin")||Ne.includes("super-admin"),Ht=Ne.includes("owner"),Rr=Ne.includes("doorman"),Ge=Ne.includes("technical");(br||Ht||Rr||Ge)&&(Ur(se),Pr(O),ne(O.devices||[]),Ar(O.shared_devices||[]),je(se),X(!0))},children:[n.jsx(_i,{className:"w-4 h-4"}),n.jsx("span",{className:"font-bold text-base",children:Number(((re=O.devices)==null?void 0:re.length)||0)+Number(((Ee=O.shared_devices)==null?void 0:Ee.length)||0)})]})}),n.jsx(vt,{children:n.jsxs("p",{children:["Create ticket - ",Number(((We=O.devices)==null?void 0:We.length)||0)+Number(((Je=O.shared_devices)==null?void 0:Je.length)||0)," devices"]})})]}),((($e=(ee=ve.user)==null?void 0:ee.roles)==null?void 0:$e.includes("super-admin"))||((Zr=(Xr=ve.user)==null?void 0:Xr.roles)==null?void 0:Zr.includes("superadmin")))&&n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsx(I,{variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-purple-500 hover:text-white transition-all duration-300 border-purple-300 hover:border-purple-500",onClick:()=>{console.log("=== MANAGE DEVICES BUTTON CLICKED ==="),console.log("Super admin managing devices for tenant:",O),console.log("Apartment:",se),ge(se,O)},children:n.jsx(_i,{className:"w-4 h-4"})})}),n.jsx(vt,{children:n.jsx("p",{children:"Manage devices"})})]}),n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsxs(I,{variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-blue-500 hover:text-white transition-all duration-300 border-blue-300 hover:border-blue-500",onClick:()=>l(O),children:[n.jsx(qg,{className:"w-4 h-4"}),n.jsx("span",{className:"font-bold text-base",children:O.tickets_count||0})]})}),n.jsx(vt,{children:n.jsxs("p",{children:["View ticket history - ",O.tickets_count||0," tickets"]})})]}),(((bt=(vr=ve.user)==null?void 0:vr.roles)==null?void 0:bt.includes("super-admin"))||((Jr=(fe=ve.user)==null?void 0:fe.roles)==null?void 0:Jr.includes("owner"))||((wt=(Mr=ve.user)==null?void 0:Mr.roles)==null?void 0:wt.includes("doorman")))&&n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsx(I,{variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-orange-500 hover:text-white transition-all duration-300 border-orange-300 hover:border-orange-500",onClick:()=>xe(O),disabled:Ie,children:n.jsx(oa,{className:"w-4 h-4"})})}),n.jsx(vt,{children:n.jsx("p",{children:"Reset password"})})]}),n.jsxs(gt,{children:[n.jsx(xt,{asChild:!0,children:n.jsx(I,{variant:"ghost",size:"icon",onClick:()=>exportMembersNinjaOneDevices(void 0,O.id),children:n.jsx(Ec,{className:"h-4 w-4"})})}),n.jsx(vt,{children:n.jsx("p",{children:"Export member devices"})})]})]})]},O.id)})})]})})})]})},nx=[{title:"Apartments",href:"/apartments"}];export{U0 as default};
