import{j as e}from"./ui--9QRf85z.js";import{r as i}from"./recharts-B16uQ_Zp.js";import{I as h}from"./input-0DEeXnQl.js";import{L as l}from"./label-B8HdVDlN.js";import{B as g}from"./button-3fVzTxZH.js";import{C as D,c as k}from"./card-DuB4YgHF.js";import{a as w}from"./app-DMVUxRuJ.js";import{C as x}from"./react-select-creatable.esm-CdmqIK_8.js";import"./react-B1hewrmX.js";import"./utils-DvwAYYBZ.js";import"./index-Df3HipqK.js";import"./index--i9LXxpm.js";import"./memoize-one.esm-C_vqz2--.js";const u={control:r=>({...r,borderRadius:"0.375rem",borderWidth:"1px",padding:"0.25rem 0.75rem",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1)",minHeight:"3rem",backgroundColor:"transparent",transition:"border-color 0.3s ease, box-shadow 0.3s ease"}),menu:r=>({...r,borderRadius:"0.375rem",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.1)"}),option:(r,n)=>({...r,backgroundColor:n.isSelected?"#e0e7ff":"transparent",color:n.isSelected?"#1e3a8a":"#000",padding:"0.5rem",cursor:"pointer",fontSize:"0.875rem"}),singleValue:r=>({...r,color:"#000",fontSize:"1rem"}),placeholder:r=>({...r,color:"#6b7280",fontSize:"1rem"})},V=({brands:r,models:n,systems:v,customerId:y,onApartmentCreated:f})=>{const[p,b]=i.useState(""),[j,N]=i.useState(""),[m,c]=i.useState([{id:1,name:"",brand:"",model:"",system:""}]),C=()=>{const s=m.length+1;c([...m,{id:s,name:"",brand:"",model:"",system:""}])},o=(s,t,a)=>{const d=[...m];d[s]={...d[s],[t]:a},c(d)},S=async()=>{try{const s=await w.post("/apartments",{name:p,ubicacion:j,customer_id:y,devices:m});f(s.data.apartment),alert("Departamento guardado correctamente"),b(""),N(""),c([{id:1,name:"",brand:"",model:"",system:""}])}catch(s){console.error(s),alert("Error al guardar")}};return e.jsx("div",{className:"p-4",children:e.jsx(D,{children:e.jsxs(k,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"deparment",className:"text-base",children:["Nombre del Departamento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"deparment",value:p,onChange:s=>b(s.target.value),className:"text-base h-12 ",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"ubication",className:"text-base",children:"Ubicación"}),e.jsx(h,{id:"ubication",value:j,onChange:s=>N(s.target.value),className:"text-base h-12 ",required:!0})]})]}),e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Dispositivos"}),m.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"name",className:"text-base",children:["Nombre ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"name",placeholder:"Nombre",value:s.name,className:"text-base h-12 ",required:!0,onChange:a=>o(t,"name",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"brand",className:"text-base",children:["Marca ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{id:"brand",placeholder:"Marca",value:{label:s.brand,value:s.brand},onChange:a=>o(t,"brand",(a==null?void 0:a.value)||""),options:r.map(a=>({label:a.name,value:a.name})),className:"text-black ",styles:u,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"model",className:"text-base",children:["Modelo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{placeholder:"Modelo",value:{label:s.model,value:s.model},onChange:a=>o(t,"model",(a==null?void 0:a.value)||""),options:n.map(a=>({label:a.name,value:a.name})),className:"text-black",styles:u,id:"model",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"system",className:"text-base",children:["Sistema ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(x,{placeholder:"Sistema",value:{label:s.system,value:s.system},onChange:a=>o(t,"system",(a==null?void 0:a.value)||""),options:v.map(a=>({label:a.name,value:a.name})),className:"text-black",styles:u,id:"system",required:!0})]})]},s.id)),e.jsx(g,{type:"button",onClick:C,className:"mb-6",children:"Añadir Dispositivo"}),e.jsx("div",{className:"flex justify-end",children:e.jsx(g,{onClick:S,className:"bg-gray-800 text-white",children:"Guardar Departamento"})})]})})})};export{V as default};
