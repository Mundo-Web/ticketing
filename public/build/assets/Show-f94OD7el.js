import{j as e}from"./ui-D1w9Iw8H.js";import{L as x,$ as j}from"./app-Dj-SiRhF.js";import{A as h}from"./app-layout-gAifGwHo.js";import{B as p}from"./button-BntSAybs.js";import{L as r}from"./label-BbeNXW0L.js";import{C as t,a,b as l,c as i,d as f}from"./card-ujb193xZ.js";import{B as d,f as N}from"./format-B6Rb66cG.js";import{S as u}from"./separator-CjuZY8Fl.js";import{A as g}from"./arrow-left-DzZwtVMy.js";import{F as v,A as c}from"./x-CNM1Dv5p.js";import{C as y}from"./clock-BxVJL7PR.js";import{U as m}from"./user-CtzshXh0.js";import{G as _}from"./globe-CgCnIFno.js";import{M as w}from"./monitor-BMYn5xBp.js";import{D as A}from"./database-DZAg6xN8.js";import{e as b}from"./es-BahIIYDD.js";import{C as D}from"./code-CV9_p9AQ.js";import"./recharts-Dld1lWsf.js";import"./react-B1hewrmX.js";import"./utils-B66yfQja.js";import"./tooltip-CQHbb0yU.js";import"./check-CkciTNW-.js";import"./createLucideIcon-CR-66RMC.js";import"./index-CWijjM2R.js";import"./index-cS_AKGRi.js";import"./index-DrdTBqzy.js";import"./chevrons-up-down-BF_I81uV.js";import"./circle-check-big-DZU7S_eA.js";const C=s=>{switch(s){case"created":return"default";case"updated":return"secondary";case"deleted":return"destructive";case"login":return"outline";case"logout":return"outline";default:return"secondary"}},I=s=>{switch(s){case"login":case"logout":return e.jsx(m,{className:"h-4 w-4"});case"created":case"updated":case"deleted":return e.jsx(c,{className:"h-4 w-4"});default:return e.jsx(c,{className:"h-4 w-4"})}},n=({data:s,title:o})=>s?e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),o]})}),e.jsx(i,{children:e.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto border",children:JSON.stringify(s,null,2)})})]}):null;function te({auditLog:s}){return e.jsxs(h,{children:[e.jsx(x,{title:`Log de Auditoría #${s.id}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{href:route("audit-logs.index"),children:e.jsxs(p,{variant:"outline",size:"sm",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Back"]})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Log de Auditoría #",s.id]}),e.jsx("p",{className:"text-muted-foreground",children:"Complete audit log details"})]})]}),e.jsxs(d,{variant:C(s.action_type),className:"flex items-center gap-2 text-sm px-3 py-1",children:[I(s.action_type),s.readable_action]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5"}),"Información Básica"]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"ID del Log"}),e.jsx("p",{className:"text-sm font-mono",children:s.id})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Action Type"}),e.jsx("p",{className:"text-sm",children:s.readable_action})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Affected Model"}),e.jsx("p",{className:"text-sm",children:s.model_type?e.jsxs(e.Fragment,{children:[s.readable_model,s.model_id&&e.jsxs("span",{className:"text-muted-foreground",children:[" ","(ID: ",s.model_id,")"]})]}):"No aplica"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Date and Time"}),e.jsxs("p",{className:"text-sm flex items-center gap-1",children:[e.jsx(y,{className:"h-3 w-3"}),N(new Date(s.created_at),"dd/MM/yyyy HH:mm:ss",{locale:b})]})]})]}),e.jsx(u,{}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Descripción"}),e.jsx("p",{className:"text-sm mt-1",children:s.description||"Sin descripción disponible"})]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"User Information"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"User"}),e.jsx("p",{className:"text-sm",children:s.user?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium",children:s.user.name}),e.jsx("br",{}),e.jsx("span",{className:"text-muted-foreground",children:s.user.email})]}):"System / Unidentified User"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),e.jsx("p",{className:"text-sm font-mono",children:s.user_id||"N/A"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"ID de Sesión"}),e.jsx("p",{className:"text-sm font-mono break-all",children:s.session_id||"N/A"})]})]})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Información de Red"]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Dirección IP"}),e.jsx("p",{className:"text-sm font-mono",children:s.ip_address||"No disponible"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"Ruta y Método"}),e.jsxs("p",{className:"text-sm font-mono",children:[e.jsx(d,{variant:"outline",className:"mr-2",children:s.method||"N/A"}),s.route||"No disponible"]})]})]})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"Información del Navegador"]})}),e.jsx(i,{children:e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:"User Agent"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1 break-all",children:s.user_agent||"No disponible"})]})})]})]}),(s.old_values||s.new_values)&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.old_values&&e.jsx(n,{data:s.old_values,title:"Valores Anteriores"}),s.new_values&&e.jsx(n,{data:s.new_values,title:"Valores Nuevos"})]}),s.request_data&&e.jsx(n,{data:s.request_data,title:"Datos de la Petición"}),e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Technical Details"]}),e.jsx(f,{children:"Información técnica adicional del registro"})]}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-xs font-medium text-muted-foreground",children:"Model Type (Class)"}),e.jsx("p",{className:"font-mono text-xs",children:s.model_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-xs font-medium text-muted-foreground",children:"Model ID"}),e.jsx("p",{className:"font-mono text-xs",children:s.model_id||"N/A"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-xs font-medium text-muted-foreground",children:"Action Type (Raw)"}),e.jsx("p",{className:"font-mono text-xs",children:s.action_type})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-xs font-medium text-muted-foreground",children:"Timestamp"}),e.jsx("p",{className:"font-mono text-xs",children:new Date(s.created_at).getTime()})]})]})})]})]})]})}export{te as default};
